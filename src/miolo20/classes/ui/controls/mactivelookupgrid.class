<?php
class MActiveLookupGrid extends MActiveGrid
{
    var $query;

    function __construct($query, $columns, $href, $pagelength = 15, $index = 0)
    {
        $this->query = $query;
        parent::__construct($query->result, $columns, $href, $pagelength, $index);
        $this->emptyMsg = 'Nenhum registro encontrado na pesquisa!';
        $this->SetFiltered(true);
    }

    function SetColumns($columns)
    {
        $this->columns = array
            (
            );

        if (!is_array($columns))
            $columns = array($columns);

        foreach ($columns as $k => $c)
        {
            $this->columns[$c->field] = $c;
            $this->columns[$c->field]->index = $this->query->GetColumnNumber($c->field);
            $this->columns[$c->field]->grid = $this;
        }
    }

}
?>