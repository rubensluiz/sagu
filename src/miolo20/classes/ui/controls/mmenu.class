<?php

class MMenu extends MOptionList
{
    var $home;
    var $base;

    function __construct($name = '', $base = '', $home = null)
    {
        parent::__construct($name);
        $this->caption = $name;
        $this->base = $base;

        if ( $home == null )
        {
            $this->home = $this->manager->getConf('options.common');
        }
        else
        {
            $this->home = $home;
        }
    }

    function GetTitle()
    {
        return $this->caption;
    }

    function SetTitle($title)
    {
        $this->caption = $title;
    }

    function GetBase()
    {
        return $this->base;
    }

    function SetBase($base)
    {
        $this->base = $base;
    }

    function GenerateInner()
    {
        if ($this->HasOptions())
        {
            $ul = new UnorderedList();

            if ($title = $this->GetTitle())
                $ul->AddOption(new Div('', $title, 'm-menu-title'));

            $options = $this->GenerateUnOrderedList();
            $ul->options = array_merge($ul->options, $options->options);
            $this->inner = $ul->Generate();
            $this->SetBoxClass('m-menu-box');
        }
    }
}

?>