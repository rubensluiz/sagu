<?php
/**
 * Brief Class Description.
 * Complete Class Description.
 */
class MAutoLoad
{
    /**
     * Attribute Description.
     */
    private $xml;

    /**
     * Attribute Description.
     */
    private $classes = array();

    /**
     * Brief Description.
     * Complete Description.
     *
     * @returns (tipo) desc
     *
     */
    function __construct()
    {
        $file = MIOLO::getInstance( )->getConf('home.classes') . '/etc/autoload.xml';
        $this->xml = new MSimpleXML($file);
    }

    /**
     * Brief Description.
     * Complete Description.
     *
     * @param $className (tipo) desc
     *
     * @returns (tipo) desc
     *
     */
    function getFile($className)
    {
        //echo $className.'<br>';
        if (($fileName = $this->classes[strtolower($className)]) == NULL)
        {
            $value = $this->xml->xpath("loadclass[name='$className']");
            $fileName = (string)$value[0]->file;
            $this->classes[strtolower($className)] = $fileName;
        }

        //var_dump($fileName);
        return $fileName;
    }

    /**
     * Brief Description.
     * Complete Description.
     *
     * @param $className (tipo) desc
     * @param $fileName (tipo) desc
     *
     * @returns (tipo) desc
     *
     */
    function setFile($className, $fileName)
    {
        //echo "<br> setFile - $className = $fileName<br>";
        $this->classes[strtolower($className)] = $fileName;
    }
}
?>
