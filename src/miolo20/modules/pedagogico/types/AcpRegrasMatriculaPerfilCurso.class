<?php
/**
 * <--- Copyright 2005-2013 de Solis - Cooperativa de Soluções Livres Ltda.
 *
 * Este arquivo é parte do programa Sagu.
 *
 * O Sagu é um software livre; você pode redistribuí-lo e/ou modificá-lo
 * dentro dos termos da Licença Pública Geral GNU como publicada pela Fundação
 * do Software Livre (FSF); na versão 2 da Licença.
 *
 * Este programa é distribuído na esperança que possa ser útil, mas SEM
 * NENHUMA GARANTIA; sem uma garantia implícita de ADEQUAÇÃO a qualquer MERCADO
 * ou APLICAÇÃO EM PARTICULAR. Veja a Licença Pública Geral GNU/GPL em
 * português para maiores detalhes.
 *
 * Você deve ter recebido uma cópia da Licença Pública Geral GNU, sob o título
 * "LICENCA.txt", junto com este programa, se não, acesse o Portal do Software
 * Público Brasileiro no endereço www.softwarepublico.gov.br ou escreva para a
 * Fundação do Software Livre (FSF) Inc., 51 Franklin St, Fifth Floor, Boston,
 * MA 02110-1301, USA --->
 *
 * Type pedagogico
 *
 * @author Moises Heberle [moises@solis.com.br]
 *
 * @version $Id$
 *
 * \b Maintainers: \n
 * Moises Heberle [moises@solis.com.br]
 *
 * @since
 * Class created on 29/08/2013
 */

class AcpRegrasMatriculaPerfilCurso extends SType
{
    const TIPO_INSCRICAO_ATENDIMENTO = 'A';
    const TIPO_INSCRICAO_ATENDIMENTO_E_INTERNET = 'I';
    
    const CONFIRMACAO_INSCRICAO_NENHUM = 'N';
    const CONFIRMACAO_INSCRICAO_PGTO_TAXA = 'T';
    const CONFIRMACAO_INSCRICAO_ENTREGA_DOC = 'D';
    const CONFIRMACAO_INSCRICAO_MANUAL = 'M';
    
    const TIPO_MATRICULA_ATENDIMENTO = 'A';
    const TIPO_MATRICULA_ATENDIMENTO_E_INTERNET = 'I';
    
    const CONFIRMACAO_MATRICULA_NENHUM = 'N';
    const CONFIRMACAO_MATRICULA_PGTO_TAXA = 'T';
    const CONFIRMACAO_MATRICULA_PGTO_PRIMEIRA_PARCELA = 'X';
    const CONFIRMACAO_MATRICULA_PRESENCA_PRIMEIRA_AULA = 'P';
    const CONFIRMACAO_MATRICULA_MANUAL = 'M';
    
    const PRAZO_EM_DIAS = 'D';
    const PRAZO_EM_MESES = 'M';
    const PRAZO_EM_ANOS = 'A';
    const PRAZO_EM_PERIODOS_LETIVOS = 'P';
    
    const UNIDADE_PERCENTUAL = 'P';
    const UNIDADE_NUMERO = 'N';
    
    const HORARIO_EXIBIR_DATA_INICIAL_FINAL = 'P';
    const HORARIO_EXIBIR_DIA_SEMANA_HORARIO = 'S';
    const HORARIO_EXIBIR_CALENDARIO = 'C';
    
    const TIPO_CONTROLE_CREDITOS = 'C';
    const TIPO_CONTROLE_CARGA_HORARIA = 'H';
    const TIPO_CONTROLE_NUMERO_DISCIPLINAS = 'D';
    
    /**
     * @var integer
     */
    public $regrasmatriculaperfilcursoid;
    
    /**
     * @var integer
     */
    public $perfilcursoperfilcursoid;
    
    /**
     * @var string
     */
    public $tipoinscricao;
    
    /**
     * @var string
     */
    public $formadeconfirmacaoinscricao;
        
    /**
     * @var string
     */
    public $tipomatricula;
        
    /**
     * @var string
     */
    public $formadeconfirmacaomatricula;
    
    /**
     * @var string
     */
    public $carenciaparapendencias;
    
    /**
     * @var integer
     */
    public $numerodependencias;
    
    /**
     * @var string
     */
    public $checardebitosavencer;
    
    /**
     * @var string
     */
    public $checardebitosvencidos;
    
    /**
     * @var string
     */
    public $checarnegociacoesabertas;
    
    /**
     * @var string
     */
    public $checarmultasbiblioteca;
    
    /**
     * @var string
     */
    public $checardevolucoesbiblioteca;
    
    /**
     * @var string
     */
    public $tipodecontrolerequisitos;
    
    /**
     * @var integer
     */
    public $quantidademinimatotal;
    
    /**
     * @var integer
     */
    public $quantidademaximatotal;
    
    /**
     * @var integer
     */
    public $quantidademinimaoutroscursos;
    
    /**
     * @var integer
     */
    public $quantidademaximaoutroscursos;
    
    /**
     * @var integer
     */
    public $quantidademinimaoutrasunidades;
    
    /**
     * @var integer
     */
    public $quantidademaximaoutrasunidades;
    
    /**
     * @var integer
     */
    public $quantidademinimaoutrosturnos;
    
    /**
     * @var integer
     */
    public $quantidademaximaoutrosturnos;
        
    /**
     * @var string
     */
    public $mensageminicial;
    
    /**
     * @var string
     */
    public $mensagemfinal;
        
    public $utilizarmensageminicial;
    public $utilizarmensagemfinal;
    
    /**
     * @var string
     */
    public $termoinscricao;
    
    /**
     * @var string
     */
    public $termomatricula;
    
    /**
     * @return array
     */
    public static function listarTipoInscricao()
    {
        return array(
            self::TIPO_INSCRICAO_ATENDIMENTO => _M('Via atendimento'),
            self::TIPO_INSCRICAO_ATENDIMENTO_E_INTERNET => _M('Via atendimento e internet'),
        );
    }
    
    /**
     * @return array
     */
    public static function listarTipoMatricula()
    {
        return array(
            self::TIPO_MATRICULA_ATENDIMENTO => _M('Via atendimento'),
            self::TIPO_MATRICULA_ATENDIMENTO_E_INTERNET => _M('Via atendimento e internet'),
        );
    }
    
    /**
     * @return array
     */
    public static function listarFormaConfirmacaoInscricao()
    {
        return array(
            self::CONFIRMACAO_INSCRICAO_NENHUM => _M('Nenhum'),
            self::CONFIRMACAO_INSCRICAO_PGTO_TAXA => _M('Pagamento da taxa de inscrição'),
//            self::CONFIRMACAO_INSCRICAO_ENTREGA_DOC => _M('Entrega de documentos'),
            self::CONFIRMACAO_INSCRICAO_MANUAL => _M('Manual'),
        );
    }

    /**
     * @return array
     */
    public static function listarFormaConfirmacaoMatricula()
    {
        return array(
            self::CONFIRMACAO_MATRICULA_NENHUM => _M('Nenhum'),
            self::CONFIRMACAO_MATRICULA_PGTO_PRIMEIRA_PARCELA => _M('Pagamento primeira parcela'),
//            self::CONFIRMACAO_MATRICULA_PRESENCA_PRIMEIRA_AULA => _M('Presença na primeira aula'),
            self::CONFIRMACAO_MATRICULA_MANUAL => _M('Manual'),
        );
    }
    
    /**
     * @return array
     */
    public static function listarPrazoParaReativacao()
    {
        return array(
            self::PRAZO_EM_DIAS => _M('Dias'),
            self::PRAZO_EM_MESES => _M('Meses'),
            self::PRAZO_EM_ANOS => _M('Anos'),
            self::PRAZO_EM_PERIODOS_LETIVOS => _M('Períodos letivos'),
        );
    }

    /**
     * @return array
     */
    public static function listarUnidadeMinimoAprovacao()
    {
        return array(
            self::UNIDADE_PERCENTUAL => _M('Percentual'),
            self::UNIDADE_NUMERO => _M('Número'),
        );
    }
    
    /**
     * @return array
     */
    public static function listarInformacoesHorarios()
    {
        return array(
            self::HORARIO_EXIBIR_DATA_INICIAL_FINAL => _M('Data inicial e final'),
            self::HORARIO_EXIBIR_DIA_SEMANA_HORARIO => _M('Dia da semana e horário'),
            self::HORARIO_EXIBIR_CALENDARIO => _M('Calendário completo'),
        );
    }

    /**
     * @return array
     */
    public static function listarFormaDeControleRequisitos()
    {
        return array(
            self::TIPO_CONTROLE_CREDITOS => _M('Créditos'),
            self::TIPO_CONTROLE_CARGA_HORARIA => _M('Carga horária'),
            self::TIPO_CONTROLE_NUMERO_DISCIPLINAS => _M('Número de disciplinas'),
        );
    }
    
    public static function obterRegrasDoPerfilDeCurso($perfildecursoid)
    {
        $regras = new AcpRegrasMatriculaPerfilCurso();
        $sql = $regras->msql();
        $sql->addEqualCondition('perfilcursoid', $perfildecursoid);
        return $regras->findOne($sql);
    }
}
?>
