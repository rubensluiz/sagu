<?xml version="1.0" encoding="UTF-8"?>
<dbchanges>
    <!--
        Document   : changes.xml
        Created on : 3 de Maio de 2013, 14:07
        Author     : ftomasini
        Description:
            Purpose of the document follows.
    -->
    <locate>change</locate>
    <locate>applicationversion</locate>
    <item>
        <change>
            <![CDATA[
CREATE TABLE acdgroupunblock(
    groupunblockid serial primary key,
    groupid int not null references acdgroup(groupid),
    limitdate date not null,
    registerdate timestamp not null default now(),
    observation text)
INHERITS(basLog);

COMMENT ON COLUMN acdgroupunblock.groupunblockid IS 'Código';
COMMENT ON COLUMN acdgroupunblock.groupid IS 'Disciplina oferecida';
COMMENT ON COLUMN acdgroupunblock.limitdate IS 'Data limite para liberar a digitação de notas ou frequências';
COMMENT ON COLUMN acdgroupunblock.registerdate IS 'Data do registro no sistema. Irá valer o último registro feito para a disciplina';
COMMENT ON COLUMN acdgroupunblock.observation IS 'Justificativa';
            ]]>
        </change>
        <applicationversion>3207</applicationversion>
        <orderchange>1</orderchange>
    </item>
    <item>
        <change>
            <![CDATA[
ALTER TABLE basphysicalperson ADD namesearch VARCHAR;
COMMENT ON COLUMN basphysicalperson.namesearch IS 'Campo utilizado para busca rápida de nomes parecidos';
CREATE INDEX basphysicalperson_namesearch ON basphysicalperson(namesearch);
            ]]>
        </change>
        <applicationversion>3208</applicationversion>
        <orderchange>1</orderchange>
    </item>
    <item>
        <change>
            <![CDATA[
ALTER TABLE basphysicalperson ADD namesearch VARCHAR;
COMMENT ON COLUMN basphysicalperson.namesearch IS 'Campo utilizado para busca rápida de nomes parecidos';
CREATE INDEX basphysicalperson_namesearch ON basphysicalperson(namesearch);
            ]]>
        </change>
        <applicationversion>3208</applicationversion>
        <orderchange>2</orderchange>
    </item>
    <item>
        <change>
            <![CDATA[
CREATE OR REPLACE FUNCTION atualizabuscapessoa()
RETURNS TRIGGER AS $$
BEGIN
    NEW.namesearch := REPLACE(REGEXP_REPLACE(LOWER(UNACCENT(TRIM(NEW.name))), '[^a-zA-Z ]', '', 'g'), ' ', '%') || '%';
    RETURN NEW;
END;
$$ language plpgsql;

DROP TRIGGER IF EXISTS trg_pessoasduplicadas ON basphysicalperson;
CREATE TRIGGER trg_pessoasduplicadas BEFORE UPDATE OR INSERT ON basphysicalperson FOR EACH ROW EXECUTE PROCEDURE atualizabuscapessoa();
            ]]>
        </change>
        <applicationversion>3208</applicationversion>
        <orderchange>3</orderchange>
    </item>
    <item>
        <change>
            <![CDATA[
CREATE TABLE bascsvlog(
    bascsvlogid serial not null primary key,
    importdate timestamp not null,
    line int not null,
    type int not null,
    colname varchar(255),
    information text,
    error text
) INHERITS(baslog);
            ]]>
        </change>
        <applicationversion>3208</applicationversion>
        <orderchange>4</orderchange>
    </item>
    <item>
        <change>
            <![CDATA[
CREATE TRIGGER trg_acdenroll_detail_update
  BEFORE INSERT OR UPDATE
  ON acdenroll
  FOR EACH ROW
  EXECUTE PROCEDURE acdenroll_detail_update();
            ]]>
        </change>
        <applicationversion>3208</applicationversion>
        <orderchange>7</orderchange>
    </item>
    <item>
        <change>
            <![CDATA[
    CREATE OR REPLACE FUNCTION acdenroll_detail_update()
      RETURNS trigger AS
    $BODY$
    /*************************************************************************************
      NAME: acdenroll_detail_update
      PURPOSE: Caso a matrícula não tenha estado detalhado, coloca o estado detalhado padrão.
    **************************************************************************************/
    DECLARE
        v_enrollid integer;
        v_oldDetailEnrollStatusId integer;
    BEGIN
        IF TG_OP = 'INSERT' OR TG_OP = 'UPDATE'
        THEN
            v_enrollid := NEW.enrollid;
        END IF;

        IF TG_OP = 'INSERT'
        THEN
            v_oldDetailEnrollStatusId := NULL;
        ELSE
            v_oldDetailEnrollStatusId := OLD.detailenrollstatusid;
        END IF;

        -- Atualiza estado detalhado para o padrão da tabela acddetailenrollstatus
        IF  (NEW.detailenrollstatusid IS NULL)
        AND (v_oldDetailEnrollStatusId IS NULL)
        AND ((SELECT detailenrollstatusid FROM acdenroll WHERE enrollid = v_enrollid) is NULL) 
        AND ((SELECT COUNT(*) FROM acddetailenrollstatus WHERE parentstatus = NEW.statusid ) > 0 )
            THEN
            NEW.detailenrollstatusid = (
            SELECT detailenrollstatusid 
            FROM acddetailenrollstatus 
            WHERE defaultstatus = TRUE
            AND parentstatus = NEW.statusid
            );
        END IF;

        RETURN NEW;
    END;
    $BODY$
      LANGUAGE plpgsql VOLATILE
      COST 100;
            ]]>
        </change>
        <applicationversion>3208</applicationversion>
        <orderchange>6</orderchange>
    </item>
    <item>
        <change>
            <![CDATA[
ALTER TABLE acddetailenrollstatus
ADD COLUMN defaultstatus boolean;
            ]]>
        </change>
        <applicationversion>3208</applicationversion>
        <orderchange>5</orderchange>
    </item>
    <item>
        <change>
            <![CDATA[
CREATE OR REPLACE FUNCTION BIBLIOGRAPHYS(p_data text[])
   RETURNS text AS
/*************************************************************************************
  NAME: BIBLIOGRAPHYS
  DESCRIPTION: bibliografia pelo array
**************************************************************************************/
$BODY$ 
DECLARE
    v_id TEXT;
    v_content text;
    v_result text;
BEGIN

    v_result := '';

    FOR v_id IN SELECT * FROM unnest(p_data)
    LOOP
        FOR v_content IN (SELECT content FROM SEA_BIBLIOGRAPHY_DATA( v_id::int, NULL, NULL, '100.a,700.a,245.a,250.a,260.a,260.b,260.c' ))
        LOOP
            v_result := v_result || ( CASE WHEN CHAR_LENGTH(v_result) > 0 THEN ', ' ELSE '' END ) || v_content;
        END LOOP;

        IF CHAR_LENGTH(v_result) > 0
        THEN
            v_result := v_result || '\n';
        END IF;
    END LOOP;
        
    RETURN RTRIM(v_result);
END; 
$BODY$ 
language plpgsql;
            ]]>
        </change>
        <applicationversion>3208</applicationversion>
        <orderchange>5</orderchange>
    </item>
    <item>
        <change>
            <![CDATA[
CREATE TABLE bascsvimportation(
    csvimportationid serial not null primary key,
    type char(1) not null,
    layout varchar(255) not null,
    date timestamp not null default now(),
    observation varchar(255),
    unitid int references basunit(unitid),
    fileid int references basfile(fileid)
) INHERITS(baslog);
            ]]>
        </change>
        <applicationversion>3303</applicationversion>
        <orderchange>1</orderchange>
    </item>
    <item>
        <change>
            <![CDATA[
ALTER TABLE bascsvlog ADD csvimportationid INT REFERENCES basCsvImportation(csvimportationId);
            ]]>
        </change>
        <applicationversion>3303</applicationversion>
        <orderchange>2</orderchange>
    </item>
    <item>
        <change>
            <![CDATA[
ALTER TABLE fin.invoicenegociationconfig ADD percentvalueentry REAL;
COMMENT ON COLUMN fin.invoicenegociationconfig.percentvalueentry IS 'Valor percentual';
ALTER TABLE fin.negotiation ADD entryValue REAL;
ALTER TABLE fin.negotiation ADD finerelease BOOLEAN;
ALTER TABLE fin.negotiation ADD interestrelease BOOLEAN;
COMMENT ON COLUMN fin.negotiation.entryvalue IS 'Valor de entrada';
COMMENT ON COLUMN fin.negotiation.finerelease IS 'Liberar multas';
COMMENT ON COLUMN fin.negotiation.interestrelease IS 'Liberar juros';
            ]]>
        </change>
        <applicationversion>3305</applicationversion>
        <orderchange>1</orderchange>
    </item>
    <item>
        <change>
            <![CDATA[
UPDATE fin.negotiation SET finerelease = fineandinterestrelease, interestrelease = fineandinterestrelease;
ALTER TABLE fin.negotiation DROP fineandinterestrelease;
            ]]>
        </change>
        <applicationversion>3305</applicationversion>
        <orderchange>2</orderchange>
    </item>


    <item>
        <change>
            <![CDATA[
UPDATE fin.negotiation SET finerelease = fineandinterestrelease, interestrelease = fineandinterestrelease;
ALTER TABLE fin.negotiation DROP fineandinterestrelease;
            ]]>
        </change>
        <applicationversion>3305</applicationversion>
        <orderchange>2</orderchange>
    </item>

    

    <!--   PROXIMA VERSÃO 3.4.01   -->
    <item>
        <change>
            <![CDATA[
DROP TABLE prtanexo;
            ]]>
        </change>
        <applicationversion>3401</applicationversion>
        <orderchange>1</orderchange>
    </item>
    <item>
        <change>
            <![CDATA[
DROP TABLE busfile;
            ]]>
        </change>
        <applicationversion>3401</applicationversion>
        <orderchange>2</orderchange>
    </item>
    <item>
        <change>
            <![CDATA[
DROP TABLE prtmensagemmural;
            ]]>
        </change>
        <applicationversion>3401</applicationversion>
        <orderchange>3</orderchange>
    </item>
    <item>
        <change>
            <![CDATA[
CREATE TABLE prtanexo (
    fileid integer not null,
    mensagemid integer not null,
    mensagemmuralid integer,
    descricao text,
    constraint pk_prtanexo primary key (fileid, mensagemid),
    constraint fk_prtanexo_basfile foreign key (fileid) references basfile(fileid),
    constraint fk_prtanexo_prtmensagem foreign key (mensagemid) references prtmensagem(mensagemid)
) INHERITS (baslog);
            ]]>
        </change>
        <applicationversion>3401</applicationversion>
        <orderchange>4</orderchange>
    </item>
    <item>
        <change>
            <![CDATA[
ALTER TABLE prtmensagemdestinatario ALTER COLUMN personid SET not null;
            ]]>
        </change>
        <applicationversion>3401</applicationversion>
        <orderchange>5</orderchange>
    </item>
    <item>
        <change>
            <![CDATA[
    ALTER TABLE prtmensagemdestinatario ALTER COLUMN groupid DROP NOT NULL ;
    ALTER TABLE prtmensagemdestinatario ADD courseid varchar(10);
    ALTER TABLE prtmensagemdestinatario ADD constraint fk_acdcourse foreign key (courseid) references acdcourse (courseid);
            ]]>
        </change>
        <applicationversion>3401</applicationversion>
        <orderchange>6</orderchange>
    </item>
    <item>
        <change>
            <![CDATA[
    CREATE TABLE finStatusCheque (
        statusChequeId SERIAL PRIMARY KEY,
        consideraPago BOOLEAN DEFAULT FALSE,
        descricao VARCHAR NOT NULL     
    )INHERITS(basLog);  
    
            ]]>
        </change>
        <applicationversion>3402</applicationversion>
        <orderchange>1</orderchange>
    </item>
    <item>
        <change>
            <![CDATA[
    CREATE TABLE finCheque (
        chequeId SERIAL PRIMARY KEY,
        numeroCheque VARCHAR NOT NULL,
        data DATE,
        agencia VARCHAR NOT NULL,
        eminente VARCHAR NOT NULL,
        cpf VARCHAR,
        cnpj VARCHAR,
        valorCheque FLOAT NOT NULL,
        tipo INT NOT NULL,
        statusChequeId INT NOT NULL REFERENCES finStatusCheque(statusChequeId),
        bankId VARCHAR NOT NULL REFERENCES finBank(bankId)
    )INHERITS(basLog);  
            ]]>
        </change>
        <applicationversion>3402</applicationversion>
        <orderchange>2</orderchange>
    </item>
    <item>
        <change>
            <![CDATA[
    CREATE TABLE finMovementCheque (
        movementChequeId SERIAL PRIMARY KEY,
        chequeId INT NOT NULL REFERENCES finCheque(chequeId),
        counterMovementId INT NOT NULL REFERENCES finCounterMovement(counterMovementId)
    )INHERITS(basLog);  
            ]]>
        </change>
        <applicationversion>3402</applicationversion>
        <orderchange>3</orderchange>
    </item>
    <item>
        <change>
            <![CDATA[
    ALTER TABLE acddetailenrollstatus ADD isexam boolean default false;
            ]]>
        </change>
        <applicationversion>3403</applicationversion>
        <orderchange>4</orderchange>
    </item>
    <item>
        <change>
            <![CDATA[
    ALTER TABLE basPhysicalPersonProfessor ADD COLUMN etemporario BOOLEAN DEFAULT FALSE;
            ]]>
        </change>
        <applicationversion>3403</applicationversion>
        <orderchange>5</orderchange>
    </item>
    <item>
        <change>
            <![CDATA[
    INSERT INTO acdStateTransition (beginStateId, endStateId) VALUES (getParameter('ACADEMIC', 'STATE_CONTRACT_ID_PRE_ENROLL')::INT, getParameter('ACADEMIC', 'STATE_CONTRACT_ID_LOCKED')::INT);
    INSERT INTO acdStateTransition (beginStateId, endStateId) VALUES (getParameter('ACADEMIC', 'STATE_CONTRACT_ID_PRE_ENROLL')::INT, getParameter('BASIC', 'STATE_CONTRACT_ID_ENROLLED')::INT);
            ]]>
        </change>
        <applicationversion>3404</applicationversion>
        <orderchange>2</orderchange>
    </item>
    <item>
        <change>
            <![CDATA[
    CREATE TABLE FinCobrancaBancaria (cobrancaBancariaId  SERIAL NOT NULL,
                                  descricao varchar(255) not null,
                                  leiaute varchar(255),
                                  bankaccountid int not null,
                                  envio char(1) NOT NULL,
                                  formatoData varchar(255),
                                  codCedente varchar(255),
                                  carteira varchar(255),
                                  especie varchar(255),
                     PRIMARY KEY (cobrancaBancariaId))
                     INHERITS (baslog);
                     ]]>
        </change>
        <applicationversion>3404</applicationversion>
        <orderchange>3</orderchange>
    </item>
    <item>
        <change>
            <![CDATA[
    CREATE TABLE FinConfiguracaoRemessa (configuracaoRemessaId  SERIAL NOT NULL,
                                         cobrancaBancariaId integer NOT NULL,
                                         nomeArquivo varchar(255) NOT NULL,
                                         sequencia varchar(255) NOT NULL,
                             PRIMARY KEY (configuracaoRemessaId))
                         INHERITS (baslog);
            ]]>
        </change>
        <applicationversion>3404</applicationversion>
        <orderchange>4</orderchange>
    </item>
    <item>
        <change>
            <![CDATA[
    CREATE TABLE FinTipoValorVariavelRemessa (tipoValorVariavelRemessaId  varchar NOT NULL,
                                              descricao varchar(255),
                                 PRIMARY KEY (tipoValorVariavelRemessaId))
                                 INHERITS (baslog);
            ]]>
        </change>
        <applicationversion>3404</applicationversion>
        <orderchange>5</orderchange>
    </item>
    <item>
        <change>
            <![CDATA[
    CREATE TABLE FinCampoRemessa (campoRemessaId  SERIAL NOT NULL,
                                  tipoValorVariavelRemessaId VARCHAR REFERENCES FinTipoValorVariavelRemessa(tipovalorvariavelremessaid),
                                  configuracaoRemessaId integer NOT NULL,
                                  tiporegistro char(2) NOT NULL,
                                  linha integer NOT NULL,
                                  posicao INT NOT NULL,
                                  tamanho varchar(255) NOT NULL,
                                  alinhamento char(1) NOT NULL,
                                  completar char(1) NOT NULL,
                                  tipoValor varchar(3) NOT NULL,
                                  valor varchar(255),
                      PRIMARY KEY (campoRemessaId))
                         INHERITS (baslog);
              ]]>
        </change>
        <applicationversion>3404</applicationversion>
        <orderchange>6</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
    ALTER TABLE FinCobrancaBancaria ADD CONSTRAINT FKFinCobranc153769 FOREIGN KEY (BankAccountId) REFERENCES FinBankAccount (bankaccountid);
    ALTER TABLE FinConfiguracaoRemessa ADD CONSTRAINT cobrancaBancaria FOREIGN KEY (CobrancaBancariaId) REFERENCES FinCobrancaBancaria (CobrancaBancariaId);
    ALTER TABLE FinCampoRemessa ADD CONSTRAINT FKFinCampoRe319509 FOREIGN KEY (configuracaoRemessaId) REFERENCES FinConfiguracaoRemessa (ConfiguracaoRemessaId);
    ALTER TABLE FinCampoRemessa ADD CONSTRAINT FKFinCampoRe809838 FOREIGN KEY (tipoValorVariavelRemessaId) REFERENCES FinTipoValorVariavelRemessa (TipoValorVariavelRemessaId);              ]]>
        </change>
        <applicationversion>3404</applicationversion>
        <orderchange>7</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE finCounterMovement ADD COLUMN bankAccountId INT REFERENCES finBankAccount(bankAccountId);
                  ]]>
        </change>
        <applicationversion>3405</applicationversion>
        <orderchange>1</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
    CREATE TABLE prtmensagemmural (
        mensagemmuralid serial not null,
        personid integer not null,
        unitid integer not null,
        groupid integer not null REFERENCES acdgroup(groupid),
        conteudo text not null,
        fileid integer,
        constraint pk_prtmensagemmural primary key (mensagemmuralid),
        constraint fk_mural_person foreign key (personid) references basperson (personid),
        constraint fk_mural_group foreign key (groupid) references acdgroup (groupid)
    ) INHERITS (baslog);
        ]]>
        </change>
        <applicationversion>3405</applicationversion>
        <orderchange>2</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
    CREATE TABLE prtmensagemmural (
        mensagemmuralid serial not null,
        personid integer not null,
        unitid integer not null,
        groupid integer not null REFERENCES acdgroup(groupid),
        conteudo text not null,
        fileid integer,
        constraint pk_prtmensagemmural primary key (mensagemmuralid),
        constraint fk_mural_person foreign key (personid) references basperson (personid),
        constraint fk_mural_group foreign key (groupid) references acdgroup (groupid)
    ) INHERITS (baslog);
        ]]>
        </change>
        <applicationversion>3405</applicationversion>
        <orderchange>2</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE prtanexo DROP COLUMN mensagemmuralid ;
        ]]>
        </change>
        <applicationversion>3405</applicationversion>
        <orderchange>3</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE fin.bankmovement ADD COLUMN occurrence varchar;
        INSERT INTO fin.bankmovementstatus (description) values('NÃO PROCESSADO');
        ]]>
        </change>
        <applicationversion>3405</applicationversion>
        <orderchange>2</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE finconfiguracaoremessa ADD quebralinha varchar;       
        ]]>
        </change>
        <applicationversion>3405</applicationversion>
        <orderchange>3</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        INSERT INTO finoperation (description, operationtypeid, isextinct, iscountermovement, operationgroupid, receivableorpayable, accountschemeid, useindiscounts, useininterests, useinfines) VALUES ('ANTECIPAÇÃO', 'D', FALSE, FALSE, 'P', 'R', '113', TRUE, TRUE, TRUE);        ]]>
        </change>
        <applicationversion>3405</applicationversion>
        <orderchange>4</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        UPDATE miolo_transaction SET nametransaction = 'Configuração de antecipação e negociação de títulos' WHERE m_transaction = 'FrmInvoiceNegociationConfig';
        UPDATE miolo_transaction SET nametransaction = 'Antecipação e negociação' WHERE m_transaction = 'FrmNegotiation';
        ]]>
        </change>
        <applicationversion>3405</applicationversion>
        <orderchange>5</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE acdenrollconfig ADD COLUMN ativaPreMatriculaPara CHAR(1) DEFAULT 'A';
        ]]>
        </change>
        <applicationversion>3405</applicationversion>
        <orderchange>6</orderchange>
    </item>    
    <item>
        <change>
        <![CDATA[
        ALTER TABLE finopencounter ALTER COLUMN value SET DEFAULT 0;
        ]]>
        </change>
        <applicationversion>3406</applicationversion>
        <orderchange>1</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        -- View utilizada pelo moodle para replicar os dados do sagu no sistema
        -- futuramente alterar view para que traga a categoria da disciplina,  
        -- para isso será necessario alterar scrip de inserção no moodle 
        DROP VIEW IF EXISTS acdViewMoodleSubscription; 
        CREATE OR REPLACE VIEW acdViewMoodleSubscription( login, course, perfil) AS SELECT DISTINCT m.login, (u.name || ' - REF' || g.groupid::VARCHAR), CASE WHEN m.isteacher THEN 'editingteacher' ELSE 'student' END FROM acdMoodleSubscription m INNER JOIN acdgroup g ON (m.groupid = g.groupid) INNER JOIN acdcurriculum r ON (r.curriculumId = g.curriculumId) INNER JOIN acdcurricularcomponent u ON (u.curricularcomponentid = r.curricularcomponentid  AND u.curricularcomponentversion = r.curricularcomponentversion) WHERE m.processed IS FALSE AND m.login IS NOT NULL;
        ]]>
        </change>
        <applicationversion>3406</applicationversion>
        <orderchange>2</orderchange>
    </item>

    <item>
        <change>
        <![CDATA[
        CREATE TABLE finhistoricoremessa (
        historicoremessaid SERIAL NOT NULL,
        invoiceid INT NOT NULL REFERENCES fininvoice(invoiceid),
        datageracao timestamp not null default now(),
        sequencianoarquivo int not null,
        PRIMARY KEY (historicoremessaid)) INHERITS (baslog);
        ]]>
        </change>
        <applicationversion>3406</applicationversion>
        <orderchange>3</orderchange>
    </item>    
            
       
    
    <item>
        <change>
        <![CDATA[
         ALTER TABLE finhistoricoremessa ADD fileid int references basfile(fileid);        
        ]]>
        </change>
        <applicationversion>3406</applicationversion>
        <orderchange>4</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE acdenrollconfig ADD COLUMN pendenciasGnuteca CHAR(1) DEFAULT 'S';
        ALTER TABLE acdenrollconfig ADD COLUMN bloqueioEmprestimos BOOLEAN DEFAULT TRUE;
        ALTER TABLE acdenrollconfig ADD COLUMN bloqueioMultas BOOLEAN DEFAULT TRUE;
        ALTER TABLE acdenrollconfig ADD COLUMN bloqueioPenalidades BOOLEAN DEFAULT TRUE;
        ALTER TABLE acdenrollconfig ADD COLUMN bloqueioMensagem TEXT;
        ]]>
        </change>
        <applicationversion>3501</applicationversion>
        <orderchange>1</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE finhistoricoremessa ADD fileid int references basfile(fileid);        
        ]]>
        </change>
        <applicationversion>3501</applicationversion>
        <orderchange>1</orderchange>
    </item>

    <item>
        <change>
        <![CDATA[
        ALTER TABLE res.residente ADD COLUMN descricao TEXT;
        ALTER TABLE acdreconhecimentodecurso ADD COLUMN dataInicial DATE; 
        ALTER TABLE acdreconhecimentodecurso ADD COLUMN dataFinal DATE;       
        ]]>
        </change>
        <applicationversion>3501</applicationversion>
        <orderchange>2</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE miolo_groupuser DROP CONSTRAINT miolo_groupuser_pkey;  
        ]]>
        </change>
        <applicationversion>3501</applicationversion>
        <orderchange>3</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE miolo_groupuser ADD CONSTRAINT miolo_groupuser_pkey PRIMARY KEY (iduser, idgroup);       
        ]]>
        </change>
        <applicationversion>3501</applicationversion>
        <orderchange>4</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE miolo_groupuser ALTER unitid DROP not null;       
        ]]>
        </change>
        <applicationversion>3501</applicationversion>
        <orderchange>5</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
       	INSERT INTO miolo_module (idmodule, name, description) VALUES ('avinst', 'Avaliação institucional', '');
        ]]>
        </change>
        <applicationversion>3501</applicationversion>
        <orderchange>6</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        INSERT INTO miolo_transaction (action, idmodule, m_transaction, nametransaction) VALUES ('main', 'avinst', 'AVINST', 'Avaliação Institucional');
        ]]>
        </change>
        <applicationversion>3501</applicationversion>
        <orderchange>7</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        INSERT INTO miolo_transaction (action, idmodule, m_transaction, nametransaction, parentm_transaction) VALUES ('main', 'avinst', 'frmDashboard', 'Avaliação Institucional', 'AVINST')
        ]]>
        </change>
        <applicationversion>3501</applicationversion>
        <orderchange>8</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        INSERT INTO miolo_access (idgroup, idtransaction, rights) VALUES (6, (SELECT idtransaction FROM miolo_transaction WHERE action='main' AND idmodule='avinst' AND m_transaction='AVINST'), 31);
        ]]>
        </change>
        <applicationversion>3501</applicationversion>
        <orderchange>9</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        INSERT INTO miolo_access (idgroup, idtransaction, rights) VALUES (1, (SELECT idtransaction FROM miolo_transaction WHERE action='main' AND idmodule='avinst' AND m_transaction='AVINST'), 31);
        ]]>
        </change>
        <applicationversion>3501</applicationversion>
        <orderchange>10</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        INSERT INTO miolo_access (idgroup, idtransaction, rights) VALUES (6, (SELECT idtransaction FROM miolo_transaction WHERE action='main' AND idmodule='avinst' AND m_transaction='frmDashboard'), 31);
        ]]>
        </change>
        <applicationversion>3501</applicationversion>
        <orderchange>11</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        INSERT INTO miolo_access (idgroup, idtransaction, rights) VALUES (1, (SELECT idtransaction FROM miolo_transaction WHERE action='main' AND idmodule='avinst' AND m_transaction='frmDashboard'), 31);
        ]]>
        </change>
        <applicationversion>3501</applicationversion>
        <orderchange>12</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        CREATE TABLE basdocumentogerado( documentogeradoid serial primary key,
                                         codigoVerificador varchar not null, 
                                         dataGeracao timestamp not null default now(), 
                                         usuario varchar not null, 
                                         nomeDocumento varchar not null, 
                                         titulo varchar, 
                                         modulo varchar not null, 
                                         fileId integer REFERENCES basfile(fileId), 
                                         personiddocumento bigint references basperson(personid) ) inherits(baslog);  
                                         COMMENT ON COLUMN basdocumentogerado.personiddocumento IS 'Indica para quem o documento foi gerado, caso ele se refira a uma pessoa';
        ]]>
        </change>
        <applicationversion>3501</applicationversion>
        <orderchange>13</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        COMMENT ON TABLE caphistorico IS 'Histórico';
        COMMENT ON COLUMN caphistorico.historicoid IS 'Código';
        COMMENT ON COLUMN caphistorico.personid IS 'Pessoa';
        COMMENT ON COLUMN caphistorico.solicitacaoid IS 'Solicitação';
        COMMENT ON COLUMN caphistorico.solicitacaoestadoid IS 'Estado';
        COMMENT ON COLUMN caphistorico.data IS 'Data';
        COMMENT ON COLUMN caphistorico.justificativa IS 'Justificativa';
        COMMENT ON COLUMN caplancamento.datalancamento IS 'Data';
        COMMENT ON COLUMN capsolicitacao.solicitacaoid IS 'Código';
        COMMENT ON COLUMN capsolicitacao.justificativa IS 'Justificativa de alteração da solicitação';
        COMMENT ON COLUMN capsolicitacaoparcela.datavencimento IS 'Data de vencimento';
        COMMENT ON TABLE capsolicitacao IS 'Solicitação';
        COMMENT ON TABLE capsolicitacaoparcela IS 'Parcelas';
        COMMENT ON COLUMN captitulo.valoraberto IS 'Valor em aberto';
        COMMENT ON COLUMN captitulo.tituloaberto IS 'Existe saldo em aberto para este titulo';
        COMMENT ON TABLE captitulo IS 'Títulos';
        COMMENT ON TABLE caplancamento IS 'Lançamentos';
        COMMENT ON COLUMN captitulo.tituloid IS 'Código';
        COMMENT ON COLUMN captitulo.valoraberto IS 'Valor em aberto';
        COMMENT ON COLUMN captitulo.numeroparcela IS 'Parcela';
        COMMENT ON COLUMN caplancamento.tipolancamento IS 'Tipo de lançamento';
        COMMENT ON COLUMN caplancamento.lancamentoid IS 'Código';
        COMMENT ON COLUMN capsolicitacao.formadepagamentoid IS 'Forma de pagamento';
        ]]>
        </change>
        <applicationversion>3501</applicationversion>
        <orderchange>14</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE findefaultoperations ADD COLUMN payrolldiscountoperation int; 
        ]]>
        </change>
        <applicationversion>3601</applicationversion>
        <orderchange>1</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE ptcsubject ADD tmpisactive boolean;
        ]]>
        </change>
        <applicationversion>3601</applicationversion>
        <orderchange>2</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        UPDATE ptcsubject SET tmpisactive = isactive;
        ]]>
        </change>
        <applicationversion>3601</applicationversion>
        <orderchange>3</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE ptcsubject DROP COLUMN isactive ;
        ]]>
        </change>
        <applicationversion>3601</applicationversion>
        <orderchange>4</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE ptcsubject ADD COLUMN isactive char(1) default 'A';
        ]]>
        </change>
        <applicationversion>3601</applicationversion>
        <orderchange>5</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        UPDATE ptcsubject SET isactive = CASE WHEN tmpisactive = false THEN 'N' ELSE 'A' END;
        ]]>
        </change>
        <applicationversion>3601</applicationversion>
        <orderchange>6</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE ptcsubject ADD showdescription boolean default true;
        ALTER TABLE ptcsubject ADD descriptionrequired boolean default true;
        ALTER TABLE ptcrequireddocument ADD uploadrequired boolean default false;
        ALTER TABLE ptcrequireddocument ADD descriptionrequired boolean default false;
        ]]>
        </change>
        <applicationversion>3601</applicationversion>
        <orderchange>7</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        CREATE TABLE ptcsubjectavailableto (
            subjectid integer not null,
            availableto char(1) not null,
            constraint pk_ptcsubjectavailableto primary key (subjectid, availableto),
            constraint fk_ptcsubjectavailableto_ptcsubject foreign key (subjectid) references ptcsubject ON DELETE CASCADE
        ) INHERITS(basLog);
        ]]>
        </change>
        <applicationversion>3601</applicationversion>
        <orderchange>8</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE ptcsubject DROP COLUMN tmpisactive ;
        ]]>
        </change>
        <applicationversion>3601</applicationversion>
        <orderchange>9</orderchange>
    </item>

    <item>
        <change>
        <![CDATA[
        alter table bascsvlog alter COLUMN type DROP NOT NULL;
        ]]>
        </change>
        <applicationversion>3601</applicationversion>
        <orderchange>10</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE ptcdocument ALTER COLUMN description DROP NOT NULL ;
        ]]>
        </change>
        <applicationversion>3601</applicationversion>
        <orderchange>11</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE ptcrequest ALTER COLUMN description DROP NOT NULL;
        ]]>
        </change>
        <applicationversion>3601</applicationversion>
        <orderchange>12</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        INSERT INTO miolo_module (idmodule, name) VALUES ('pedagogico', 'Pedagógico');
        ]]>
        </change>
        <applicationversion>3601</applicationversion>
        <orderchange>13</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        INSERT INTO miolo_module VALUES ('portal', 'Portal', null);
        ]]>
        </change>
        <applicationversion>3601</applicationversion>
        <orderchange>13</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        -- Permissoes grupo professores
        INSERT INTO miolo_access (idgroup, idtransaction, rights) SELECT getParameter('BASIC', 'DEFAULT_GROUP_PROFESSOR_ID')::int, idtransaction, 1 FROM miolo_transaction WHERE m_transaction = 'FrmDisciplinasProfessor';
        INSERT INTO miolo_access (idgroup, idtransaction, rights) SELECT getParameter('BASIC', 'DEFAULT_GROUP_PROFESSOR_ID')::int, idtransaction, 1 FROM miolo_transaction WHERE m_transaction = 'FrmProgramaProfessor';
        INSERT INTO miolo_access (idgroup, idtransaction, rights) SELECT getParameter('BASIC', 'DEFAULT_GROUP_PROFESSOR_ID')::int, idtransaction, 1 FROM miolo_transaction WHERE m_transaction = 'FrmPostagensProfessor';
        INSERT INTO miolo_access (idgroup, idtransaction, rights) SELECT getParameter('BASIC', 'DEFAULT_GROUP_PROFESSOR_ID')::int, idtransaction, 1 FROM miolo_transaction WHERE m_transaction = 'FrmFrequenciasProfessor';
        INSERT INTO miolo_access (idgroup, idtransaction, rights) SELECT getParameter('BASIC', 'DEFAULT_GROUP_PROFESSOR_ID')::int, idtransaction, 1 FROM miolo_transaction WHERE m_transaction = 'FrmFrequenciasEncerradaProfessor';
        INSERT INTO miolo_access (idgroup, idtransaction, rights) SELECT getParameter('BASIC', 'DEFAULT_GROUP_PROFESSOR_ID')::int, idtransaction, 1 FROM miolo_transaction WHERE m_transaction = 'FrmNotasProfessor';
        INSERT INTO miolo_access (idgroup, idtransaction, rights) SELECT getParameter('BASIC', 'DEFAULT_GROUP_PROFESSOR_ID')::int, idtransaction, 1 FROM miolo_transaction WHERE m_transaction = 'FrmNotasEncerradaProfessor';
        INSERT INTO miolo_access (idgroup, idtransaction, rights) SELECT getParameter('BASIC', 'DEFAULT_GROUP_PROFESSOR_ID')::int, idtransaction, 1 FROM miolo_transaction WHERE m_transaction = 'FrmEstatisticasProfessor';
        INSERT INTO miolo_access (idgroup, idtransaction, rights) SELECT getParameter('BASIC', 'DEFAULT_GROUP_PROFESSOR_ID')::int, idtransaction, 1 FROM miolo_transaction WHERE m_transaction = 'FrmResultadoFinalProfessor';
        INSERT INTO miolo_access (idgroup, idtransaction, rights) SELECT getParameter('BASIC', 'DEFAULT_GROUP_PROFESSOR_ID')::int, idtransaction, 1 FROM miolo_transaction WHERE m_transaction = 'FrmDocumentosProfessor';
        INSERT INTO miolo_access (idgroup, idtransaction, rights) SELECT getParameter('BASIC', 'DEFAULT_GROUP_PROFESSOR_ID')::int, idtransaction, 1 FROM miolo_transaction WHERE m_transaction = 'DocPlanoDeEnsino';
        INSERT INTO miolo_access (idgroup, idtransaction, rights) SELECT getParameter('BASIC', 'DEFAULT_GROUP_PROFESSOR_ID')::int, idtransaction, 1 FROM miolo_transaction WHERE m_transaction = 'DocDiarioDeClasse';
        INSERT INTO miolo_access (idgroup, idtransaction, rights) SELECT getParameter('BASIC', 'DEFAULT_GROUP_PROFESSOR_ID')::int, idtransaction, 1 FROM miolo_transaction WHERE m_transaction = 'DocAtasDeAvaliacao';
        INSERT INTO miolo_access (idgroup, idtransaction, rights) SELECT getParameter('BASIC', 'DEFAULT_GROUP_PROFESSOR_ID')::int, idtransaction, 1 FROM miolo_transaction WHERE m_transaction = 'DocFolhaDeConteudos';
        INSERT INTO miolo_access (idgroup, idtransaction, rights) SELECT getParameter('BASIC', 'DEFAULT_GROUP_PROFESSOR_ID')::int, idtransaction, 1 FROM miolo_transaction WHERE m_transaction = 'DocResultadoFinal';
        INSERT INTO miolo_access (idgroup, idtransaction, rights) SELECT getParameter('BASIC', 'DEFAULT_GROUP_PROFESSOR_ID')::int, idtransaction, 1 FROM miolo_transaction WHERE m_transaction = 'DocContatoDosAlunos';
        INSERT INTO miolo_access (idgroup, idtransaction, rights) SELECT getParameter('BASIC', 'DEFAULT_GROUP_PROFESSOR_ID')::int, idtransaction, 1 FROM miolo_transaction WHERE m_transaction = 'FrmMoodleProfessor';
        INSERT INTO miolo_access (idgroup, idtransaction, rights) SELECT getParameter('BASIC', 'DEFAULT_GROUP_PROFESSOR_ID')::int, idtransaction, 1 FROM miolo_transaction WHERE m_transaction = 'FrmMensagensProfessor';
        INSERT INTO miolo_access (idgroup, idtransaction, rights) SELECT getParameter('BASIC', 'DEFAULT_GROUP_PROFESSOR_ID')::int, idtransaction, 1 FROM miolo_transaction WHERE m_transaction = 'FrmProtocoloProfessor';
        INSERT INTO miolo_access (idgroup, idtransaction, rights) SELECT getParameter('BASIC', 'DEFAULT_GROUP_PROFESSOR_ID')::int, idtransaction, 1 FROM miolo_transaction WHERE m_transaction = 'FrmAgendaProfessor';
        INSERT INTO miolo_access (idgroup, idtransaction, rights) SELECT getParameter('BASIC', 'DEFAULT_GROUP_PROFESSOR_ID')::int, idtransaction, 1 FROM miolo_transaction WHERE m_transaction = 'FrmPerfilProfessor';
        INSERT INTO miolo_access (idgroup, idtransaction, rights) SELECT getParameter('BASIC', 'DEFAULT_GROUP_PROFESSOR_ID')::int, idtransaction, 1 FROM miolo_transaction WHERE m_transaction = 'FrmPreferenciasProfessor';

        -- Permissoes grupo alunos
        INSERT INTO miolo_access (idgroup, idtransaction, rights) SELECT getParameter('BASIC', 'DEFAULT_GROUP_STUDENT_ID')::int, idtransaction, 1 FROM miolo_transaction WHERE m_transaction = 'FrmDisciplinasAluno';
        INSERT INTO miolo_access (idgroup, idtransaction, rights) SELECT getParameter('BASIC', 'DEFAULT_GROUP_STUDENT_ID')::int, idtransaction, 1 FROM miolo_transaction WHERE m_transaction = 'FrmMensagensAluno';
        INSERT INTO miolo_access (idgroup, idtransaction, rights) SELECT getParameter('BASIC', 'DEFAULT_GROUP_STUDENT_ID')::int, idtransaction, 1 FROM miolo_transaction WHERE m_transaction = 'FrmProtocoloAluno';
        INSERT INTO miolo_access (idgroup, idtransaction, rights) SELECT getParameter('BASIC', 'DEFAULT_GROUP_STUDENT_ID')::int, idtransaction, 1 FROM miolo_transaction WHERE m_transaction = 'FrmAgendaAluno';
        INSERT INTO miolo_access (idgroup, idtransaction, rights) SELECT getParameter('BASIC', 'DEFAULT_GROUP_STUDENT_ID')::int, idtransaction, 1 FROM miolo_transaction WHERE m_transaction = 'FrmMuralAluno';
        INSERT INTO miolo_access (idgroup, idtransaction, rights) SELECT getParameter('BASIC', 'DEFAULT_GROUP_STUDENT_ID')::int, idtransaction, 1 FROM miolo_transaction WHERE m_transaction = 'FrmFinanceiroAluno';
        INSERT INTO miolo_access (idgroup, idtransaction, rights) SELECT getParameter('BASIC', 'DEFAULT_GROUP_STUDENT_ID')::int, idtransaction, 1 FROM miolo_transaction WHERE m_transaction = 'FrmHistoricoAluno';
        INSERT INTO miolo_access (idgroup, idtransaction, rights) SELECT getParameter('BASIC', 'DEFAULT_GROUP_STUDENT_ID')::int, idtransaction, 1 FROM miolo_transaction WHERE m_transaction = 'FrmPerfilAluno';
        INSERT INTO miolo_access (idgroup, idtransaction, rights) SELECT getParameter('BASIC', 'DEFAULT_GROUP_STUDENT_ID')::int, idtransaction, 1 FROM miolo_transaction WHERE m_transaction = 'FrmPreferenciasAluno'; 
        ]]>
        </change>
        <applicationversion>3601</applicationversion>
        <orderchange>14</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[

        drop TRIGGER updateloginperson on basperson;
        
        ]]>
        </change>
        <applicationversion>3601</applicationversion>
        <orderchange>15</orderchange>
    </item>  
    <item>
        <change> 
            <![CDATA[

        CREATE OR REPLACE FUNCTION updateloginperson() RETURNS TRIGGER AS $body$
        DECLARE
            v_login_value TEXT;
            v_texto_msg TEXT;
        BEGIN

            SELECT personid INTO v_login_value
              FROM ONLY basperson
             WHERE login = new.miolousername
               AND personid != new.personid;

            IF v_login_value IS NOT NULL
            THEN
                IF TG_OP = 'UPDATE'
                THEN
                    RAISE EXCEPTION 'Não foi possível atualizar a pessoa de código % pois o usuário % já existe na pessoa de código % ',new.personid, new.miolousername, v_login_value;
                ELSE        
                    RAISE EXCEPTION 'Não foi possível inserir a pessoa pois o usuário % já existe na pessoa código % ',new.miolousername , v_login_value;
                END IF;
            ELSE
                new.login = new.miolousername;             
            END IF;

            RETURN NEW;
        END;
        $body$ language plpgsql security definer;

        ]]>
        </change>
        <applicationversion>3601</applicationversion>
        <orderchange>16</orderchange>
    </item> 
    <item>
        <change> 
            <![CDATA[
            CREATE TRIGGER updateloginperson BEFORE UPDATE OR INSERT ON basperson FOR EACH ROW EXECUTE PROCEDURE updateloginperson();
            ]]>
        </change>
        <applicationversion>3601</applicationversion>
        <orderchange>17</orderchange>
    </item>  
    <item>
        <change> 
            <![CDATA[
            ALTER TABLE miolo_groupuser DROP CONSTRAINT   miolo_groupuser_pkey;
            ]]>
        </change>
        <applicationversion>3601</applicationversion>
        <orderchange>18</orderchange>
    </item> 
    <item>
        <change> 
            <![CDATA[
            CREATE UNIQUE INDEX unq_miolo_groupuser ON miolo_groupuser(iduser, idgroup, unitid);
            ]]>
        </change>
        <applicationversion>3601</applicationversion>
        <orderchange>19</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        INSERT INTO miolo_transaction (m_transaction, idmodule, nametransaction, parentm_transaction, action) VALUES ('FrmImportacaoUrania', 'academic', 'Importação de dados do Urânia', 'acdProcess', 'main:process:importacaoUrania');
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>1</orderchange>
    </item> 
    
    <!-- INSTRUÇÕES SQL AVALIAÇÃO INSTITUCIONAL -->
    <item>
        <change> 
        <![CDATA[
        CREATE FUNCTION get_atributo(integer, text) RETURNS text
            LANGUAGE sql
            AS $_$ SELECT valor FROM ava_atributos WHERE ref_resposta = $1 AND chave = $2 $_$;        

            ALTER FUNCTION public.get_atributo(integer, text) OWNER TO postgres;
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>2</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE FUNCTION get_atributo_totalizador(integer, text) RETURNS text
        LANGUAGE sql
        AS $_$ SELECT valor FROM ava_totalizadores_atributos WHERE ref_totalizador = $1 AND chave = $2 $_$;

        ALTER FUNCTION public.get_atributo_totalizador(integer, text) OWNER TO postgres;
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>3</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE FUNCTION obteratributototalizador(character varying, integer) RETURNS character varying
        LANGUAGE sql
        AS $_$SELECT valor from ava_totalizadores_atributos where chave=$1 and ref_totalizador=$2 $_$;

        ALTER FUNCTION public.obteratributototalizador(character varying, integer) OWNER TO postgres;

        SET default_tablespace = '';

        SET default_with_oids = false;
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>4</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE FUNCTION obteratributototalizador(character varying, integer) RETURNS character varying
            LANGUAGE sql
            AS $_$SELECT valor from ava_totalizadores_atributos where chave=$1 and ref_totalizador=$2 $_$;


        ALTER FUNCTION public.obteratributototalizador(character varying, integer) OWNER TO postgres;

        SET default_tablespace = '';

        SET default_with_oids = false;

        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>5</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE TABLE ava_atributos (
        id_atributos integer NOT NULL,
        ref_resposta integer NOT NULL,
        chave character varying NOT NULL,
        valor text
        );
        ALTER TABLE public.ava_atributos OWNER TO postgres;
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>6</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE SEQUENCE ava_atributos_id_atributos_seq
        START WITH 1
        INCREMENT BY 1
        NO MINVALUE
        NO MAXVALUE
        CACHE 1;
        ALTER TABLE public.ava_atributos_id_atributos_seq OWNER TO postgres;
        ALTER SEQUENCE ava_atributos_id_atributos_seq OWNED BY ava_atributos.id_atributos;

        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>7</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE TABLE ava_avaliacao (
        id_avaliacao integer NOT NULL,
        nome text NOT NULL,
        dt_inicio date NOT NULL,
        dt_fim date,
        tipo_processo integer DEFAULT 1 NOT NULL,
        descritivo text,
        dt_fim_relatorio date
        );

        ALTER TABLE public.ava_avaliacao OWNER TO postgres;
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>8</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>9</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE SEQUENCE ava_avaliacao_id_avaliacao_seq
        START WITH 1
        INCREMENT BY 1
        NO MINVALUE
        NO MAXVALUE
        CACHE 1;
        ALTER TABLE public.ava_avaliacao_id_avaliacao_seq OWNER TO postgres;
        ALTER SEQUENCE ava_avaliacao_id_avaliacao_seq OWNED BY ava_avaliacao.id_avaliacao;
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>10</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE TABLE ava_avaliacao_perfil_widget (
        id_avaliacao_perfil_widget integer NOT NULL,
        ref_avaliacao integer NOT NULL,
        ref_perfil_widget integer,
        altura character varying,
        largura character varying,
        linha integer,
        coluna integer
        );

        ALTER TABLE public.ava_avaliacao_perfil_widget OWNER TO postgres;

        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>11</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE SEQUENCE ava_avaliacao_perfil_widget_id_avaliacao_perfil_widget_seq
        START WITH 1
        INCREMENT BY 1
        NO MINVALUE
        NO MAXVALUE
        CACHE 1;
        ALTER TABLE public.ava_avaliacao_perfil_widget_id_avaliacao_perfil_widget_seq OWNER TO postgres;
        
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>12</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE SEQUENCE ava_avaliacao_perfil_widget_id_avaliacao_perfil_widget_seq
        START WITH 1
        INCREMENT BY 1
        NO MINVALUE
        NO MAXVALUE
        CACHE 1;
        ALTER SEQUENCE ava_avaliacao_perfil_widget_id_avaliacao_perfil_widget_seq OWNED BY ava_avaliacao_perfil_widget.id_avaliacao_perfil_widget;

        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>13</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE TABLE ava_avaliacao_widget (
        id_avaliacao_widget integer NOT NULL,
        ref_avaliacao integer NOT NULL,
        ref_widget character varying NOT NULL,
        opcoes text
        );
        ALTER TABLE public.ava_avaliacao_widget OWNER TO postgres;
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>14</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE SEQUENCE ava_avaliacao_widget_id_avaliacao_widget_seq
        START WITH 1
        INCREMENT BY 1
        NO MINVALUE
        NO MAXVALUE
        CACHE 1;
        ALTER TABLE public.ava_avaliacao_widget_id_avaliacao_widget_seq OWNER TO postgres;
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>15</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        ALTER SEQUENCE ava_avaliacao_widget_id_avaliacao_widget_seq OWNED BY ava_avaliacao_widget.id_avaliacao_widget;
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>16</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE TABLE ava_bloco (
        id_bloco integer NOT NULL,
        nome text NOT NULL,
        ref_formulario integer NOT NULL,
        ref_granularidade integer NOT NULL,
        ordem integer
        );

        ALTER TABLE public.ava_bloco OWNER TO postgres;
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>17</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE SEQUENCE ava_bloco_id_bloco_seq
        START WITH 1
        INCREMENT BY 1
        NO MINVALUE
        NO MAXVALUE
        CACHE 1;
        ALTER TABLE public.ava_bloco_id_bloco_seq OWNER TO postgres;
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>18</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        ALTER SEQUENCE ava_bloco_id_bloco_seq OWNED BY ava_bloco.id_bloco;
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>19</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE TABLE ava_bloco_questoes (
        id_bloco_questoes integer NOT NULL,
        ref_bloco integer NOT NULL,
        ref_questao integer NOT NULL,
        ordem integer,
        obrigatorio boolean,
        ativo boolean
        );


        ALTER TABLE public.ava_bloco_questoes OWNER TO postgres;

        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>20</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE SEQUENCE ava_bloco_questoes_id_bloco_questoes_seq
        START WITH 1
        INCREMENT BY 1
        NO MINVALUE
        NO MAXVALUE
        CACHE 1;

        ALTER TABLE public.ava_bloco_questoes_id_bloco_questoes_seq OWNER TO postgres;
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>21</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        ALTER SEQUENCE ava_bloco_questoes_id_bloco_questoes_seq OWNED BY ava_bloco_questoes.id_bloco_questoes;
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>22</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE TABLE ava_config (
        chave text NOT NULL,
        valor text
        );
        ALTER TABLE public.ava_config OWNER TO postgres;
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>23</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE TABLE ava_totalizadores_atributos (
        id_totalizador_atributo integer NOT NULL,
        ref_totalizador integer NOT NULL,
        chave text NOT NULL,
        valor text NOT NULL
        );
        ALTER TABLE public.ava_totalizadores_atributos OWNER TO postgres;
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>24</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE SEQUENCE ava_estatisticas_atributos_id_estatistica_atributo_seq
        START WITH 1
        INCREMENT BY 1
        NO MINVALUE
        NO MAXVALUE
        CACHE 1;
        ALTER TABLE public.ava_estatisticas_atributos_id_estatistica_atributo_seq OWNER TO postgres;
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>25</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        ALTER SEQUENCE ava_estatisticas_atributos_id_estatistica_atributo_seq OWNED BY ava_totalizadores_atributos.id_totalizador_atributo;
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>26</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE TABLE ava_totalizadores (
        id_totalizador integer NOT NULL,
        ref_avaliacao integer NOT NULL,
        ref_granularidade integer NOT NULL,
        codigo text NOT NULL,
        descricao text,
        count integer NOT NULL
        );
        ALTER TABLE public.ava_totalizadores OWNER TO postgres;
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>27</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE SEQUENCE ava_estatisticas_id_estatistica_seq
        START WITH 1
        INCREMENT BY 1
        NO MINVALUE
        NO MAXVALUE
        CACHE 1;
        ALTER TABLE public.ava_estatisticas_id_estatistica_seq OWNER TO postgres;
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>28</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        ALTER SEQUENCE ava_estatisticas_id_estatistica_seq OWNED BY ava_totalizadores.id_totalizador;
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>29</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE SEQUENCE ava_form_log_id_form_log_seq
        START WITH 1
        INCREMENT BY 1
        NO MINVALUE
        NO MAXVALUE
        CACHE 1;
        ALTER TABLE public.ava_form_log_id_form_log_seq OWNER TO postgres;
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>30</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE TABLE ava_form_log (
        id_form_log integer DEFAULT nextval('ava_form_log_id_form_log_seq'::regclass) NOT NULL,
        ref_avaliador character varying NOT NULL,
        ref_formulario integer NOT NULL,
        tipo_acao integer NOT NULL,
        data timestamp without time zone DEFAULT now(),
        sessao character varying,
        tentativa character varying
        );
        ALTER TABLE public.ava_form_log OWNER TO postgres;
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>31</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        
        CREATE TABLE ava_formulario (
            id_formulario integer NOT NULL,
            ref_avaliacao integer NOT NULL,
            ref_perfil integer NOT NULL,
            nome text NOT NULL,
            ref_servico integer NOT NULL,
            descritivo text,
            ref_servico_email integer
        );


        ALTER TABLE public.ava_formulario OWNER TO postgres;

        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>32</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE SEQUENCE ava_formulario_id_formulario_seq
            START WITH 1
            INCREMENT BY 1
            NO MINVALUE
            NO MAXVALUE
            CACHE 1;


        ALTER TABLE public.ava_formulario_id_formulario_seq OWNER TO postgres;

        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>33</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        ALTER SEQUENCE ava_formulario_id_formulario_seq OWNED BY ava_formulario.id_formulario;
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>34</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
                CREATE TABLE ava_granularidade (
            id_granularidade integer NOT NULL,
            descricao text NOT NULL,
            ref_servico integer NOT NULL,
            tipo integer,
            opcoes text
        );


        ALTER TABLE public.ava_granularidade OWNER TO postgres;

        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>35</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE SEQUENCE ava_granularidade_id_granularidade_seq
            START WITH 1
            INCREMENT BY 1
            NO MINVALUE
            NO MAXVALUE
            CACHE 1;


        ALTER TABLE public.ava_granularidade_id_granularidade_seq OWNER TO postgres;

        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>36</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        ALTER SEQUENCE ava_granularidade_id_granularidade_seq OWNED BY ava_granularidade.id_granularidade;

        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>37</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE TABLE ava_mail (
            id_mail integer NOT NULL,
            ref_avaliacao integer NOT NULL,
            ref_perfil integer NOT NULL,
            ref_formulario integer,
            datahora timestamp without time zone NOT NULL,
            assunto text NOT NULL,
            conteudo text NOT NULL,
            tipo_envio integer NOT NULL,
            grupo_envio integer NOT NULL,
            processo integer,
            cco text
        );


        ALTER TABLE public.ava_mail OWNER TO postgres;

        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>38</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE SEQUENCE ava_mail_id_mail_seq
            START WITH 1
            INCREMENT BY 1
            NO MINVALUE
            NO MAXVALUE
            CACHE 1;


        ALTER TABLE public.ava_mail_id_mail_seq OWNER TO postgres;

        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>39</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        ALTER SEQUENCE ava_mail_id_mail_seq OWNED BY ava_mail.id_mail;
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>40</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
                CREATE TABLE ava_mail_log (
            id_mail_log integer NOT NULL,
            ref_mail integer NOT NULL,
            ref_destinatario integer NOT NULL,
            destinatario text NOT NULL,
            envio boolean,
            datahora timestamp without time zone
        );
        ALTER TABLE public.ava_mail_log OWNER TO postgres;
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>41</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
                CREATE TABLE ava_mail_log (
            id_mail_log integer NOT NULL,
            ref_mail integer NOT NULL,
            ref_destinatario integer NOT NULL,
            destinatario text NOT NULL,
            envio boolean,
            datahora timestamp without time zone
        );


        ALTER TABLE public.ava_mail_log OWNER TO postgres;

        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>42</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
            CREATE SEQUENCE ava_mail_log_id_mail_log_seq
            START WITH 1
            INCREMENT BY 1
            NO MINVALUE
            NO MAXVALUE
            CACHE 1;
        ALTER TABLE public.ava_mail_log_id_mail_log_seq OWNER TO postgres;

        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>43</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        ALTER SEQUENCE ava_mail_log_id_mail_log_seq OWNED BY ava_mail_log.id_mail_log;
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>44</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
                CREATE TABLE ava_matriculados (
            ref_campus integer NOT NULL,
            nome_campus text,
            ref_curso integer NOT NULL,
            nome_curso text,
            ref_projeto_pedagogico integer NOT NULL,
            nome_projeto_pedagogico text,
            ref_curriculo integer NOT NULL,
            nome_curriculo text,
            ref_disciplina integer NOT NULL,
            nome_disciplina text,
            dia integer NOT NULL,
            turno character(1),
            ref_professor integer NOT NULL,
            nome_professor text,
            matriculados integer NOT NULL
        );


        ALTER TABLE public.ava_matriculados OWNER TO postgres;

        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>45</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE TABLE ava_perfil (
            id_perfil integer NOT NULL,
            descricao text NOT NULL,
            tipo text NOT NULL,
            avaliavel boolean NOT NULL,
            posicao integer
        );


        ALTER TABLE public.ava_perfil OWNER TO postgres;

        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>46</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
                CREATE SEQUENCE ava_perfil_id_perfil_seq
            START WITH 1
            INCREMENT BY 1
            NO MINVALUE
            NO MAXVALUE
            CACHE 1;


        ALTER TABLE public.ava_perfil_id_perfil_seq OWNER TO postgres;

        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>47</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        ALTER SEQUENCE ava_perfil_id_perfil_seq OWNED BY ava_perfil.id_perfil;

        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>48</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE TABLE ava_perfil_widget (
            id_perfil_widget integer NOT NULL,
            ref_perfil integer NOT NULL,
            ref_widget character varying NOT NULL
        );


        ALTER TABLE public.ava_perfil_widget OWNER TO postgres;

        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>49</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE SEQUENCE ava_perfil_widget_id_perfil_widget_seq
            START WITH 1
            INCREMENT BY 1
            NO MINVALUE
            NO MAXVALUE
            CACHE 1;


        ALTER TABLE public.ava_perfil_widget_id_perfil_widget_seq OWNER TO postgres;
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>50</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
            ALTER SEQUENCE ava_perfil_widget_id_perfil_widget_seq OWNED BY ava_perfil_widget.id_perfil_widget;
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>51</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE TABLE ava_questoes (
        id_questoes integer NOT NULL,
        descricao text NOT NULL,
        opcoes text,
        tipo integer
        );

        ALTER TABLE public.ava_questoes OWNER TO postgres;
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>52</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        
        CREATE SEQUENCE ava_questoes_id_questoes_seq
            START WITH 1
            INCREMENT BY 1
            NO MINVALUE
            NO MAXVALUE
            CACHE 1;


        ALTER TABLE public.ava_questoes_id_questoes_seq OWNER TO postgres;
        
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>53</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        ALTER SEQUENCE ava_questoes_id_questoes_seq OWNED BY ava_questoes.id_questoes;        
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>54</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE TABLE ava_respostas (
            id_respostas integer NOT NULL,
            ref_bloco_questoes integer NOT NULL,
            ref_avaliado integer,
            ref_avaliador character varying NOT NULL,
            valor text,
            questao character varying
        );


        ALTER TABLE public.ava_respostas OWNER TO postgres;        
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>55</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE SEQUENCE ava_respostas_id_respostas_seq
            START WITH 1
            INCREMENT BY 1
            NO MINVALUE
            NO MAXVALUE
            CACHE 1;


        ALTER TABLE public.ava_respostas_id_respostas_seq OWNER TO postgres;
        
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>56</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        ALTER SEQUENCE ava_respostas_id_respostas_seq OWNED BY ava_respostas.id_respostas;
       
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>57</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE TABLE ava_servico (
            id_servico integer NOT NULL,
            descricao text NOT NULL,
            localizacao text NOT NULL,
            metodo text NOT NULL,
            parametros text,
            atributos text
        );


        ALTER TABLE public.ava_servico OWNER TO postgres;        
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>58</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE SEQUENCE ava_servico_id_servico_seq
            START WITH 1
            INCREMENT BY 1
            NO MINVALUE
            NO MAXVALUE
            CACHE 1;


        ALTER TABLE public.ava_servico_id_servico_seq OWNER TO postgres;        
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>59</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        ALTER SEQUENCE ava_servico_id_servico_seq OWNED BY ava_servico.id_servico;        
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>60</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE TABLE ava_widget (
            id_widget character varying NOT NULL,
            versao character varying NOT NULL,
            nome character varying NOT NULL,
            opcoes_padrao text
        );


        ALTER TABLE public.ava_widget OWNER TO postgres;        
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>61</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
            CREATE VIEW view_centros AS
            SELECT DISTINCT (SELECT a.valor FROM ava_totalizadores_atributos a WHERE ((a.ref_totalizador = t.id_totalizador) AND (a.chave = 'ref_centro'::text))) AS id, (SELECT a.valor FROM ava_totalizadores_atributos a WHERE ((a.ref_totalizador = t.id_totalizador) AND (a.chave = 'nome_centro'::text))) AS nome FROM ava_totalizadores t ORDER BY (SELECT a.valor FROM ava_totalizadores_atributos a WHERE ((a.ref_totalizador = t.id_totalizador) AND (a.chave = 'ref_centro'::text))), (SELECT a.valor FROM ava_totalizadores_atributos a WHERE ((a.ref_totalizador = t.id_totalizador) AND (a.chave = 'nome_centro'::text)));


        ALTER TABLE public.view_centros OWNER TO postgres;
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>62</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
                CREATE VIEW view_projetos_pedagogicos AS
            SELECT DISTINCT (SELECT a.valor FROM ava_totalizadores_atributos a WHERE ((a.ref_totalizador = t.id_totalizador) AND (a.chave = 'ref_projeto_pedagogico'::text))) AS id, (SELECT a.valor FROM ava_totalizadores_atributos a WHERE ((a.ref_totalizador = t.id_totalizador) AND (a.chave = 'nome_projeto_pedagogico'::text))) AS nome FROM ava_totalizadores t ORDER BY (SELECT a.valor FROM ava_totalizadores_atributos a WHERE ((a.ref_totalizador = t.id_totalizador) AND (a.chave = 'ref_projeto_pedagogico'::text))), (SELECT a.valor FROM ava_totalizadores_atributos a WHERE ((a.ref_totalizador = t.id_totalizador) AND (a.chave = 'nome_projeto_pedagogico'::text)));


        ALTER TABLE public.view_projetos_pedagogicos OWNER TO postgres;
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>63</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        ALTER TABLE ONLY ava_atributos ALTER COLUMN id_atributos SET DEFAULT nextval('ava_atributos_id_atributos_seq'::regclass);
        ALTER TABLE ONLY ava_avaliacao ALTER COLUMN id_avaliacao SET DEFAULT nextval('ava_avaliacao_id_avaliacao_seq'::regclass);
        ALTER TABLE ONLY ava_avaliacao_perfil_widget ALTER COLUMN id_avaliacao_perfil_widget SET DEFAULT nextval('ava_avaliacao_perfil_widget_id_avaliacao_perfil_widget_seq'::regclass);
        ALTER TABLE ONLY ava_avaliacao_widget ALTER COLUMN id_avaliacao_widget SET DEFAULT nextval('ava_avaliacao_widget_id_avaliacao_widget_seq'::regclass);
        ALTER TABLE ONLY ava_bloco ALTER COLUMN id_bloco SET DEFAULT nextval('ava_bloco_id_bloco_seq'::regclass);
        ALTER TABLE ONLY ava_bloco_questoes ALTER COLUMN id_bloco_questoes SET DEFAULT nextval('ava_bloco_questoes_id_bloco_questoes_seq'::regclass);
        ALTER TABLE ONLY ava_formulario ALTER COLUMN id_formulario SET DEFAULT nextval('ava_formulario_id_formulario_seq'::regclass);
        ALTER TABLE ONLY ava_granularidade ALTER COLUMN id_granularidade SET DEFAULT nextval('ava_granularidade_id_granularidade_seq'::regclass);
        ALTER TABLE ONLY ava_mail ALTER COLUMN id_mail SET DEFAULT nextval('ava_mail_id_mail_seq'::regclass);
        ALTER TABLE ONLY ava_mail_log ALTER COLUMN id_mail_log SET DEFAULT nextval('ava_mail_log_id_mail_log_seq'::regclass);
        ALTER TABLE ONLY ava_perfil ALTER COLUMN id_perfil SET DEFAULT nextval('ava_perfil_id_perfil_seq'::regclass);
        ALTER TABLE ONLY ava_perfil_widget ALTER COLUMN id_perfil_widget SET DEFAULT nextval('ava_perfil_widget_id_perfil_widget_seq'::regclass);
        ALTER TABLE ONLY ava_questoes ALTER COLUMN id_questoes SET DEFAULT nextval('ava_questoes_id_questoes_seq'::regclass);
        ALTER TABLE ONLY ava_respostas ALTER COLUMN id_respostas SET DEFAULT nextval('ava_respostas_id_respostas_seq'::regclass);
        ALTER TABLE ONLY ava_servico ALTER COLUMN id_servico SET DEFAULT nextval('ava_servico_id_servico_seq'::regclass);
        ALTER TABLE ONLY ava_totalizadores ALTER COLUMN id_totalizador SET DEFAULT nextval('ava_estatisticas_id_estatistica_seq'::regclass);
        ALTER TABLE ONLY ava_totalizadores_atributos ALTER COLUMN id_totalizador_atributo SET DEFAULT nextval('ava_estatisticas_atributos_id_estatistica_atributo_seq'::regclass);
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>64</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        INSERT INTO ava_atributos (id_atributos, ref_resposta, chave, valor) VALUES (28935, 4236, 'ref_curriculum', '22');
        INSERT INTO ava_atributos (id_atributos, ref_resposta, chave, valor) VALUES (28936, 4236, 'ref_curricular_component', 'M1');
        INSERT INTO ava_atributos (id_atributos, ref_resposta, chave, valor) VALUES (28937, 4236, 'ref_curricular_component_version', '1');
        INSERT INTO ava_atributos (id_atributos, ref_resposta, chave, valor) VALUES (28938, 4236, 'ref_course', 'CL');
        INSERT INTO ava_atributos (id_atributos, ref_resposta, chave, valor) VALUES (28939, 4237, 'ref_curriculum', '22');
        INSERT INTO ava_atributos (id_atributos, ref_resposta, chave, valor) VALUES (28940, 4237, 'ref_curricular_component', 'M1');
        INSERT INTO ava_atributos (id_atributos, ref_resposta, chave, valor) VALUES (28941, 4237, 'ref_curricular_component_version', '1');
        INSERT INTO ava_atributos (id_atributos, ref_resposta, chave, valor) VALUES (28942, 4237, 'ref_course', 'CL');
        INSERT INTO ava_atributos (id_atributos, ref_resposta, chave, valor) VALUES (28943, 4238, 'ref_curso', 'BCT');
        INSERT INTO ava_atributos (id_atributos, ref_resposta, chave, valor) VALUES (28944, 4238, 'ref_turno', '3');
        INSERT INTO ava_atributos (id_atributos, ref_resposta, chave, valor) VALUES (28945, 4238, 'ref_unidade', '1');
        INSERT INTO ava_atributos (id_atributos, ref_resposta, chave, valor) VALUES (28946, 4239, 'ref_curso', 'CL');
        INSERT INTO ava_atributos (id_atributos, ref_resposta, chave, valor) VALUES (28947, 4239, 'ref_turno', '3');
        INSERT INTO ava_atributos (id_atributos, ref_resposta, chave, valor) VALUES (28948, 4239, 'ref_unidade', '1');
        INSERT INTO ava_atributos (id_atributos, ref_resposta, chave, valor) VALUES (28949, 4240, 'ref_curso', 'BCT');
        INSERT INTO ava_atributos (id_atributos, ref_resposta, chave, valor) VALUES (28950, 4240, 'ref_turno', '3');
        INSERT INTO ava_atributos (id_atributos, ref_resposta, chave, valor) VALUES (28951, 4240, 'ref_unidade', '1');
        INSERT INTO ava_atributos (id_atributos, ref_resposta, chave, valor) VALUES (28952, 4241, 'ref_curso', 'CL');
        INSERT INTO ava_atributos (id_atributos, ref_resposta, chave, valor) VALUES (28953, 4241, 'ref_turno', '3');
        INSERT INTO ava_atributos (id_atributos, ref_resposta, chave, valor) VALUES (28954, 4241, 'ref_unidade', '1');
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>65</orderchange>
    </item>  
    <item>
        <change> 
        <![CDATA[        
        INSERT INTO ava_avaliacao (id_avaliacao, nome, dt_inicio, dt_fim, tipo_processo, descritivo, dt_fim_relatorio) VALUES (25, 'Avaliação demonstração SOLIS Sagu', '2012-05-19', '2015-01-31', 1, 'Avaliação Institucional de demonstração da Solis', '2012-09-28');
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>67</orderchange>
    </item>  
    <item>
        <change> 
        <![CDATA[
        INSERT INTO ava_bloco (id_bloco, nome, ref_formulario, ref_granularidade, ordem) VALUES (179, 'Avalie você mesmo', 78, 27, 1);
        INSERT INTO ava_bloco (id_bloco, nome, ref_formulario, ref_granularidade, ordem) VALUES (170, 'Avalie seu(s) curso(s)', 78, 20, 2);
        INSERT INTO ava_bloco (id_bloco, nome, ref_formulario, ref_granularidade, ordem) VALUES (169, 'Avalie a instituição', 78, 19, 3);
        INSERT INTO ava_bloco (id_bloco, nome, ref_formulario, ref_granularidade, ordem) VALUES (171, 'Avalie o desempenho da dsiciplina, quanto a', 79, 22, 1);
        INSERT INTO ava_bloco (id_bloco, nome, ref_formulario, ref_granularidade, ordem) VALUES (172, 'Avalie o currículo do curso e o coordenador', 79, 23, 2);
        INSERT INTO ava_bloco (id_bloco, nome, ref_formulario, ref_granularidade, ordem) VALUES (173, 'Auto-avaliação do professor', 79, 21, 3);
        INSERT INTO ava_bloco (id_bloco, nome, ref_formulario, ref_granularidade, ordem) VALUES (174, 'Avaliação geral', 79, 21, 4);
        INSERT INTO ava_bloco (id_bloco, nome, ref_formulario, ref_granularidade, ordem) VALUES (191, 'Clima organizacional', 83, 26, 1);
        INSERT INTO ava_bloco (id_bloco, nome, ref_formulario, ref_granularidade, ordem) VALUES (192, 'Comunicação', 83, 26, 2);
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>71</orderchange>
    </item>  
    <item>
        <change> 
        <![CDATA[
        INSERT INTO ava_bloco_questoes (id_bloco_questoes, ref_bloco, ref_questao, ordem, obrigatorio, ativo) VALUES (468, 179, 1, 1, true, true);
        INSERT INTO ava_bloco_questoes (id_bloco_questoes, ref_bloco, ref_questao, ordem, obrigatorio, ativo) VALUES (470, 179, 4, 4, true, true);
        INSERT INTO ava_bloco_questoes (id_bloco_questoes, ref_bloco, ref_questao, ordem, obrigatorio, ativo) VALUES (432, 170, 22, 1, true, true);
        INSERT INTO ava_bloco_questoes (id_bloco_questoes, ref_bloco, ref_questao, ordem, obrigatorio, ativo) VALUES (435, 170, 25, 4, true, true);
        INSERT INTO ava_bloco_questoes (id_bloco_questoes, ref_bloco, ref_questao, ordem, obrigatorio, ativo) VALUES (431, 169, 31, 2, true, true);
        INSERT INTO ava_bloco_questoes (id_bloco_questoes, ref_bloco, ref_questao, ordem, obrigatorio, ativo) VALUES (436, 171, 36, 1, true, true);
        INSERT INTO ava_bloco_questoes (id_bloco_questoes, ref_bloco, ref_questao, ordem, obrigatorio, ativo) VALUES (438, 171, 38, 3, true, true);
        INSERT INTO ava_bloco_questoes (id_bloco_questoes, ref_bloco, ref_questao, ordem, obrigatorio, ativo) VALUES (440, 171, 40, 5, true, true);
        INSERT INTO ava_bloco_questoes (id_bloco_questoes, ref_bloco, ref_questao, ordem, obrigatorio, ativo) VALUES (441, 172, 43, 1, true, true);
        INSERT INTO ava_bloco_questoes (id_bloco_questoes, ref_bloco, ref_questao, ordem, obrigatorio, ativo) VALUES (442, 172, 43, 2, true, true);
        INSERT INTO ava_bloco_questoes (id_bloco_questoes, ref_bloco, ref_questao, ordem, obrigatorio, ativo) VALUES (446, 172, 51, 6, true, true);
        INSERT INTO ava_bloco_questoes (id_bloco_questoes, ref_bloco, ref_questao, ordem, obrigatorio, ativo) VALUES (447, 173, 60, 1, true, true);
        INSERT INTO ava_bloco_questoes (id_bloco_questoes, ref_bloco, ref_questao, ordem, obrigatorio, ativo) VALUES (450, 173, 70, 4, true, true);
        INSERT INTO ava_bloco_questoes (id_bloco_questoes, ref_bloco, ref_questao, ordem, obrigatorio, ativo) VALUES (451, 174, 71, 1, true, true);
        INSERT INTO ava_bloco_questoes (id_bloco_questoes, ref_bloco, ref_questao, ordem, obrigatorio, ativo) VALUES (528, 191, 147, 1, true, true);
        INSERT INTO ava_bloco_questoes (id_bloco_questoes, ref_bloco, ref_questao, ordem, obrigatorio, ativo) VALUES (529, 192, 148, 1, true, true);
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>73</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        INSERT INTO ava_config (chave, valor) VALUES ('DB_TRUE', 't');
        INSERT INTO ava_config (chave, valor) VALUES ('DB_MASK_TIMESTAMP', 'DD/MM/YYYY HH24:MI');
        INSERT INTO ava_config (chave, valor) VALUES ('DB_MASK_TIMESTAMP_WITH_SECONDS', 'DD/MM/YYYY HH24:MI:SS');
        INSERT INTO ava_config (chave, valor) VALUES ('MSG_RECORD_INSERTED', 'Registro @1 inserido com sucesso!');
        INSERT INTO ava_config (chave, valor) VALUES ('MSG_RECORD_INSERT_ERROR', 'Não foi possível inserir o registro');
        INSERT INTO ava_config (chave, valor) VALUES ('MSG_RECORD_UPDATED', 'Registro @1 atualizado com sucesso!');
        INSERT INTO ava_config (chave, valor) VALUES ('MSG_RECORD_UPDATE_ERROR', 'Não foi possível editar o registro');
        INSERT INTO ava_config (chave, valor) VALUES ('MSG_CONFIRM_RECORD_DELETE', 'Tem certeza que deseja excluir o registro @1 ?''');
        INSERT INTO ava_config (chave, valor) VALUES ('MSG_RECORD_DELETED', 'Registro excluído');
        INSERT INTO ava_config (chave, valor) VALUES ('DB_MASK_DATE', 'DD/MM/YYYY');
        INSERT INTO ava_config (chave, valor) VALUES ('TIME_LIMIT_FOR_HARD_TASKS', '600');
        INSERT INTO ava_config (chave, valor) VALUES ('FORM_WARNING_COLOR', '#ffff3c');
        INSERT INTO ava_config (chave, valor) VALUES ('FORM_COLOR_OPTION_K', '#FFFFFF');
        INSERT INTO ava_config (chave, valor) VALUES ('FORM_COLOR_OPTION_E', '#FAFAFA');
        INSERT INTO ava_config (chave, valor) VALUES ('FORM_COLOR_OPTION_D', '#F5F5F5');
        INSERT INTO ava_config (chave, valor) VALUES ('FORM_COLOR_OPTION_C', '#F0F0F0');
        INSERT INTO ava_config (chave, valor) VALUES ('FORM_COLOR_OPTION_B', '#EBEBEB');
        INSERT INTO ava_config (chave, valor) VALUES ('FORM_COLOR_OPTION_A', '#E6E6E6');
        INSERT INTO ava_config (chave, valor) VALUES ('MESSAGE_FORM_VALIDATION_DENIED', '<b>AVISO:</b> Algumas questões do formulário não foram preenchidas corretamente (conforme MARCAÇÕES EM AMARELO). O formulário poderá ser enviado somente após o correto preenchimento das questões em destaque. Por favor, complete-as para finalizar o processo.');
        INSERT INTO ava_config (chave, valor) VALUES ('DB_RIGHT_LIST', '1');
        INSERT INTO ava_config (chave, valor) VALUES ('DB_RIGHT_INSERT', '2');
        INSERT INTO ava_config (chave, valor) VALUES ('DB_RIGHT_EDIT', '3');
        INSERT INTO ava_config (chave, valor) VALUES ('DB_RIGHT_DELETE', '4');
        INSERT INTO ava_config (chave, valor) VALUES ('DB_RIGHT_ROOT', '6');
        INSERT INTO ava_config (chave, valor) VALUES ('DB_RIGHT_ADMIN', '5');
        INSERT INTO ava_config (chave, valor) VALUES ('DB_TRANSACTION_ADMIN', 'AVINST_ADMIN');
        INSERT INTO ava_config (chave, valor) VALUES ('DB_TRANSACTION_ROOT', 'AVINST_ROOT');
        INSERT INTO ava_config (chave, valor) VALUES ('MAIL_DELAY_TIME_LOT', '150');
        INSERT INTO ava_config (chave, valor) VALUES ('MAIL_NUMBER_DISPATCH_LOT', '50');
        INSERT INTO ava_config (chave, valor) VALUES ('MAIL_DISPATCH_ENABLE', 'f');
        INSERT INTO ava_config (chave, valor) VALUES ('TIME_MONTHS_RELEASE_RESULTS', '4');
        INSERT INTO ava_config (chave, valor) VALUES ('DB_FALSE', 'f');
        INSERT INTO ava_config (chave, valor) VALUES ('DB_PREFIX_TABLE', 'ava');
        INSERT INTO ava_config (chave, valor) VALUES ('WS_GET_PERFIS_PESSOA_ID_SERVICE', '19');
        INSERT INTO ava_config (chave, valor) VALUES ('MAIL_DEFAULT_BODY', '<p><strong>Aluno(a)</strong></p>
        <p>O processo de Avaliação é um importante instrumento que a Instituição possui para tomada de inúmeras decisões de âmbito institucional, não fique de fora, não deixe de opinar!</p>
        <p>Participe!</p>
        </pre>');
        INSERT INTO ava_config (chave, valor) VALUES ('MAIL_DEFAULT_SUBJECT', 'Avaliação Institucional');
        INSERT INTO ava_config (chave, valor) VALUES ('ALREADY_FILLED_MESSAGE', 'Não foram encontrados vínculos para o usuário logado. Quaisquer dúvidas, por favor, contate o setor da avaliacao. <br/>Obrigado.');

        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>75</orderchange>
    </item>  
    <item>
        <change> 
        <![CDATA[
        INSERT INTO ava_form_log (id_form_log, ref_avaliador, ref_formulario, tipo_acao, data, sessao, tentativa) VALUES (411, 'ubirajara de none caputo', 78, 1, '2012-09-28 08:44:53.754321', 'o0eebhign5f5nlg04mim7vhiu5', '2011db072c0ad2e5e8f480aad407a45f');
        INSERT INTO ava_form_log (id_form_log, ref_avaliador, ref_formulario, tipo_acao, data, sessao, tentativa) VALUES (412, 'ubirajara de none caputo', 78, 1, '2012-09-28 08:44:59.057182', 'fdkqmelvvcrgk2dieqi10g8ec3', 'd786f9e79797deab4c02a9d842ab3a21');
        INSERT INTO ava_form_log (id_form_log, ref_avaliador, ref_formulario, tipo_acao, data, sessao, tentativa) VALUES (413, 'ubirajara de none caputo', 78, 1, '2012-09-28 08:48:34.558984', 'fdkqmelvvcrgk2dieqi10g8ec3', '5cb87850c4a6e854ecda5e2bd3a44672');
        INSERT INTO ava_form_log (id_form_log, ref_avaliador, ref_formulario, tipo_acao, data, sessao, tentativa) VALUES (414, 'ubirajara de none caputo', 78, 1, '2012-09-28 08:49:14.840715', 'fdkqmelvvcrgk2dieqi10g8ec3', '08d306a61762815ccf1964a991103c87');
        INSERT INTO ava_form_log (id_form_log, ref_avaliador, ref_formulario, tipo_acao, data, sessao, tentativa) VALUES (415, 'ubirajara de none caputo', 78, 1, '2012-09-28 08:50:03.315203', 'fdkqmelvvcrgk2dieqi10g8ec3', '01629bee7eeb52ce1a66fc02e9faa2cb');
        INSERT INTO ava_form_log (id_form_log, ref_avaliador, ref_formulario, tipo_acao, data, sessao, tentativa) VALUES (416, 'ubirajara de none caputo', 78, 1, '2012-09-28 08:50:17.323368', 'fdkqmelvvcrgk2dieqi10g8ec3', '62aa61285f1506c72b5ca2345d17143f');
        INSERT INTO ava_form_log (id_form_log, ref_avaliador, ref_formulario, tipo_acao, data, sessao, tentativa) VALUES (417, 'ubirajara de none caputo', 78, 1, '2012-09-28 08:51:19.065337', 'fdkqmelvvcrgk2dieqi10g8ec3', '7fe4ccb5bab15111297709b249e981e3');
        INSERT INTO ava_form_log (id_form_log, ref_avaliador, ref_formulario, tipo_acao, data, sessao, tentativa) VALUES (418, 'ubirajara de none caputo', 78, 1, '2012-09-28 11:20:58.166742', '80c3c3l1oksc2gk4olt3l90qs3', '6a2bc4e068abca1df6da57e46d1902ed');
        INSERT INTO ava_form_log (id_form_log, ref_avaliador, ref_formulario, tipo_acao, data, sessao, tentativa) VALUES (419, 'ubirajara de none caputo', 78, 1, '2012-09-28 11:21:45.543815', '80c3c3l1oksc2gk4olt3l90qs3', 'ce89d3abdea234d4484b68a8f1d45b76');
        INSERT INTO ava_form_log (id_form_log, ref_avaliador, ref_formulario, tipo_acao, data, sessao, tentativa) VALUES (420, 'SAMUEL KOCH', 78, 1, '2012-09-28 11:27:03.439446', '26oej2s108dki1mt58f4aoevk7', '70e2fc37e6aeea3dad9b8955b030f968');
        INSERT INTO ava_form_log (id_form_log, ref_avaliador, ref_formulario, tipo_acao, data, sessao, tentativa) VALUES (421, 'SAMUEL KOCH', 78, 3, '2012-09-28 11:27:12.901422', '26oej2s108dki1mt58f4aoevk7', '70e2fc37e6aeea3dad9b8955b030f968');
        INSERT INTO ava_form_log (id_form_log, ref_avaliador, ref_formulario, tipo_acao, data, sessao, tentativa) VALUES (422, 'SAMUEL KOCH', 79, 1, '2012-09-28 11:27:19.281252', '26oej2s108dki1mt58f4aoevk7', '9e1dde05b7706dc82a1f59eea3e8da8c');
        INSERT INTO ava_form_log (id_form_log, ref_avaliador, ref_formulario, tipo_acao, data, sessao, tentativa) VALUES (423, 'SAMUEL KOCH', 78, 1, '2012-09-28 11:34:16.934767', '26oej2s108dki1mt58f4aoevk7', '410e619b8efffad0e6719245ccda448a');
        INSERT INTO ava_form_log (id_form_log, ref_avaliador, ref_formulario, tipo_acao, data, sessao, tentativa) VALUES (424, 'SAMUEL KOCH', 78, 1, '2012-09-28 11:42:22.880143', '26oej2s108dki1mt58f4aoevk7', '95414e0673a429990819d7ea5939f181');
        INSERT INTO ava_form_log (id_form_log, ref_avaliador, ref_formulario, tipo_acao, data, sessao, tentativa) VALUES (425, 'SAMUEL KOCH', 79, 1, '2012-09-28 11:42:32.918593', '26oej2s108dki1mt58f4aoevk7', '5ac1cc3923a68ab8c97047cf2ac8e338');
        INSERT INTO ava_form_log (id_form_log, ref_avaliador, ref_formulario, tipo_acao, data, sessao, tentativa) VALUES (426, 'SAMUEL KOCH', 79, 1, '2012-09-28 12:27:47.116021', '26oej2s108dki1mt58f4aoevk7', '94003afd1f56833a2364747626e8fc7b');
        INSERT INTO ava_form_log (id_form_log, ref_avaliador, ref_formulario, tipo_acao, data, sessao, tentativa) VALUES (427, 'SAMUEL KOCH', 79, 1, '2012-09-28 12:33:44.603782', '26oej2s108dki1mt58f4aoevk7', 'b8ebaa3a8cf49d226de94c3c2b996723');
        INSERT INTO ava_form_log (id_form_log, ref_avaliador, ref_formulario, tipo_acao, data, sessao, tentativa) VALUES (428, 'SAMUEL KOCH', 83, 1, '2012-09-28 13:28:43.189474', 'k9g223fg3omk7v2785nmkai1o4', '7b00eaa34b17448f104f892c0eaccd1c');
        INSERT INTO ava_form_log (id_form_log, ref_avaliador, ref_formulario, tipo_acao, data, sessao, tentativa) VALUES (429, 'SAMUEL KOCH', 83, 1, '2012-09-28 13:42:40.78069', 'dapo18apll22k3cuueb7ovkjh6', 'fdcdd2af2e586c5a1e4c6f6a1166c3aa');
        INSERT INTO ava_form_log (id_form_log, ref_avaliador, ref_formulario, tipo_acao, data, sessao, tentativa) VALUES (430, 'SAMUEL KOCH', 78, 1, '2012-09-28 13:42:46.068828', 'dapo18apll22k3cuueb7ovkjh6', '787dc64011a96443edcab232742139b1');
        INSERT INTO ava_form_log (id_form_log, ref_avaliador, ref_formulario, tipo_acao, data, sessao, tentativa) VALUES (431, 'SAMUEL KOCH', 79, 1, '2012-09-28 13:42:50.402182', 'dapo18apll22k3cuueb7ovkjh6', '76f3dbdb48458654ce63ec34c2a148a7');
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>78</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        INSERT INTO ava_formulario (id_formulario, ref_avaliacao, ref_perfil, nome, ref_servico, descritivo, ref_servico_email) VALUES (78, 25, 1, 'Avaliação Discente - SOLIS', 10, 'Aluno, acesse aqui e avalie suas disciplinas, seu curso e a instituição', 10);
        INSERT INTO ava_formulario (id_formulario, ref_avaliacao, ref_perfil, nome, ref_servico, descritivo, ref_servico_email) VALUES (79, 25, 2, 'Avaliação Docente - SOLIS', 12, 'Professor, avalie aqui suas disciplinas, os cursos e a instituição.', 12);
        INSERT INTO ava_formulario (id_formulario, ref_avaliacao, ref_perfil, nome, ref_servico, descritivo, ref_servico_email) VALUES (83, 25, 16, 'Avaliação do clima organizacional', 14, 'Clima organizacional', 14);
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>80</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        INSERT INTO ava_granularidade (id_granularidade, descricao, ref_servico, tipo, opcoes) VALUES (21, 'SAGU - Professores - sem granularidade', 12, 1, 's:0:"";');
        INSERT INTO ava_granularidade (id_granularidade, descricao, ref_servico, tipo, opcoes) VALUES (24, 'SAGU - Funcionários - Sem granularidade', 14, 1, 's:0:"";');
        INSERT INTO ava_granularidade (id_granularidade, descricao, ref_servico, tipo, opcoes) VALUES (26, 'SAGU - Funcionários - Granularidade por setor', 16, 2, 'O:8:"stdClass":1:{s:16:"opcoesFormulario";a:2:{i:0;O:8:"stdClass":4:{s:8:"atributo";s:10:"ref_sector";s:10:"descritivo";s:16:"Código do setor";s:16:"tipoDeTratamento";s:5:"index";s:5:"ordem";s:1:"1";}i:1;O:8:"stdClass":4:{s:8:"atributo";s:6:"sector";s:10:"descritivo";s:5:"Setor";s:16:"tipoDeTratamento";s:6:"header";s:5:"ordem";s:1:"1";}}}');
        INSERT INTO ava_granularidade (id_granularidade, descricao, ref_servico, tipo, opcoes) VALUES (20, 'SAGU - Alunos - Granularidade por curso', 11, 2, 'O:8:"stdClass":1:{s:16:"opcoesFormulario";a:6:{i:0;O:8:"stdClass":4:{s:8:"atributo";s:9:"ref_curso";s:10:"descritivo";s:16:"Código do curso";s:16:"tipoDeTratamento";s:5:"index";s:5:"ordem";s:1:"1";}i:1;O:8:"stdClass":4:{s:8:"atributo";s:5:"curso";s:10:"descritivo";s:5:"Curso";s:16:"tipoDeTratamento";s:6:"header";s:5:"ordem";s:1:"1";}i:2;O:8:"stdClass":4:{s:8:"atributo";s:9:"ref_turno";s:10:"descritivo";s:16:"Código do turno";s:16:"tipoDeTratamento";s:5:"index";s:5:"ordem";s:1:"2";}i:3;O:8:"stdClass":4:{s:8:"atributo";s:5:"turno";s:10:"descritivo";s:5:"Turno";s:16:"tipoDeTratamento";s:6:"header";s:5:"ordem";s:1:"2";}i:4;O:8:"stdClass":4:{s:8:"atributo";s:11:"ref_unidade";s:10:"descritivo";s:25:"Código da unidade/campus";s:16:"tipoDeTratamento";s:5:"index";s:5:"ordem";s:1:"3";}i:5;O:8:"stdClass":4:{s:8:"atributo";s:7:"unidade";s:10:"descritivo";s:14:"Unidade/Campus";s:16:"tipoDeTratamento";s:6:"header";s:5:"ordem";s:0:"";}}}');
        INSERT INTO ava_granularidade (id_granularidade, descricao, ref_servico, tipo, opcoes) VALUES (23, 'SAGU - Professores - Granularidade por curso', 18, 2, 'O:8:"stdClass":1:{s:16:"opcoesFormulario";a:4:{i:0;O:8:"stdClass":4:{s:8:"atributo";s:10:"ref_course";s:10:"descritivo";s:16:"Código do curso";s:16:"tipoDeTratamento";s:5:"index";s:5:"ordem";s:1:"1";}i:1;O:8:"stdClass":4:{s:8:"atributo";s:6:"course";s:10:"descritivo";s:5:"Curso";s:16:"tipoDeTratamento";s:6:"header";s:5:"ordem";s:1:"1";}i:2;O:8:"stdClass":4:{s:8:"atributo";s:19:"ref_formation_level";s:10:"descritivo";s:16:"Versão do curso";s:16:"tipoDeTratamento";s:5:"index";s:5:"ordem";s:1:"2";}i:3;O:8:"stdClass":4:{s:8:"atributo";s:15:"formation_level";s:10:"descritivo";s:10:"Formação";s:16:"tipoDeTratamento";s:6:"header";s:5:"ordem";s:1:"2";}}}');
        INSERT INTO ava_granularidade (id_granularidade, descricao, ref_servico, tipo, opcoes) VALUES (19, 'SAGU - Alunos - Sem granularidade', 10, 1, 's:0:"";');
        INSERT INTO ava_granularidade (id_granularidade, descricao, ref_servico, tipo, opcoes) VALUES (27, 'SAGU - Alunos - Granularidade por disciplina', 17, 2, 'O:8:"stdClass":1:{s:16:"opcoesFormulario";a:7:{i:0;O:8:"stdClass":4:{s:8:"atributo";s:14:"ref_curriculum";s:10:"descritivo";s:16:"Código do curso";s:16:"tipoDeTratamento";s:5:"index";s:5:"ordem";s:1:"1";}i:1;O:8:"stdClass":4:{s:8:"atributo";s:24:"ref_curricular_component";s:10:"descritivo";s:21:"Código da disciplina";s:16:"tipoDeTratamento";s:5:"index";s:5:"ordem";s:1:"2";}i:2;O:8:"stdClass":4:{s:8:"atributo";s:32:"ref_curricular_component_version";s:10:"descritivo";s:32:"Código da versão da disciplina";s:16:"tipoDeTratamento";s:5:"index";s:5:"ordem";s:1:"3";}i:3;O:8:"stdClass":4:{s:8:"atributo";s:20:"curricular_component";s:10:"descritivo";s:10:"Disciplina";s:16:"tipoDeTratamento";s:6:"header";s:5:"ordem";s:1:"1";}i:4;O:8:"stdClass":4:{s:8:"atributo";s:10:"ref_course";s:10:"descritivo";s:16:"Código do curso";s:16:"tipoDeTratamento";s:9:"attribute";s:5:"ordem";s:1:"1";}i:5;O:8:"stdClass":4:{s:8:"atributo";s:6:"course";s:10:"descritivo";s:5:"Curso";s:16:"tipoDeTratamento";s:6:"header";s:5:"ordem";s:1:"2";}i:6;O:8:"stdClass":4:{s:8:"atributo";s:4:"turn";s:10:"descritivo";s:5:"turno";s:16:"tipoDeTratamento";s:6:"header";s:5:"ordem";s:1:"4";}}}');
        INSERT INTO ava_granularidade (id_granularidade, descricao, ref_servico, tipo, opcoes) VALUES (22, 'SAGU - Professores - Granularidade por disciplina', 13, 2, 'O:8:"stdClass":1:{s:16:"opcoesFormulario";a:9:{i:0;O:8:"stdClass":4:{s:8:"atributo";s:9:"ref_group";s:10:"descritivo";s:31:"Código da disciplina oferecida";s:16:"tipoDeTratamento";s:9:"attribute";s:5:"ordem";s:1:"1";}i:1;O:8:"stdClass":4:{s:8:"atributo";s:10:"ref_course";s:10:"descritivo";s:16:"Código do curso";s:16:"tipoDeTratamento";s:9:"attribute";s:5:"ordem";s:1:"2";}i:2;O:8:"stdClass":4:{s:8:"atributo";s:6:"course";s:10:"descritivo";s:5:"Curso";s:16:"tipoDeTratamento";s:6:"header";s:5:"ordem";s:1:"2";}i:3;O:8:"stdClass":4:{s:8:"atributo";s:14:"ref_curriculum";s:10:"descritivo";s:21:"Código do currículo";s:16:"tipoDeTratamento";s:5:"index";s:5:"ordem";s:1:"1";}i:4;O:8:"stdClass":4:{s:8:"atributo";s:24:"ref_curricular_component";s:10:"descritivo";s:31:"Código da disciplina oferecida";s:16:"tipoDeTratamento";s:5:"index";s:5:"ordem";s:1:"2";}i:5;O:8:"stdClass":4:{s:8:"atributo";s:20:"curricular_component";s:10:"descritivo";s:10:"Disciplina";s:16:"tipoDeTratamento";s:6:"header";s:5:"ordem";s:1:"1";}i:6;O:8:"stdClass":4:{s:8:"atributo";s:4:"turn";s:10:"descritivo";s:5:"Turno";s:16:"tipoDeTratamento";s:6:"header";s:5:"ordem";s:1:"3";}i:7;O:8:"stdClass":4:{s:8:"atributo";s:8:"ref_unit";s:10:"descritivo";s:18:"Código da unidade";s:16:"tipoDeTratamento";s:5:"index";s:5:"ordem";s:1:"3";}i:8;O:8:"stdClass":4:{s:8:"atributo";s:4:"unit";s:10:"descritivo";s:7:"Unidade";s:16:"tipoDeTratamento";s:6:"header";s:5:"ordem";s:1:"5";}}}');

        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>82</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        INSERT INTO ava_perfil (id_perfil, descricao, tipo, avaliavel, posicao) VALUES (11, 'Administrador técnico do sistema', 'AVINST_ROOT', false, 2);
        INSERT INTO ava_perfil (id_perfil, descricao, tipo, avaliavel, posicao) VALUES (10, 'Administrador do sistema', 'AVINST_ADMINISTRATOR', false, 1);
        INSERT INTO ava_perfil (id_perfil, descricao, tipo, avaliavel, posicao) VALUES (2, 'Professor', 'PROFESSORES', true, 3);
        INSERT INTO ava_perfil (id_perfil, descricao, tipo, avaliavel, posicao) VALUES (1, 'Aluno', 'ALUNOS', true, 4);
        INSERT INTO ava_perfil (id_perfil, descricao, tipo, avaliavel, posicao) VALUES (16, 'Funcionarios', 'FUNCIONÁRIOS', true, 5);
        INSERT INTO ava_perfil (id_perfil, descricao, tipo, avaliavel, posicao) VALUES (17, 'Coordenadores de curso', 'COORDENADORES', true, 6);
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>86</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        INSERT INTO ava_questoes (id_questoes, descricao, opcoes, tipo) VALUES (31, 'Quais seus comentários e sugestões para a instituição?', 'O:8:"stdClass":3:{s:4:"size";s:2:"70";s:6:"height";s:1:"5";s:9:"charLimit";s:4:"2000";}', 1);
        INSERT INTO ava_questoes (id_questoes, descricao, opcoes, tipo) VALUES (71, 'Registre comentários ou sugestões para a instituição', 'O:8:"stdClass":3:{s:4:"size";s:2:"40";s:6:"height";s:1:"5";s:9:"charLimit";s:4:"2000";}', 1);
        INSERT INTO ava_questoes (id_questoes, descricao, opcoes, tipo) VALUES (22, 'A composição das atividades e materiais da disciplina é', 'a:6:{i:0;O:8:"stdClass":3:{s:6:"codigo";s:1:"5";s:14:"descricaoOpcao";s:1:"A";s:7:"legenda";s:20:"Plenamente adequados";}i:1;O:8:"stdClass":3:{s:6:"codigo";s:1:"4";s:14:"descricaoOpcao";s:1:"B";s:7:"legenda";s:9:"Adequados";}i:2;O:8:"stdClass":3:{s:6:"codigo";s:1:"3";s:14:"descricaoOpcao";s:1:"C";s:7:"legenda";s:6:"Médio";}i:3;O:8:"stdClass":3:{s:6:"codigo";s:1:"2";s:14:"descricaoOpcao";s:1:"D";s:7:"legenda";s:11:"Inadequados";}i:4;O:8:"stdClass":3:{s:6:"codigo";s:1:"1";s:14:"descricaoOpcao";s:1:"E";s:7:"legenda";s:22:"Totalmente inadequados";}i:5;O:8:"stdClass":3:{s:6:"codigo";s:1:"0";s:14:"descricaoOpcao";s:1:"K";s:7:"legenda";s:25:"Sem condições de opinar";}}', 2);
        INSERT INTO ava_questoes (id_questoes, descricao, opcoes, tipo) VALUES (25, 'As atividades complementares promovidas pelo curso e pela instituição são', 'a:6:{i:0;O:8:"stdClass":3:{s:6:"codigo";s:1:"5";s:14:"descricaoOpcao";s:1:"A";s:7:"legenda";s:20:"Plenamente adequadas";}i:1;O:8:"stdClass":3:{s:6:"codigo";s:1:"4";s:14:"descricaoOpcao";s:1:"B";s:7:"legenda";s:9:"Adequadas";}i:2;O:8:"stdClass":3:{s:6:"codigo";s:1:"3";s:14:"descricaoOpcao";s:1:"C";s:7:"legenda";s:7:"Médias";}i:3;O:8:"stdClass":3:{s:6:"codigo";s:1:"2";s:14:"descricaoOpcao";s:1:"D";s:7:"legenda";s:11:"Inadequadas";}i:4;O:8:"stdClass":3:{s:6:"codigo";s:1:"1";s:14:"descricaoOpcao";s:1:"E";s:7:"legenda";s:22:"Totalmente inadequadas";}i:5;O:8:"stdClass":3:{s:6:"codigo";s:1:"0";s:14:"descricaoOpcao";s:1:"K";s:7:"legenda";s:25:"Sem condições de opinar";}}', 2);
        INSERT INTO ava_questoes (id_questoes, descricao, opcoes, tipo) VALUES (36, 'O resultado que você está obtendo com esta disciplina é', 'a:6:{i:0;O:8:"stdClass":3:{s:6:"codigo";s:1:"5";s:14:"descricaoOpcao";s:1:"A";s:7:"legenda";s:24:"Plenamente satisfatório";}i:1;O:8:"stdClass":3:{s:6:"codigo";s:1:"4";s:14:"descricaoOpcao";s:1:"B";s:7:"legenda";s:13:"Satisfatório";}i:2;O:8:"stdClass":3:{s:6:"codigo";s:1:"3";s:14:"descricaoOpcao";s:1:"C";s:7:"legenda";s:6:"Médio";}i:3;O:8:"stdClass":3:{s:6:"codigo";s:1:"2";s:14:"descricaoOpcao";s:1:"D";s:7:"legenda";s:15:"Insatisfatório";}i:4;O:8:"stdClass":3:{s:6:"codigo";s:1:"1";s:14:"descricaoOpcao";s:1:"E";s:7:"legenda";s:26:"Totalmente insatisfatório";}i:5;O:8:"stdClass":3:{s:6:"codigo";s:1:"0";s:14:"descricaoOpcao";s:1:"K";s:7:"legenda";s:25:"Sem condições de opinar";}}', 2);
        INSERT INTO ava_questoes (id_questoes, descricao, opcoes, tipo) VALUES (40, 'A busca para sanar a falta de embasamento por parte dos alunos são', 'a:6:{i:0;O:8:"stdClass":3:{s:6:"codigo";s:1:"5";s:14:"descricaoOpcao";s:1:"A";s:7:"legenda";s:25:"Plenamente satisfatórias";}i:1;O:8:"stdClass":3:{s:6:"codigo";s:1:"4";s:14:"descricaoOpcao";s:1:"B";s:7:"legenda";s:14:"Satisfatórias";}i:2;O:8:"stdClass":3:{s:6:"codigo";s:1:"3";s:14:"descricaoOpcao";s:1:"C";s:7:"legenda";s:7:"Médias";}i:3;O:8:"stdClass":3:{s:6:"codigo";s:1:"2";s:14:"descricaoOpcao";s:1:"D";s:7:"legenda";s:17:"Instatisfatórias";}i:4;O:8:"stdClass":3:{s:6:"codigo";s:1:"1";s:14:"descricaoOpcao";s:1:"E";s:7:"legenda";s:27:"Totalmente insatisfatórias";}i:5;O:8:"stdClass":3:{s:6:"codigo";s:1:"0";s:14:"descricaoOpcao";s:1:"K";s:7:"legenda";s:25:"Sem condições de opinar";}}', 2);
        INSERT INTO ava_questoes (id_questoes, descricao, opcoes, tipo) VALUES (38, 'Os alunos contribuem para um bom ambiente de trabalho?', 'a:6:{i:0;O:8:"stdClass":3:{s:6:"codigo";s:1:"5";s:14:"descricaoOpcao";s:1:"A";s:7:"legenda";s:6:"Sempre";}i:1;O:8:"stdClass":3:{s:6:"codigo";s:1:"4";s:14:"descricaoOpcao";s:1:"B";s:7:"legenda";s:10:"Geralmente";}i:2;O:8:"stdClass":3:{s:6:"codigo";s:1:"3";s:14:"descricaoOpcao";s:1:"C";s:7:"legenda";s:9:"Às vezes";}i:3;O:8:"stdClass":3:{s:6:"codigo";s:1:"2";s:14:"descricaoOpcao";s:1:"D";s:7:"legenda";s:9:"Raramente";}i:4;O:8:"stdClass":3:{s:6:"codigo";s:1:"1";s:14:"descricaoOpcao";s:1:"E";s:7:"legenda";s:5:"Nunca";}i:5;O:8:"stdClass":3:{s:6:"codigo";s:1:"0";s:14:"descricaoOpcao";s:1:"K";s:7:"legenda";s:25:"Sem condições de opinar";}}', 2);
        INSERT INTO ava_questoes (id_questoes, descricao, opcoes, tipo) VALUES (43, 'A carga horária da disciplina é', 'a:6:{i:0;O:8:"stdClass":3:{s:6:"codigo";s:1:"5";s:14:"descricaoOpcao";s:1:"A";s:7:"legenda";s:19:"Plenamente adequada";}i:1;O:8:"stdClass":3:{s:6:"codigo";s:1:"4";s:14:"descricaoOpcao";s:1:"B";s:7:"legenda";s:8:"Adequada";}i:2;O:8:"stdClass":3:{s:6:"codigo";s:1:"3";s:14:"descricaoOpcao";s:1:"C";s:7:"legenda";s:6:"Média";}i:3;O:8:"stdClass":3:{s:6:"codigo";s:1:"2";s:14:"descricaoOpcao";s:1:"D";s:7:"legenda";s:10:"Inadequada";}i:4;O:8:"stdClass":3:{s:6:"codigo";s:1:"1";s:14:"descricaoOpcao";s:1:"E";s:7:"legenda";s:21:"Totalmente inadequada";}i:5;O:8:"stdClass":3:{s:6:"codigo";s:1:"0";s:14:"descricaoOpcao";s:1:"K";s:7:"legenda";s:25:"Sem condições de opinar";}}', 2);
        INSERT INTO ava_questoes (id_questoes, descricao, opcoes, tipo) VALUES (51, 'A melhoria da qualidade do curso é', 'a:6:{i:0;O:8:"stdClass":3:{s:6:"codigo";s:1:"5";s:14:"descricaoOpcao";s:1:"A";s:7:"legenda";s:19:"Plenamente adequada";}i:1;O:8:"stdClass":3:{s:6:"codigo";s:1:"4";s:14:"descricaoOpcao";s:1:"B";s:7:"legenda";s:8:"Adequada";}i:2;O:8:"stdClass":3:{s:6:"codigo";s:1:"3";s:14:"descricaoOpcao";s:1:"C";s:7:"legenda";s:6:"Média";}i:3;O:8:"stdClass":3:{s:6:"codigo";s:1:"2";s:14:"descricaoOpcao";s:1:"D";s:7:"legenda";s:10:"Inadequada";}i:4;O:8:"stdClass":3:{s:6:"codigo";s:1:"1";s:14:"descricaoOpcao";s:1:"E";s:7:"legenda";s:21:"Totalmente inadequada";}i:5;O:8:"stdClass":3:{s:6:"codigo";s:1:"0";s:14:"descricaoOpcao";s:1:"K";s:7:"legenda";s:25:"Sem condições de opinar";}}', 2);
        INSERT INTO ava_questoes (id_questoes, descricao, opcoes, tipo) VALUES (60, 'Quais as técnicas de ensino você mais utiliza nas suas aulas? <b>(marque até 3 alternativas)</b>', 'O:8:"stdClass":2:{s:6:"opcoes";a:8:{i:0;O:8:"stdClass":3:{s:6:"codigo";s:1:"1";s:14:"descricaoOpcao";s:17:"Aulas expositivas";s:15:"opcaoDescritiva";s:1:"f";}i:1;O:8:"stdClass":3:{s:6:"codigo";s:1:"2";s:14:"descricaoOpcao";s:28:"Aulas expositivas dialogadas";s:15:"opcaoDescritiva";s:1:"f";}i:2;O:8:"stdClass":3:{s:6:"codigo";s:1:"3";s:14:"descricaoOpcao";s:18:"Trabalhos em grupo";s:15:"opcaoDescritiva";s:1:"f";}i:3;O:8:"stdClass":3:{s:6:"codigo";s:1:"4";s:14:"descricaoOpcao";s:15:"Aulas práticas";s:15:"opcaoDescritiva";s:1:"f";}i:4;O:8:"stdClass":3:{s:6:"codigo";s:1:"5";s:14:"descricaoOpcao";s:11:"Exercícios";s:15:"opcaoDescritiva";s:1:"f";}i:5;O:8:"stdClass":3:{s:6:"codigo";s:1:"6";s:14:"descricaoOpcao";s:11:"Seminários";s:15:"opcaoDescritiva";s:1:"f";}i:6;O:8:"stdClass":3:{s:6:"codigo";s:1:"7";s:14:"descricaoOpcao";s:16:"Estudos de casos";s:15:"opcaoDescritiva";s:1:"f";}i:7;O:8:"stdClass":3:{s:6:"codigo";s:1:"8";s:14:"descricaoOpcao";s:18:"Outro(s). Qual(is)";s:15:"opcaoDescritiva";s:1:"t";}}s:11:"maxSelected";s:1:"3";}', 3);
        INSERT INTO ava_questoes (id_questoes, descricao, opcoes, tipo) VALUES (1, 'A minha aprendizagem, até o momento é', 'a:6:{i:0;O:8:"stdClass":3:{s:6:"codigo";s:1:"5";s:14:"descricaoOpcao";s:1:"A";s:7:"legenda";s:24:"Plenamente satisfatória";}i:1;O:8:"stdClass":3:{s:6:"codigo";s:1:"4";s:14:"descricaoOpcao";s:1:"B";s:7:"legenda";s:13:"Satisfatória";}i:2;O:8:"stdClass":3:{s:6:"codigo";s:1:"3";s:14:"descricaoOpcao";s:1:"C";s:7:"legenda";s:6:"Média";}i:3;O:8:"stdClass":3:{s:6:"codigo";s:1:"2";s:14:"descricaoOpcao";s:1:"D";s:7:"legenda";s:15:"Insatisfatória";}i:4;O:8:"stdClass":3:{s:6:"codigo";s:1:"1";s:14:"descricaoOpcao";s:1:"E";s:7:"legenda";s:26:"Totalmente insatisfatória";}i:5;O:8:"stdClass":3:{s:6:"codigo";s:1:"0";s:14:"descricaoOpcao";s:1:"K";s:7:"legenda";s:25:"Sem condições de opinar";}}', 2);
        INSERT INTO ava_questoes (id_questoes, descricao, opcoes, tipo) VALUES (4, 'A organização do professor perante as aulas ministradas é', 'a:6:{i:0;O:8:"stdClass":3:{s:6:"codigo";s:1:"5";s:14:"descricaoOpcao";s:1:"A";s:7:"legenda";s:19:"Plenamente adequada";}i:1;O:8:"stdClass":3:{s:6:"codigo";s:1:"4";s:14:"descricaoOpcao";s:1:"B";s:7:"legenda";s:8:"Adequada";}i:2;O:8:"stdClass":3:{s:6:"codigo";s:1:"3";s:14:"descricaoOpcao";s:1:"C";s:7:"legenda";s:6:"Média";}i:3;O:8:"stdClass":3:{s:6:"codigo";s:1:"2";s:14:"descricaoOpcao";s:1:"D";s:7:"legenda";s:10:"Inadequada";}i:4;O:8:"stdClass":3:{s:6:"codigo";s:1:"1";s:14:"descricaoOpcao";s:1:"E";s:7:"legenda";s:21:"Totalmente inadequada";}i:5;O:8:"stdClass":3:{s:6:"codigo";s:1:"0";s:14:"descricaoOpcao";s:1:"K";s:7:"legenda";s:25:"Sem condições de opinar";}}', 2);
        INSERT INTO ava_questoes (id_questoes, descricao, opcoes, tipo) VALUES (70, 'O que os alunos tem considerado de negativo nas suas aulas? <b>Marque até 3 alternativas</b>', 'O:8:"stdClass":2:{s:6:"opcoes";a:8:{i:0;O:8:"stdClass":3:{s:6:"codigo";s:1:"1";s:14:"descricaoOpcao";s:15:"Muito conteúdo";s:15:"opcaoDescritiva";s:1:"f";}i:1;O:8:"stdClass":3:{s:6:"codigo";s:1:"2";s:14:"descricaoOpcao";s:10:"Exigência";s:15:"opcaoDescritiva";s:1:"f";}i:2;O:8:"stdClass":3:{s:6:"codigo";s:1:"3";s:14:"descricaoOpcao";s:18:"Conteúdo difícil";s:15:"opcaoDescritiva";s:1:"f";}i:3;O:8:"stdClass":3:{s:6:"codigo";s:1:"4";s:14:"descricaoOpcao";s:16:"Muitos trabalhos";s:15:"opcaoDescritiva";s:1:"f";}i:4;O:8:"stdClass":3:{s:6:"codigo";s:1:"5";s:14:"descricaoOpcao";s:14:"Turmas grandes";s:15:"opcaoDescritiva";s:1:"f";}i:5;O:8:"stdClass":3:{s:6:"codigo";s:1:"6";s:14:"descricaoOpcao";s:13:"Muita leitura";s:15:"opcaoDescritiva";s:1:"f";}i:6;O:8:"stdClass":3:{s:6:"codigo";s:1:"7";s:14:"descricaoOpcao";s:12:"Muita teoria";s:15:"opcaoDescritiva";s:1:"f";}i:7;O:8:"stdClass":3:{s:6:"codigo";s:1:"8";s:14:"descricaoOpcao";s:18:"Outro(s). Qual(is)";s:15:"opcaoDescritiva";s:1:"t";}}s:11:"maxSelected";s:1:"3";}', 3);
        INSERT INTO ava_questoes (id_questoes, descricao, opcoes, tipo) VALUES (147, 'Minha opinião em relação ao ambiente de trabalho', 'a:6:{i:0;O:8:"stdClass":3:{s:6:"codigo";s:1:"5";s:14:"descricaoOpcao";s:1:"A";s:7:"legenda";s:24:"Plenamente satisfatória";}i:1;O:8:"stdClass":3:{s:6:"codigo";s:1:"4";s:14:"descricaoOpcao";s:1:"B";s:7:"legenda";s:13:"Satisfatória";}i:2;O:8:"stdClass":3:{s:6:"codigo";s:1:"3";s:14:"descricaoOpcao";s:1:"C";s:7:"legenda";s:6:"Média";}i:3;O:8:"stdClass":3:{s:6:"codigo";s:1:"2";s:14:"descricaoOpcao";s:1:"D";s:7:"legenda";s:15:"Insatisfatória";}i:4;O:8:"stdClass":3:{s:6:"codigo";s:1:"1";s:14:"descricaoOpcao";s:1:"E";s:7:"legenda";s:26:"Totalmente insatisfatória";}i:5;O:8:"stdClass":3:{s:6:"codigo";s:1:"0";s:14:"descricaoOpcao";s:1:"K";s:7:"legenda";s:25:"Sem condições de opinar";}}', 2);
        INSERT INTO ava_questoes (id_questoes, descricao, opcoes, tipo) VALUES (148, 'A relação coordenação/funcionário é', 'a:6:{i:0;O:8:"stdClass":3:{s:6:"codigo";s:1:"5";s:14:"descricaoOpcao";s:1:"A";s:7:"legenda";s:24:"Plenamente satisfatória";}i:1;O:8:"stdClass":3:{s:6:"codigo";s:1:"4";s:14:"descricaoOpcao";s:1:"B";s:7:"legenda";s:13:"Satisfatória";}i:2;O:8:"stdClass":3:{s:6:"codigo";s:1:"3";s:14:"descricaoOpcao";s:1:"C";s:7:"legenda";s:6:"Média";}i:3;O:8:"stdClass":3:{s:6:"codigo";s:1:"2";s:14:"descricaoOpcao";s:1:"D";s:7:"legenda";s:15:"Insatisfatória";}i:4;O:8:"stdClass":3:{s:6:"codigo";s:1:"1";s:14:"descricaoOpcao";s:1:"E";s:7:"legenda";s:26:"Totalmente insatisfatória";}i:5;O:8:"stdClass":3:{s:6:"codigo";s:1:"0";s:14:"descricaoOpcao";s:1:"K";s:7:"legenda";s:25:"Sem condições de opinar";}}', 2);
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>89</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        INSERT INTO ava_respostas (id_respostas, ref_bloco_questoes, ref_avaliado, ref_avaliador, valor, questao) VALUES (4236, 468, NULL, '002.910.090-93', '3', 'question_46822_M1_1');
        INSERT INTO ava_respostas (id_respostas, ref_bloco_questoes, ref_avaliado, ref_avaliador, valor, questao) VALUES (4237, 470, NULL, '002.910.090-93', '3', 'question_47022_M1_1');
        INSERT INTO ava_respostas (id_respostas, ref_bloco_questoes, ref_avaliado, ref_avaliador, valor, questao) VALUES (4238, 432, NULL, '002.910.090-93', '1', 'question_432BCT_3_1');
        INSERT INTO ava_respostas (id_respostas, ref_bloco_questoes, ref_avaliado, ref_avaliador, valor, questao) VALUES (4239, 432, NULL, '002.910.090-93', '2', 'question_432CL_3_1');
        INSERT INTO ava_respostas (id_respostas, ref_bloco_questoes, ref_avaliado, ref_avaliador, valor, questao) VALUES (4240, 435, NULL, '002.910.090-93', '1', 'question_435BCT_3_1');
        INSERT INTO ava_respostas (id_respostas, ref_bloco_questoes, ref_avaliado, ref_avaliador, valor, questao) VALUES (4241, 435, NULL, '002.910.090-93', '2', 'question_435CL_3_1');
        INSERT INTO ava_respostas (id_respostas, ref_bloco_questoes, ref_avaliado, ref_avaliador, valor, questao) VALUES (4242, 431, NULL, '002.910.090-93', 'reste', 'question_431');

        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>91</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        INSERT INTO ava_servico (id_servico, descricao, localizacao, metodo, parametros, atributos) VALUES (17, 'SAGU - Alunos - Granularidade por Disciplina', 'avinstServicoInterno', 'saguObtemDisciplinasAluno', '$login', 'N;');
        INSERT INTO ava_servico (id_servico, descricao, localizacao, metodo, parametros, atributos) VALUES (11, 'SAGU - Alunos - Obter cursos', 'avinstServicoInterno', 'saguObtemCursosAluno', '$login', 'N;');
        INSERT INTO ava_servico (id_servico, descricao, localizacao, metodo, parametros, atributos) VALUES (10, 'SAGU - Alunos - Verifica se está com disciplinas aptas a avaliar', 'avinstServicoInterno', 'saguAutenticaAluno', '$login', 'N;');
        INSERT INTO ava_servico (id_servico, descricao, localizacao, metodo, parametros, atributos) VALUES (12, 'SAGU - Professores - Verifica se o professor tem alguma disciplina sendo ministrada', 'avinstServicoInterno', 'saguAutenticaProfessor', '$login', 'N;');
        INSERT INTO ava_servico (id_servico, descricao, localizacao, metodo, parametros, atributos) VALUES (13, 'SAGU - Professores - Obter disciplinas', 'avinstServicoInterno', 'saguObtemDisciplinasProfessor', '$login', 'N;');
        INSERT INTO ava_servico (id_servico, descricao, localizacao, metodo, parametros, atributos) VALUES (18, 'SAGU - Professores - Obter cursos', 'avinstServicoInterno', 'saguObtemCursosProfessor', '$login', 'N;');
        INSERT INTO ava_servico (id_servico, descricao, localizacao, metodo, parametros, atributos) VALUES (16, 'SAGU - Funcionários - Obter setores', 'avinstServicoInterno', 'saguObtemSetorFuncionario', '$login', 'N;');
        INSERT INTO ava_servico (id_servico, descricao, localizacao, metodo, parametros, atributos) VALUES (14, 'SAGU - Funcionários - Verifica vínculo de funcionário ativo', 'avinstServicoInterno', 'saguAutenticaFuncionario', '$login', 'N;');

        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>93</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        ALTER TABLE ONLY ava_atributos
            ADD CONSTRAINT ava_atributos_pkey PRIMARY KEY (id_atributos);
        ALTER TABLE ONLY ava_avaliacao
            ADD CONSTRAINT ava_avaliacao_pkey PRIMARY KEY (id_avaliacao);
        ALTER TABLE ONLY ava_avaliacao_perfil_widget
            ADD CONSTRAINT ava_avaliacao_widget_pkey PRIMARY KEY (id_avaliacao_perfil_widget);
        ALTER TABLE ONLY ava_bloco
            ADD CONSTRAINT ava_bloco_pkey PRIMARY KEY (id_bloco);
        ALTER TABLE ONLY ava_bloco_questoes
            ADD CONSTRAINT ava_bloco_questoes_pkey PRIMARY KEY (id_bloco_questoes);
        ALTER TABLE ONLY ava_config
            ADD CONSTRAINT ava_config_pkey PRIMARY KEY (chave);
        ALTER TABLE ONLY ava_totalizadores_atributos
            ADD CONSTRAINT ava_estatisticas_atributos_pkey PRIMARY KEY (id_totalizador_atributo);
        ALTER TABLE ONLY ava_totalizadores
            ADD CONSTRAINT ava_estatisticas_pkey PRIMARY KEY (id_totalizador);
        ALTER TABLE ONLY ava_form_log
            ADD CONSTRAINT ava_form_log_pkey PRIMARY KEY (id_form_log);
        ALTER TABLE ONLY ava_formulario
            ADD CONSTRAINT ava_formulario_pkey PRIMARY KEY (id_formulario);
        ALTER TABLE ONLY ava_granularidade
            ADD CONSTRAINT ava_granularidade_pkey PRIMARY KEY (id_granularidade);
        ALTER TABLE ONLY ava_mail_log
            ADD CONSTRAINT ava_mail_log_pkey PRIMARY KEY (id_mail_log);
        ALTER TABLE ONLY ava_mail
            ADD CONSTRAINT ava_mail_pkey PRIMARY KEY (id_mail);
        ALTER TABLE ONLY ava_perfil
            ADD CONSTRAINT ava_perfil_pkey PRIMARY KEY (id_perfil);
        ALTER TABLE ONLY ava_perfil_widget
            ADD CONSTRAINT ava_perfil_widget_pkey PRIMARY KEY (id_perfil_widget);
        ALTER TABLE ONLY ava_questoes
            ADD CONSTRAINT ava_questoes_pkey PRIMARY KEY (id_questoes);
        ALTER TABLE ONLY ava_respostas
            ADD CONSTRAINT ava_respostas_pkey PRIMARY KEY (id_respostas);
        ALTER TABLE ONLY ava_servico
            ADD CONSTRAINT ava_servico_pkey PRIMARY KEY (id_servico);
        ALTER TABLE ONLY ava_widget
            ADD CONSTRAINT ava_widget_pkey PRIMARY KEY (id_widget);
        
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>95</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE INDEX ava_atributos_chave ON ava_atributos USING btree (chave);
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>96</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE INDEX ava_atributos_ref_resposta ON ava_atributos USING btree (ref_resposta);
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>97</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE INDEX ava_atributos_ref_respostas_chave ON ava_atributos USING btree (ref_resposta, ((chave)::text));        
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>98</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE INDEX ava_atributos_valor ON ava_atributos USING btree (valor);        
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>99</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE INDEX ava_avaliacao_dt_fim ON ava_avaliacao USING btree (dt_fim);
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>100</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE INDEX ava_avaliacao_dt_inicio ON ava_avaliacao USING btree (dt_inicio);
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>101</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE INDEX ava_avaliacao_dt_inicio_dt_fim ON ava_avaliacao USING btree (dt_inicio, dt_fim);
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>102</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE INDEX ava_bloco_questoes_ordem ON ava_bloco_questoes USING btree (ordem);
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>103</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE INDEX ava_bloco_questoes_ref_bloco ON ava_bloco_questoes USING btree (ref_bloco);
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>104</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE INDEX ava_bloco_ref_granularidade ON ava_bloco USING btree (ref_granularidade);
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>105</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE INDEX ava_form_log_ref_formulario_tipo_acao_tentativa ON ava_form_log USING btree (ref_formulario, tipo_acao, tentativa);        
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>106</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE INDEX ava_form_log_tipo_acao_ref_formulario ON ava_form_log USING btree (tipo_acao, ref_formulario);    
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>107</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE INDEX ava_respostas_questao ON ava_respostas USING btree (questao);
        
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>108</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE INDEX ava_respostas_ref_avaliador_questao ON ava_respostas USING btree (ref_avaliador, questao);
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>109</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE INDEX ava_respostas_ref_bloco_questoes ON ava_respostas USING btree (ref_bloco_questoes);

        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>110</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        CREATE INDEX ava_totalizadores_atributos_ref_totalizador_chave ON ava_totalizadores_atributos USING btree (ref_totalizador, chave);

        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>111</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        ALTER TABLE ONLY ava_atributos
            ADD CONSTRAINT ava_atributos_ref_resposta_fkey FOREIGN KEY (ref_resposta) REFERENCES ava_respostas(id_respostas);
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>112</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        ALTER TABLE ONLY ava_avaliacao_perfil_widget
            ADD CONSTRAINT ava_avaliacao_perfil_widget_ref_perfil_widget_fkey FOREIGN KEY (ref_perfil_widget) REFERENCES ava_perfil_widget(id_perfil_widget);
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>113</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        ALTER TABLE ONLY ava_avaliacao_perfil_widget
            ADD CONSTRAINT ava_avaliacao_widget_ref_avaliacao_fkey FOREIGN KEY (ref_avaliacao) REFERENCES ava_avaliacao(id_avaliacao);
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>114</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
                ALTER TABLE ONLY ava_bloco_questoes
            ADD CONSTRAINT ava_bloco_questoes_ref_bloco_fkey FOREIGN KEY (ref_bloco) REFERENCES ava_bloco(id_bloco);

        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>115</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        ALTER TABLE ONLY ava_bloco_questoes
            ADD CONSTRAINT ava_bloco_questoes_ref_questao_fkey FOREIGN KEY (ref_questao) REFERENCES ava_questoes(id_questoes);
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>116</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        ALTER TABLE ONLY ava_bloco
        ADD CONSTRAINT ava_bloco_ref_formulario_fkey FOREIGN KEY (ref_formulario) REFERENCES ava_formulario(id_formulario);
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>117</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        ALTER TABLE ONLY ava_bloco
        ADD CONSTRAINT ava_bloco_ref_granularidade_fkey FOREIGN KEY (ref_granularidade) REFERENCES ava_granularidade(id_granularidade);
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>118</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
                ALTER TABLE ONLY ava_totalizadores_atributos
            ADD CONSTRAINT ava_estatisticas_atributos_ref_estatistica_fkey FOREIGN KEY (ref_totalizador) REFERENCES ava_totalizadores(id_totalizador);
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>119</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        ALTER TABLE ONLY ava_totalizadores
            ADD CONSTRAINT ava_estatisticas_ref_granularidade_fkey FOREIGN KEY (ref_granularidade) REFERENCES ava_granularidade(id_granularidade);
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>120</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        ALTER TABLE ONLY ava_form_log
            ADD CONSTRAINT ava_form_log_ref_formulario_fkey FOREIGN KEY (ref_formulario) REFERENCES ava_formulario(id_formulario);
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>121</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        ALTER TABLE ONLY ava_formulario
            ADD CONSTRAINT ava_formulario_ref_avaliacao_fkey FOREIGN KEY (ref_avaliacao) REFERENCES ava_avaliacao(id_avaliacao);        
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>122</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        ALTER TABLE ONLY ava_formulario
            ADD CONSTRAINT ava_formulario_ref_perfil_fkey FOREIGN KEY (ref_perfil) REFERENCES ava_perfil(id_perfil);
        
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>123</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
                ALTER TABLE ONLY ava_formulario
            ADD CONSTRAINT ava_formulario_ref_servico_email_fkey FOREIGN KEY (ref_servico_email) REFERENCES ava_servico(id_servico);
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>124</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
                ALTER TABLE ONLY ava_formulario
            ADD CONSTRAINT ava_formulario_ref_servico_fkey FOREIGN KEY (ref_servico) REFERENCES ava_servico(id_servico);
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>125</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
                ALTER TABLE ONLY ava_granularidade
            ADD CONSTRAINT ava_granularidade_ref_servico_fkey FOREIGN KEY (ref_servico) REFERENCES ava_servico(id_servico);
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>126</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        ALTER TABLE ONLY ava_mail_log
        ADD CONSTRAINT ava_mail_log_ref_mail_fkey FOREIGN KEY (ref_mail) REFERENCES ava_mail(id_mail);
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>127</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        ALTER TABLE ONLY ava_mail
        ADD CONSTRAINT ava_mail_ref_avaliacao_fkey FOREIGN KEY (ref_avaliacao) REFERENCES ava_avaliacao(id_avaliacao);
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>128</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
                ALTER TABLE ONLY ava_mail
            ADD CONSTRAINT ava_mail_ref_formulario_fkey FOREIGN KEY (ref_formulario) REFERENCES ava_formulario(id_formulario);

        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>129</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        ALTER TABLE ONLY ava_mail
            ADD CONSTRAINT ava_mail_ref_perfil_fkey FOREIGN KEY (ref_perfil) REFERENCES ava_perfil(id_perfil);

        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>130</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        ALTER TABLE ONLY ava_perfil_widget
            ADD CONSTRAINT ava_perfil_widget_ref_perfil_fkey FOREIGN KEY (ref_perfil) REFERENCES ava_perfil(id_perfil);

        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>131</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        ALTER TABLE ONLY ava_perfil_widget
            ADD CONSTRAINT ava_perfil_widget_ref_widget_fkey FOREIGN KEY (ref_widget) REFERENCES ava_widget(id_widget);

        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>132</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        ALTER TABLE ONLY ava_respostas
            ADD CONSTRAINT ava_respostas_ref_ava_bloco_questao_fkey FOREIGN KEY (ref_bloco_questoes) REFERENCES ava_bloco_questoes(id_bloco_questoes);

        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>133</orderchange>
    </item> 
    <item>
        <change> 
        <![CDATA[
        ALTER TABLE ONLY ava_totalizadores
            ADD CONSTRAINT ava_totalizadores_ref_avaliacao_fkey FOREIGN KEY (ref_avaliacao) REFERENCES ava_avaliacao(id_avaliacao);

        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>134</orderchange>
    </item>
    <item>
        <change> 
        <![CDATA[
        CREATE INDEX idx_acdmovementcontract_contractid ON acdmovementcontract ( contractid );
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>135</orderchange>
    </item>
    <item>
        <change> 
        <![CDATA[
        CREATE INDEX idx_acdmovementcontract_statetime ON acdmovementcontract ( statetime );
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>136</orderchange>
    </item>
    <item>
        <change> 
        <![CDATA[
        CREATE INDEX idx_acdmovementcontract_statecontractid ON acdmovementcontract ( statecontractid );
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>137</orderchange>
    </item>
    <item>
        <change> 
        <![CDATA[
        CREATE INDEX idx_acdenroll_dateenroll ON acdenroll ( dateenroll ) ;
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>138</orderchange>
    </item>    
    <item>
        <change> 
        <![CDATA[
        CREATE INDEX idx_acdenroll_dateenroll ON acdenroll ( dateenroll ) ;
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>138</orderchange>
    </item>

    
            
    <item>
        <change> 
        <![CDATA[
        CREATE TABLE prtmensagem (
        mensagemid serial not null,
        unitid integer not null,
        remetenteid integer,
        conteudo text,
        date timestamp default now(),
        CONSTRAINT pk_prtmensagem PRIMARY KEY (mensagemid),
        CONSTRAINT fk_prtmensagem_basunit FOREIGN KEY (unitid) REFERENCES basunit(unitid)
        ) INHERITS (baslog);

        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>139</orderchange>
    </item>
    <item>
        <change> 
        <![CDATA[
        CREATE TABLE prtmensagemdestinatario (
        mensagemdestinatarioid serial not null,
        mensagemid integer not null,
        groupid integer,
        personid bigint not null,
        courseid varchar(10),
        CONSTRAINT pk_prtmensagemdestinatario PRIMARY KEY (mensagemdestinatarioid),
        CONSTRAINT fk_acdcourse FOREIGN KEY (courseid) REFERENCES acdcourse(courseid),
        CONSTRAINT fk_acdgroup FOREIGN KEY (groupid) REFERENCES acdgroup(groupid),
        CONSTRAINT fk_prtmensagem FOREIGN KEY (mensagemid) REFERENCES prtmensagem(mensagemid),
        CONSTRAINT fk_prtmensagemdestinatario_personid FOREIGN KEY (personid) REFERENCES basperson(personid)
        ) INHERITS (baslog);
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>140</orderchange>
    </item>
    <item>
        <change> 
        <![CDATA[
        CREATE TABLE prtmensagemmural (
        mensagemmuralid serial not null,
        personid integer not null,
        unitid integer not null,
        groupid integer not null,
        conteudo text not null,
        fileid integer,
        CONSTRAINT pk_prtmensagemmural PRIMARY KEY (mensagemmuralid),
        CONSTRAINT fk_mural_group FOREIGN KEY (groupid) REFERENCES acdgroup(groupid),
        CONSTRAINT fk_mural_person FOREIGN KEY (personid) REFERENCES basperson(personid),
        CONSTRAINT fk_prtmensagemmural_groupid FOREIGN KEY (groupid) REFERENCES acdgroup(groupid)
        ) INHERITS (baslog);
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>141</orderchange>
    </item>
    <item>
        <change> 
        <![CDATA[
        CREATE TABLE prtpreferenciaaluno (
        preferenciaalunoid serial not null,
        personid integer not null,
        notifmsgrecebida boolean,
        notifpostagemmural boolean,
        notifregistrofrequencia boolean not null,
        notifregistronota boolean not null,
        notiffinalizacaodisciplina boolean not null,
        numeropostagensmural integer not null,
        CONSTRAINT pk_prtpreferenciaaluno PRIMARY KEY (preferenciaalunoid)
        ) INHERITS (baslog);
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>142</orderchange>
    </item>
    <item>
        <change> 
        <![CDATA[
        CREATE TABLE prtpreferenciaprofessor (
        preferenciaprofessorid serial not null,
        personid integer not null,
        notifmsgrecebida boolean,
        notifpostagemmural boolean,
        notifconviteatividade boolean not null,
        notifsolicitacaoreposicao boolean not null,
        notiffinalizacaodisciplina boolean not null,
        numeropostagensmural integer not null,
        CONSTRAINT pk_prtpreferenciaprofessor PRIMARY KEY (preferenciaprofessorid)
        ) INHERITS (baslog);
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>143</orderchange>
    </item>
    <item>
        <change> 
        <![CDATA[
        CREATE TABLE prtanexo (
        fileid integer not null,
        mensagemid integer not null,
        descricao text,
        CONSTRAINT pk_prtanexo PRIMARY KEY (fileid, mensagemid),
        CONSTRAINT fk_prtanexo_basfile FOREIGN KEY (fileid) REFERENCES basfile(fileid),
        CONSTRAINT fk_prtanexo_prtmensagem FOREIGN KEY (mensagemid) REFERENCES prtmensagem(mensagemid)
        ) INHERITS (baslog);
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>144</orderchange>
    </item>
    <item>
        <change> 
        <![CDATA[
        UPDATE miolo_transaction SET action = 'main:process:dispatch', parentm_transaction = 'ptcProcess' WHERE m_transaction = 'FrmDispatch';
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>145</orderchange>
    </item>

    <item>
        <change> 
        <![CDATA[
        ALTER TABLE fincheque DROP COLUMN statuschequeid;
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>146</orderchange>
    </item>
    <item>
        <change> 
        <![CDATA[
        DROP TABLE finMovementCheque;
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>147</orderchange>
    </item>
    <item>
        <change> 
        <![CDATA[
        CREATE TABLE finCounterMovementCheque (
	movementChequeId SERIAL PRIMARY KEY,
        chequeId INT NOT NULL REFERENCES finCheque(chequeId),
        counterMovementId INT NOT NULL REFERENCES finCounterMovement(counterMovementId)
        )INHERITS(basLog);
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>148</orderchange>
    </item>
    <item>
        <change> 
        <![CDATA[
        CREATE TABLE finmovimentacaocheque (
	movimentacaochequeid SERIAL PRIMARY KEY,
	chequeid INT NOT NULL REFERENCES fincheque(chequeid),
	statuschequeid INT NOT NULL REFERENCES finstatuscheque(statuschequeid),
	data DATE NOT NULL,
	observacao TEXT,
	valor FLOAT
        )INHERITS(basLog);
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>149</orderchange>
    </item>
    <item>
        <change> 
        <![CDATA[
        ALTER TABLE finspecies ADD COLUMN isenabled boolean not null default true;
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>150</orderchange>
    </item>
    <item>
        <change> 
        <![CDATA[
        CREATE INDEX acdexploitation_acdenroll_idx ON acdExploitation(exploitationEnrollId);
        ]]>
        </change>
        <applicationversion>3801</applicationversion>
        <orderchange>1</orderchange>
    </item>
    <item>
        <change> 
        <![CDATA[
        SELECT pg_catalog.setval('ava_avaliacao_id_avaliacao_seq', (SELECT max(id_avaliacao) from ava_avaliacao), true);  
        SELECT pg_catalog.setval('ava_avaliacao_perfil_widget_id_avaliacao_perfil_widget_seq', (SELECT max(id_avaliacao_perfil_widget) from ava_avaliacao_perfil_widget), false);
        SELECT pg_catalog.setval('ava_avaliacao_widget_id_avaliacao_widget_seq', (SELECT max(id_avaliacao_widget) from ava_avaliacao_widget), true);        
        SELECT pg_catalog.setval('ava_bloco_id_bloco_seq', (SELECT max(id_bloco) from ava_bloco), true);
        SELECT pg_catalog.setval('ava_bloco_questoes_id_bloco_questoes_seq', (SELECT max(id_bloco_questoes) from ava_bloco_questoes), true);
        SELECT pg_catalog.setval('ava_estatisticas_atributos_id_estatistica_atributo_seq', (SELECT max(id_estatistica_atributo) from ava_estatisticas_atributos), true);
        SELECT pg_catalog.setval('ava_estatisticas_id_estatistica_seq', (SELECT max(id_estatistica) from ava_estatisticas), true);
        SELECT pg_catalog.setval('ava_form_log_id_form_log_seq', (SELECT max(id_form_log) from ava_form_log), true);
        SELECT pg_catalog.setval('ava_formulario_id_formulario_seq', (SELECT max(id_formulario) from ava_formulario), true);
        SELECT pg_catalog.setval('ava_granularidade_id_granularidade_seq', (SELECT max(id_granularidade) from ava_granularidade), true);
        SELECT pg_catalog.setval('ava_mail_id_mail_seq', (SELECT max(id_mail) from ava_mail), true);
        SELECT pg_catalog.setval('ava_mail_log_id_mail_log_seq', (SELECT max(id_mail_log) from ava_mail_log), true);
        SELECT pg_catalog.setval('ava_perfil_id_perfil_seq', (SELECT max(id_perfil) from ava_perfil), true);
        SELECT pg_catalog.setval('ava_perfil_widget_id_perfil_widget_seq', (SELECT max(id_perfil_widget) from ava_perfil_widget), true);
        SELECT pg_catalog.setval('ava_questoes_id_questoes_seq', (SELECT max(id_questoes) from ava_questoes), true);
        SELECT pg_catalog.setval('ava_respostas_id_respostas_seq', (SELECT max(id_respostas) from ava_respostas), true);
        SELECT pg_catalog.setval('ava_servico_id_servico_seq', (SELECT max(id_servico) from ava_servico), true);
        SELECT pg_catalog.setval('ava_atributos_id_atributos_seq', (SELECT max(id_atributos) from ava_atributos), true);
        ]]>
        </change>
        <applicationversion>3701</applicationversion>
        <orderchange>151</orderchange>
    </item>
    <item>
        <change> 
        <![CDATA[
        CREATE TABLE ava_opcoes_questoes(opcoesQuestoesId serial,
                     valor varchar(80),
                     opcao varchar(255),
                     questao varchar(80)
                      );
        ]]>
        </change>
        <applicationversion>3801</applicationversion>
        <orderchange>2</orderchange>
    </item>
    <item>
        <change> 
        <![CDATA[
        CREATE INDEX idx_basphysicalperson_name_datebirth on basphysicalperson (name, datebirth);
        ]]>
        </change>
        <applicationversion>3801</applicationversion>
        <orderchange>3</orderchange>
    </item>
    <item>
        <change> 
        <![CDATA[
        ALTER TABLE ptcsubjectsector ADD COLUMN paracoordenador BOOLEAN DEFAULT FALSE;
        ALTER TABLE ptcrequest ADD COLUMN courseid VARCHAR; 
        ALTER TABLE ptcrequest ADD COLUMN courseversion INT; 
        ALTER TABLE ptcrequest ADD COLUMN turnid INT; 
        ALTER TABLE ptcrequest ADD COLUMN unitid INT;        
        ]]>
        </change>
        <applicationversion>3801</applicationversion>
        <orderchange>4</orderchange>
    </item>    
    <item>
        <change> 
        <![CDATA[
        ALTER TABLE finConvenant ADD COLUMN percentRenovacao INT;
        ALTER TABLE finIncentiveType ADD COLUMN percentRenovacao INT;
        ]]>
        </change>
        <applicationversion>3801</applicationversion>
        <orderchange>5</orderchange>
    </item>  
    <item>
        <change> 
        <![CDATA[
        ALTER TABLE finConvenantPerson ADD COLUMN observacao TEXT;
        ]]>
        </change>
        <applicationversion>3801</applicationversion>
        <orderchange>6</orderchange>
    </item>
    <item>
        <change> 
        <![CDATA[
        alter table ava_opcoes_questoes add column questao varchar(80);
        ]]>
        </change>
        <applicationversion>3801</applicationversion>
        <orderchange>7</orderchange>
    </item>
    <item>
        <change> 
        <![CDATA[
        ALTER TABLE basemployee ADD COLUMN especialidade TEXT; 
        ALTER TABLE basemployee ADD COLUMN classe TEXT; 
        ALTER TABLE basemployee ADD COLUMN nivel TEXT; 
        ALTER TABLE basemployee ADD COLUMN unitid INTEGER REFERENCES basunit(unitid);
        ]]>
        </change>
        <applicationversion>3827</applicationversion>
        <orderchange>1</orderchange>
    </item>
    <item>
        <change> 
        <![CDATA[
         CREATE TABLE bashistoricoferias( historicoferiasid SERIAL PRIMARY KEY,
        personid INTEGER NOT NULL REFERENCES basphysicalpersonemployee(personid), 
        data DATE NOT NULL, 
        inicioaquisicao DATE NOT NULL, 
        fimaquisicao DATE NOT NULL, 
        inicioconcessao DATE NOT NULL, 
        fimconcessao DATE NOT NULL,  
        observacao TEXT ) INHERITS (baslog);
        ]]>
        </change>
        <applicationversion>3827</applicationversion>
        <orderchange>2</orderchange>
    </item>
    <item>
        <change> 
        <![CDATA[
         DELETE FROM miolo_transaction WHERE m_transaction = 'FrmDispatch' AND parentm_transaction = 'ptcProcess';
        ]]>
        </change>
        <applicationversion>3827</applicationversion>
        <orderchange>3</orderchange>
    </item>
    <item>
        <change> 
        <![CDATA[
         INSERT INTO acdregimen (description) values('CURSO DE FÉRIAS');
        ]]>
        </change>
        <applicationversion>3827</applicationversion>
        <orderchange>4</orderchange>
    </item>
    <item>
        <change> 
        <![CDATA[
         INSERT INTO basconfig (moduleconfig,parameter,description,type, value, label) VALUES('ACADEMIC', 'REGIME_DE_FERIAS', 'Recebe valor do regime utilizado em disciplinas de férias, Disciplinas com este regime terão tratamento diferenciado em mensalidades, mais detalhes em Financeiro::Processo::Preço', 'INTEGER', (SELECT regimenid FROM acdregimen WHERE description ilike 'CURSO DE FÉRIAS' order by regimenid asc limit 1), '');
        ]]>
        </change>
        <applicationversion>3827</applicationversion>
        <orderchange>5</orderchange>
    </item>
    <item>
        <change> 
        <![CDATA[ 
UPDATE basconfig set value =  (SELECT regimenid FROM acdregimen WHERE description ilike 'CURSO DE FÉRIAS' order by regimenid asc limit 1) where parameter = 'REGIME_DE_FERIAS';
        ]]>
        </change>
        <applicationversion>3827</applicationversion>
        <orderchange>6</orderchange>
    </item>
    <item>
        <change> 
        <![CDATA[
         INSERT INTO ava_config VALUES ('RETURN_TO', 'PORTAL_NOVO');
        ]]>
        </change>
        <applicationversion>3827</applicationversion>
        <orderchange>7</orderchange>
    </item>
    <item>
        <change> 
        <![CDATA[
         ALTER TABLE finreceivableinvoice ADD COLUMN sem_descontos BOOLEAN DEFAULT FALSE;
        ]]>
        </change>
        <applicationversion>3827</applicationversion>
        <orderchange>8</orderchange>
    </item>
    <item>
        <change> 
        <![CDATA[
         ALTER TABLE finprice ADD COLUMN valorcreditoferias FLOAT;
        ]]>
        </change>
        <applicationversion>3827</applicationversion>
        <orderchange>9</orderchange>
    </item>
    <item>
        <change> 
        <![CDATA[
        ALTER TABLE finConvenant ADD COLUMN aditarIncentivo BOOLEAN DEFAULT FALSE; 
        ALTER TABLE finIncentiveType ADD COLUMN aditarIncentivo BOOLEAN DEFAULT FALSE;
        ALTER TABLE finIncentive ADD COLUMN incentivoAditado BOOLEAN DEFAULT FALSE;
        ]]>
        </change>
        <applicationversion>3901</applicationversion>
        <orderchange>1</orderchange>
    </item>
    <item>
        <change> 
        <![CDATA[
        CREATE TABLE acdSemesterContractPeriod ( semesterContractPeriodId SERIAL PRIMARY KEY,     
        contractId INTEGER REFERENCES acdcontract(contractid) NOT NULL,     
        periodId VARCHAR REFERENCES acdperiod(periodid),    
        semester INTEGER NOT NULL ); 
        ALTER TABLE acdSemesterContractPeriod ADD CONSTRAINT semesterContractPeriod_pk UNIQUE (contractid, periodid);
        ]]>
        </change>
        <applicationversion>3901</applicationversion>
        <orderchange>2</orderchange>
    </item>
    <item>
        <change> 
        <![CDATA[
        CREATE TRIGGER trg_trocaExameMenorNota
          AFTER INSERT OR UPDATE
          ON acddegreeenroll
          FOR EACH ROW
          EXECUTE PROCEDURE trgDigitacaoDeNotasTrocaExamePorMenorNota(); 
        ]]>
        </change>
        <applicationversion>3901</applicationversion>
        <orderchange>3</orderchange>
    </item>
    <item>
        <change> 
        <![CDATA[
        ALTER TABLE acdenrollconfig ADD COLUMN diasprazoconfirmacao INT; 
        ALTER TABLE acdenrollconfig ADD COLUMN cancelamentostatecontractid INT; 
        ALTER TABLE acdenrollconfig ADD COLUMN cancelamentoreasonid INT;
        CREATE TABLE bascrontablog() INHERITS (baslog);
        ]]>
        </change>
        <applicationversion>3901</applicationversion>
        <orderchange>4</orderchange>
    </item>
    <item>
        <change> 
        <![CDATA[
        ALTER TABLE findefaultoperations ADD COLUMN negotiationoperation INT;
        ]]>
        </change>
        <applicationversion>3901</applicationversion>
        <orderchange>5</orderchange>
    </item>   
    <item>
        <change> 
        <![CDATA[
        ALTER TABLE findefaultoperations ADD COLUMN opencounteroperation INT;
        ]]>
        </change>
        <applicationversion>3901</applicationversion>
        <orderchange>6</orderchange>
    </item> 
    <item>
        <change>
        <![CDATA[
        ALTER TABLE findefaultoperations ADD COLUMN counterwithdrawaloperation INT;
        ]]>
        </change>
        <applicationversion>3901</applicationversion>
        <orderchange>7</orderchange>
    </item> 
   <item>
        <change>
            <![CDATA[
CREATE TABLE acpComponenteDeAvaliacao (
  componenteDeAvaliacaoId  SERIAL NOT NULL, 
  modeloDeAvaliacaoId     int4 NOT NULL, 
  descricao               varchar(255) NOT NULL, 
  detalhes                varchar(255) NOT NULL, 
  exigeAvaliacoesParciais bool DEFAULT 'false' NOT NULL, 
  permiteAlteracoes       bool DEFAULT 'false' NOT NULL, 
  classeDeComponente      char(1) NOT NULL, 
  ordem                   int4 NOT NULL, 
  PRIMARY KEY (componenteDeAvaliacaoId))
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>1</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[
CREATE TABLE acpRecuperacao (
  recuperacaoId            SERIAL NOT NULL, 
  componenteDeAvaliacaoId int4 NOT NULL, 
  aplicacao               char(1) NOT NULL, 
  PRIMARY KEY (recuperacaoId))
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>2</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[
CREATE TABLE acpConceitosDeAvaliacao (
  conceitoDeAvaliacaoId  SERIAL NOT NULL, 
  conjuntoDeConceitosId int4, 
  descricao             varchar(255) NOT NULL, 
  detalhes              varchar(255) NOT NULL, 
  resultado             char(1) NOT NULL, 
  aprova                bool NOT NULL, 
  PRIMARY KEY (conceitoDeAvaliacaoId))
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>3</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[
CREATE TABLE acpControleDeFrequencia (
  controleDeFrequenciaId  SERIAL NOT NULL, 
  estadoDeMatriculaId    int4, 
  modeloDeAvaliacaoId    int4, 
  estadoDeReprovacao     int4, 
  permiteJustificativa   bool DEFAULT 'false' NOT NULL, 
  permiteRecuperacao     bool DEFAULT 'false' NOT NULL, 
  tipoDeLimite           char(1) NOT NULL, 
  limiteDeFrequencia     int4 NOT NULL, 
  PRIMARY KEY (controleDeFrequenciaId))
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>4</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[
CREATE TABLE acpRelacionamentoDeComponentes (
  componenteDeAvaliacaoPai   int4 NOT NULL, 
  componenteDeAvaliacaoFilho int4 NOT NULL, 
  PRIMARY KEY (componenteDeAvaliacaoPai, 
  componenteDeAvaliacaoFilho))
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>5</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[
CREATE TABLE acpEstadoDeMatricula (
  estadoDeMatriculaId  SERIAL NOT NULL, 
  descricao           varchar(255) NOT NULL, 
  aprovado            bool DEFAULT 't' NOT NULL, 
  PRIMARY KEY (estadoDeMatriculaId))
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>6</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[
CREATE TABLE acpComponenteDeAvaliacaoNota (
  componenteDeAvaliacaoNotaId  SERIAL NOT NULL, 
  componenteDeAvaliacaoId     int4 NOT NULL, 
  peso                        int4, 
  formaDeCalculo              char(1) NOT NULL, 
  valorMinimo                 int4, 
  valorMaximo                 int4, 
  valorMinimoAprovacao        int4, 
  grauDePrecisao              int4 NOT NULL, 
  PRIMARY KEY (componenteDeAvaliacaoNotaId))
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>7</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[
CREATE TABLE acpComponenteDeAvaliacaoNotaRecuperacao (
  componenteDeAvaliacaoNotaRecuperacaoId  SERIAL NOT NULL, 
  componenteDeAvaliacaoNotaId            int4, 
  notaDeDispensa                         int4, 
  pesoDoComponente                       int4, 
  pesoDaRecuperacao                      int4, 
  PRIMARY KEY (componenteDeAvaliacaoNotaRecuperacaoId))
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>8</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[
CREATE TABLE acpconjuntoDeConceitos (
  conjuntoDeConceitosId  SERIAL NOT NULL, 
  descricao             varchar(255) NOT NULL, 
  PRIMARY KEY (conjuntoDeConceitosId))
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>9</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

CREATE TABLE acpComponenteDeAvaliacaoConceito (
  componenteDeAvaliacaoConceitoId  SERIAL NOT NULL, 
  conjuntoDeConceitosId           int4, 
  componenteDeAvaliacaoId         int4 NOT NULL, 
  PRIMARY KEY (componenteDeAvaliacaoConceitoId))
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>10</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

CREATE TABLE acpPerfilCursoComponenteCurricular (
  pcccId                  SERIAL NOT NULL, 
  perfilCursoId          int4, 
  componenteCurricularId int4, 
  modeloDeAvaliacaoId    int4, 
  CONSTRAINT acpPerfilCursoComponenteCurricular_pcccId 
    PRIMARY KEY (pcccId))
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>11</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

CREATE TABLE acpPerfilCurso (
  perfilCursoId                       SERIAL NOT NULL, 
  modeloDeAvaliacaoGeral             int4, 
  modeloDeAvaliacaoSeriado           int4, 
  descricao                          varchar(255), 
  formaDeOferta                      char(1) NOT NULL, 
  ativo                              bool DEFAULT 'true' NOT NULL, 
  organizacao                        char(1) NOT NULL, 
  percentualConclusaoIngressante     int4, 
  percentualConclusaoConcluinte      int4, 
  cadastroCorpoDocente               bool DEFAULT 't' NOT NULL, 
  cadastroCoordenadores              bool DEFAULT 't' NOT NULL, 
  cadastroMatrizCurricular           bool DEFAULT 't' NOT NULL, 
  FormaCursarComponentesCurriculares char(1) NOT NULL, 
  CONSTRAINT acpPerfilCurso_perfilCursoId 
    PRIMARY KEY (perfilCursoId))
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>12</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

CREATE TABLE acpRegrasMatriculaPerfilCurso (
  regrasMatriculaPerfilCursoId    SERIAL NOT NULL, 
  perfilCursoId                  int4, 
  tipoInscricao                  char(1) NOT NULL, 
  formaDeConfirmacaoInscricao    char(1) NOT NULL, 
  tipoMatricula                  char(1) NOT NULL, 
  formaDeConfirmacaoMatricula    char(1) NOT NULL, 
  carenciaParaPendencias         int4, 
  numeroDePendencias             int4, 
  checarDebitosAVencer           bool, 
  checarDebitosVencidos          bool, 
  checarNegociacoesAbertas       bool, 
  checarMultasBiblioteca         bool, 
  checarDevolucoesBiblioteca     bool, 
  tipoDeControleRequisitos       char(1), 
  quantidadeMinimaTotal          int4, 
  quantidadeMaximaTotal          int4, 
  quantidadeMinimaOutrosCursos   int4, 
  quantidadeMaximaOutrosCursos   int4, 
  quantidadeMinimaOutrasUnidades int4, 
  quantidadeMaximaOutrasUnidades int4, 
  quantidadeMinimaOutrosTurnos   int4, 
  quantidadeMaximaOutrosTurnos   int4, 
  MensagemInicial                text, 
  MensagemFinal                  text, 
  termoInscricao                 text, 
  termoMatricula                 text, 
  UtilizarMensagemInicial        bool DEFAULT 'false', 
  UtilizarMensagemFiinal         bool DEFAULT 'false', 
  CONSTRAINT acpRegrasMatriculaPerfilCurso_regrasMatriculaPerfilCursoId 
    PRIMARY KEY (regrasMatriculaPerfilCursoId))
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>13</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

CREATE TABLE acpTipoComponenteCurricular (
  componenteCurricularId    SERIAL NOT NULL, 
  descricao                varchar(255), 
  tipo                     char(1) NOT NULL, 
  habilitado               bool NOT NULL, 
  permiteModeloDeAvaliacao bool NOT NULL, 
  CONSTRAINT acpTipoComponenteCurricular_componenteCurricularId 
    PRIMARY KEY (componenteCurricularId))
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>14</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

CREATE TABLE acpTipoDocumento (
  perfilCursoTipoDocumentoId  SERIAL NOT NULL, 
  perfilCursoId              int4, 
  documentTypeId             int4, 
  exigido                    bool NOT NULL, 
  CONSTRAINT acpTipoDocumento_perfilCursoTipoDocumentoId 
    PRIMARY KEY (perfilCursoTipoDocumentoId))
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>15</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

CREATE TABLE acpPerfilCursoCamposAdicionais (
  perfilCursoCamposAdicionaisId  SERIAL NOT NULL, 
  perfilCursoId                 int4, 
  nomeCampo                     varchar(255) NOT NULL, 
  detalhes                      int4 NOT NULL, 
  habilitado                    bool NOT NULL, 
  CONSTRAINT acpPerfilCursoCamposAdicionais_perfilCursoCamposAdicionaisId 
    PRIMARY KEY (perfilCursoCamposAdicionaisId))
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>16</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

CREATE TABLE acpModeloDeAvaliacao (
  modeloDeAvaliacaoId                       SERIAL NOT NULL, 
  estadoDeMatriculaReprovacaoId            int4, 
  estadoDeMatriculaAprovacaoId             int4, 
  descricao                                varchar(255) NOT NULL, 
  tipoDeDados                              char(1) NOT NULL, 
  aplicacao                                char(1) NOT NULL, 
  ativo                                    bool DEFAULT 'true' NOT NULL, 
  detalhesdoResultadoFinal                 varchar(255), 
  habilitaControleDeFrequencia             bool DEFAULT 'false' NOT NULL, 
  habilitaComponentesDeAvaliacao           bool DEFAULT 'false' NOT NULL, 
  habilitarRecuperacoes                    bool DEFAULT 'false' NOT NULL, 
  estadoDeMatriculaAprovacaoRecuperacaoId  int4, 
  estadoDeMatriculaReprovacaoRecuperacaoId int4, 
  PRIMARY KEY (modeloDeAvaliacaoId))
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>17</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

DROP TABLE IF EXISTS acpCurso CASCADE
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>18</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

CREATE TABLE acpCurso (
  cursoId                          SERIAL NOT NULL, 
  cursoRepresentanteId            int4, 
  grauAcademicoId                 int4, 
  perfilCursoId                   int4, 
  codigo                          varchar(255), 
  nome                            varchar(255) NOT NULL, 
  nomeParaDocumentos              varchar(255), 
  descricao                       varchar(255), 
  modalidade                      char(1) NOT NULL, 
  disciplinasADistancia           bool DEFAULT 'false' NOT NULL, 
  percentualCargaHorariaDistancia int4 NOT NULL, 
  titulacao                       varchar(255), 
  numeroFormalVagas               int4 NOT NULL, 
  situacao                        char(1), 
  dataInicio                      date, 
  dataFim                         date, 
  gratuito                        bool NOT NULL, 
  CONSTRAINT acpCurso_cursoId 
    PRIMARY KEY (cursoId))
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>19</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[
ALTER TABLE acpCurso ADD CONSTRAINT acpCurso_cursoRepresentanteId_pk FOREIGN KEY (cursoRepresentanteId) REFERENCES acpCurso (cursoId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>20</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

CREATE TABLE acpGrauAcademico (
  grauAcademicoId  SERIAL NOT NULL, 
  nome            varchar(255) NOT NULL, 
  CONSTRAINT acpGrauAcademico_grauAcademicoId 
    PRIMARY KEY (grauAcademicoId))
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>21</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

CREATE TABLE acpCursoDocente (
  cursoDocenteId  SERIAL NOT NULL, 
  personId       int4 NOT NULL, 
  cursoId        int4 NOT NULL, 
  ativo          bool NOT NULL, 
  CONSTRAINT acpCursoDocente_cursoDocenteId 
    PRIMARY KEY (cursoDocenteId))
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>22</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

CREATE TABLE acpOcorrenciaCurso (
  ocorrenciaCursoId  SERIAL NOT NULL, 
  unitId            int4, 
  situacao          char(1) NOT NULL, 
  dataExtincao      date, 
  dataInativo       date, 
  cursoId           int4, 
  turnId            int4, 
  CONSTRAINT acpOcorrenciaCurso_ocorrenciaCursoId 
    PRIMARY KEY (ocorrenciaCursoId))
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>23</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

CREATE TABLE acpCamposAdicionaisCurso (
  camposAdicionaisCursoId        SERIAL NOT NULL, 
  perfilCursoCamposAdicionaisId int4, 
  cursoId                       int4, 
  dados                         text NOT NULL, 
  CONSTRAINT acpCamposAdicionaisCurso_camposAdicionaisCursoId 
    PRIMARY KEY (camposAdicionaisCursoId))
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>24</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

CREATE TABLE acpComponenteCurricular (
  componenteCurricularId   SERIAL NOT NULL, 
  matrizCurricularId      int4, 
  matrizCurricularGrupoId int4, 
  serie                   int4, 
  codigo                  varchar(255) NOT NULL, 
  nome                    varchar(255) NOT NULL, 
  descricao               varchar(255) NOT NULL, 
  conteudo                varchar(255) NOT NULL, 
  obrigatorio             bool NOT NULL, 
  situacao                bool NOT NULL, 
  tipo                    char(1) NOT NULL, 
  CONSTRAINT acpComponenteCurricular_componenteCurricularId 
    PRIMARY KEY (componenteCurricularId))
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>25</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

CREATE TABLE acpComponenteCurricularDisciplina (
  componenteCurricularDisciplinaId  SERIAL NOT NULL, 
  componenteCurricularId           int4, 
  cargaHoraria                     numeric(19, 0), 
  cargaHorariaPresencial           numeric(19, 0), 
  cargaHorariaExtraClasse          numeric(19, 0), 
  cargaHorariaEAD                  numeric(19, 0), 
  creditosFinanceiros              numeric(19, 0), 
  creditosAcademicos               numeric(19, 0), 
  creditos                         numeric(19, 0), 
  CONSTRAINT acpComponenteCurricularDisciplina_componenteCurricularDisciplinaId 
    PRIMARY KEY (componenteCurricularDisciplinaId))
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>26</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

CREATE TABLE acpComponenteCurricularTrabalhoConclusao (
  componenteCurricularTrabalhoConclusaoId  SERIAL NOT NULL, 
  componenteCurricularId                  int4, 
  cargaHoraria                            numeric(19, 0), 
  creditosFinanceiros                     numeric(19, 0), 
  creditosAcademicos                      numeric(19, 0), 
  creditos                                numeric(19, 0), 
  CONSTRAINT acpComponenteCurricularTrabalhoConclusao_componenteCurricularTrabalhoConclusaoId 
    PRIMARY KEY (componenteCurricularTrabalhoConclusaoId))
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>27</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

CREATE TABLE acpComponenteCurricularBibliografia (
  componenteCurricularBibliografiaId  SERIAL NOT NULL, 
  componenteCurricularId             int4 NOT NULL, 
  descricao                          varchar(255) NOT NULL, 
  bibliografiaId                     int4 NOT NULL, 
  tipoBibliografia                   char(1) NOT NULL, 
  CONSTRAINT acpComponenteCurricularBibliografia_componenteCurricularBibliografiaId 
    PRIMARY KEY (componenteCurricularBibliografiaId))
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>28</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

CREATE TABLE acpCoordenadores (
  coordenadorCursoId  SERIAL NOT NULL, 
  personId           int4, 
  cursoId            int4, 
  endDate            date, 
  CONSTRAINT acpCoordenadores_coordenadorCursoId 
    PRIMARY KEY (coordenadorCursoId))
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>29</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

CREATE TABLE acpMatrizCurricular (
  matrizCurricularId  SERIAL NOT NULL, 
  cursoId            int4, 
  descricao          varchar(255) NOT NULL, 
  series             int4 DEFAULT 0, 
  situacao           char(1) NOT NULL, 
  dataInicial        date NOT NULL, 
  dataFinal          date NOT NULL, 
  PRIMARY KEY (matrizCurricularId))
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>30</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

CREATE TABLE acpMatrizCurricularGrupo (
  matrizCurricularGrupoId  SERIAL NOT NULL, 
  matrizCurricularId      int4, 
  descricao               varchar(255) NOT NULL, 
  serie                   int4 NOT NULL, 
  ordem                   int4 NOT NULL, 
  PRIMARY KEY (matrizCurricularGrupoId))
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>31</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

CREATE TABLE acpAreaConhecimento (
  areaDeConhecimentoId  SERIAL NOT NULL, 
  descricao            varchar(255) NOT NULL, 
  PRIMARY KEY (areaDeConhecimentoId))
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>32</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

CREATE TABLE acpGradeHorario (
  gradeHorarioId  SERIAL NOT NULL, 
  descricao      varchar(255) NOT NULL, 
  detalhes       int4, 
  ativo          bool NOT NULL, 
  Periodicidade  char(1), 
  CONSTRAINT acpGradeHorario_gradeHorarioId 
    PRIMARY KEY (gradeHorarioId))
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>33</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[
DROP TABLE acpHorario CASCADE;
CREATE TABLE acpHorario (
  horarioId          SERIAL NOT NULL, 
  gradeHorarioId    int4, 
  horaInicio        time(7) NOT NULL, 
  horaFim           time(7) NOT NULL, 
  minutosFrequencia int4, 
  DiaSemana         int4, 
  CONSTRAINT acpHorario_horarioId 
    PRIMARY KEY (horarioId))
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>34</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

CREATE TABLE acpHorarioOfertaComponenteCurricular (
  numeroDeAulas                       int4 DEFAULT 1 NOT NULL, 
  personId                            int4, 
  horarioId                           int4, 
  physicalResourceId                  int4, 
  physicalResourceVersion             int4, 
  ofertaComponenteCurricularId        int4, 
  horarioOfertaComponenteCurricularId  SERIAL NOT NULL, 
  diaSemana                           int4, 
  PRIMARY KEY (horarioOfertaComponenteCurricularId))
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>35</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

CREATE TABLE acpOfertaComponenteCurricular (
  ofertaComponenteCurricularId  SERIAL NOT NULL, 
  ofertaTurmaId                int4, 
  componenteCurricularId       int4, 
  dataInicio                   date, 
  PRIMARY KEY (ofertaComponenteCurricularId))
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>36</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

CREATE TABLE acpOfertaTurma (
  situacao              bool NOT NULL, 
  codigo                varchar(255) NOT NULL, 
  ofertaTurmaId          SERIAL NOT NULL, 
  ofertaTurmaAnteriorId int4, 
  ofertaCursoId         int4, 
  descricao             varchar(255) NOT NULL, 
  MinimoAlunos          int4, 
  MaximoAlunos          int4, 
  PRIMARY KEY (ofertaTurmaId))
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>37</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

CREATE TABLE acpOfertaCurso (
  ofertaCursoId                SERIAL NOT NULL, 
  gradeHorarioId              int4 NOT NULL, 
  ocorrenciaCursoId           int4, 
  descricao                   varchar(255) NOT NULL, 
  dataInicialOferta           date NOT NULL, 
  dataFinalOferta             date NOT NULL, 
  dataEncerramento            date, 
  valorTaxaInscricao          numeric(6, 2), 
  dataVencimentoTaxaInscricao date, 
  situacao                    char(1) NOT NULL, 
  dataInicialInscricao        date, 
  dataFinalInscricao          date, 
  dataInicialMatricula        date, 
  dataFinalMatricula          date, 
  dataInicialRematricula      date, 
  dataFinalRematricula        date, 
  dataInicialAjustes          date, 
  dataFinalAjustes            date, 
  dataInicialCancelamentos    date, 
  dataFinalCancelamentos      date, 
  dataInicialTrancamentos     date, 
  dataFinalTrancamentos       date, 
  dataInicialTransferencia    date, 
  dataFinalTransferencia      date, 
  dataInicialReingressos      date, 
  dataFinalReingressos        date, 
  dataInicialAulas            date, 
  dataFinalAulas              date, 
  PRIMARY KEY (ofertaCursoId))
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>38</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

CREATE TABLE acpMatricula (
  matriculaId                   SERIAL NOT NULL, 
  ofertaComponenteCurricularId int4, 
  inscricaoId                  int4, 
  personId                     int4, 
  Situacao                     char(1) NOT NULL, 
  DataMatricula                date NOT NULL, 
  PRIMARY KEY (matriculaId))
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>39</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

CREATE TABLE acpMovimentoMatricula (
  movimentoMatriculaId                 SERIAL NOT NULL, 
  DataMovimento                       timestamp, 
  Usuario                             varchar(255), 
  Evento                              varchar(255), 
  Situacao                            char(1), 
  MatriculaId                         int4, 
  PersonId                            int4, 
  InscricaoId                         int4, 
  dataMatricula                       date, 
  ofertaComponenteCurricularId int4 NOT NULL, 
  PRIMARY KEY (movimentoMatriculaId))
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>40</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

CREATE TABLE acpInscricao (
  inscricaoId    SERIAL NOT NULL, 
  ofertaTurmaId int4, 
  personId      int4, 
  Situacao      char(1) NOT NULL, 
  DataSituacao  timestamp NOT NULL, 
  Origem        char(1) NOT NULL, 
  PRIMARY KEY (inscricaoId))
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>41</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

CREATE TABLE acpMovimentoInscricao (
  movimentoInscricaoId  SERIAL NOT NULL, 
  InscricaoId          int4 NOT NULL, 
  Situacao             char(1) NOT NULL, 
  DataSituacao         timestamp NOT NULL, 
  PersonId             int4 NOT NULL, 
  OfertaTurmaId        int4 NOT NULL, 
  DataMovimento        timestamp NOT NULL, 
  Usuario              varchar(255) NOT NULL, 
  Evento               varchar(255) NOT NULL, 
  PRIMARY KEY (movimentoInscricaoId))
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>42</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

CREATE TABLE prcPrecoCurso (
  precoCursoId           SERIAL NOT NULL, 
  ofertaTurmaId         int4, 
  ocorrenciaCursoId     int4 NOT NULL, 
  ofertaCursoId         int4, 
  costCenterId          varchar(30) NOT NULL, 
  bankAccountId         int4 NOT NULL, 
  operationId           int4 NOT NULL, 
  policyId              int4 NOT NULL, 
  Valor                 numeric(19, 4), 
  numeroParcelas        int4 NOT NULL, 
  diasVencimentoEntrada int4 NOT NULL, 
  DiaVencimentoParcelas int4, 
  validadeValor         date, 
  Tipo                  char(1) NOT NULL, 
  Formadecalculo        char(1), 
  PRIMARY KEY (precoCursoId))
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>43</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

CREATE TABLE prcMovimentoPrecoCurso (
  movimentoPrecoCursoId  SERIAL NOT NULL, 
  OfertaCursoId         int4, 
  OcorrenciaCursoId     int4, 
  OfertaTurmaId         int4, 
  PolicyId              int4, 
  OperationId           int4, 
  BankAccountId         int4, 
  CostCenterId          varchar(30), 
  Valor                 numeric(19, 4),
  formaDeCalculo        char(1),
  NumeroParcelas        int4, 
  DiasVencimentoEntrada int4, 
  DiaVencimentoParcelas int4, 
  ValidadeValor         date, 
  Usuario               varchar(255), 
  DataMovimento         timestamp, 
  Evento                varchar(255), 
  PRIMARY KEY (movimentoPrecoCursoId))
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>44</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[
DROP TABLE IF EXISTS prctituloprecocurso cascade;
DROP TABLE IF EXISTS prcTituloInscricao cascade;
CREATE TABLE prcTituloInscricao (
  tituloInscricaoId              SERIAL NOT NULL, 
  inscricaoId                    int4 NOT NULL, 
  invoiceId                      int4 NOT NULL, 
  tipo                           char(1) NOT NULL, 
  PRIMARY KEY (tituloInscricaoId));
ALTER TABLE prcTituloInscricao ADD CONSTRAINT FKprcTituloI620289 FOREIGN KEY (invoiceId) REFERENCES finreceivableinvoice (invoiceId);
ALTER TABLE prcTituloInscricao ADD CONSTRAINT FKprcTituloI464502 FOREIGN KEY (inscricaoId) REFERENCES acpInscricao (inscricaoId);
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>45</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

CREATE UNIQUE INDEX acpControleDeFrequencia_controleDeFrequenciaId ON acpControleDeFrequencia (controleDeFrequenciaId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>46</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpPerfilCursoComponenteCurricular ADD CONSTRAINT acpPerfilCursoComponenteCurricular_componenteCurricularId_pk FOREIGN KEY (componenteCurricularId) REFERENCES acpTipoComponenteCurricular (componenteCurricularId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>47</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpPerfilCursoComponenteCurricular ADD CONSTRAINT acpPerfilCursoComponenteCurricular_modeloDeAvaliacaoId_pk FOREIGN KEY (modeloDeAvaliacaoId) REFERENCES acpModeloDeAvaliacao (modeloDeAvaliacaoId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>48</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpModeloDeAvaliacao ADD CONSTRAINT acpRecuperacao_estadoDeMatriculaId_pk2 FOREIGN KEY (estadoDeMatriculaReprovacaoRecuperacaoId) REFERENCES acpEstadoDeMatricula (estadoDeMatriculaId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>49</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpComponenteDeAvaliacaoNotaRecuperacao ADD CONSTRAINT acpcanr_cdanId_pk FOREIGN KEY (componenteDeAvaliacaoNotaId) REFERENCES acpComponenteDeAvaliacaoNota (componenteDeAvaliacaoNotaId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>50</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpModeloDeAvaliacao ADD CONSTRAINT acpRecuperacao_estadoDeMatriculaId_pk FOREIGN KEY (estadoDeMatriculaAprovacaoRecuperacaoId) REFERENCES acpEstadoDeMatricula (estadoDeMatriculaId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>51</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpModeloDeAvaliacao ADD CONSTRAINT acpModeloDeAvaliacao_estadoDeMatriculaId_pk2 FOREIGN KEY (estadoDeMatriculaReprovacaoId) REFERENCES acpEstadoDeMatricula (estadoDeMatriculaId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>52</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpModeloDeAvaliacao ADD CONSTRAINT acpModeloDeAvaliacao_estadoDeMatriculaId_pk FOREIGN KEY (estadoDeMatriculaAprovacaoId) REFERENCES acpEstadoDeMatricula (estadoDeMatriculaId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>53</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpComponenteDeAvaliacaoConceito ADD CONSTRAINT acpComponenteDeAvaliacaoConceito_conjuntoDeConceitosId_pk FOREIGN KEY (conjuntoDeConceitosId) REFERENCES acpconjuntoDeConceitos (conjuntoDeConceitosId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>54</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpComponenteDeAvaliacaoConceito ADD CONSTRAINT acpComponenteDeAvaliacaoConceito_componenteDeAvaliacaoId_pk FOREIGN KEY (componenteDeAvaliacaoId) REFERENCES acpComponenteDeAvaliacao (componenteDeAvaliacaoId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>55</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpComponenteDeAvaliacaoNota ADD CONSTRAINT acpComponenteDeAvaliacaoNota_componenteDeAvaliacaoId_pk FOREIGN KEY (componenteDeAvaliacaoId) REFERENCES acpComponenteDeAvaliacao (componenteDeAvaliacaoId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>56</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpControleDeFrequencia ADD CONSTRAINT acpControleDeFrequencia_estadoDeMatriculaId_pk FOREIGN KEY (estadoDeMatriculaId) REFERENCES acpEstadoDeMatricula (estadoDeMatriculaId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>57</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpRelacionamentoDeComponentes ADD CONSTRAINT acpRelacionamentoDeComponentes_componenteDeAvaliacaoId_pk2 FOREIGN KEY (componenteDeAvaliacaoPai) REFERENCES acpComponenteDeAvaliacao (componenteDeAvaliacaoId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>58</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpRelacionamentoDeComponentes ADD CONSTRAINT acpRelacionamentoDeComponentes_componenteDeAvaliacaoId_pk FOREIGN KEY (componenteDeAvaliacaoFilho) REFERENCES acpComponenteDeAvaliacao (componenteDeAvaliacaoId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>59</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpPerfilCursoCamposAdicionais ADD CONSTRAINT acpPerfilCursoCamposAdicionais_perfilCursoId_pk FOREIGN KEY (perfilCursoId) REFERENCES acpPerfilCurso (perfilCursoId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>60</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpTipoDocumento ADD CONSTRAINT acpTipoDocumento_perfilCursoId_pk FOREIGN KEY (perfilCursoId) REFERENCES acpPerfilCurso (perfilCursoId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>61</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpPerfilCurso ADD CONSTRAINT acpModeloDeAvaliacao_modeloDeAvaliacaoId_pk FOREIGN KEY (modeloDeAvaliacaoSeriado) REFERENCES acpModeloDeAvaliacao (modeloDeAvaliacaoId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>62</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpRegrasMatriculaPerfilCurso ADD CONSTRAINT acpRegrasMatriculaPerfilCurso_perfilCursoId_pk FOREIGN KEY (perfilCursoId) REFERENCES acpPerfilCurso (perfilCursoId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>63</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpPerfilCursoComponenteCurricular ADD CONSTRAINT acpPerfilCursoComponenteCurricular_perfilCursoId_pk FOREIGN KEY (perfilCursoId) REFERENCES acpPerfilCurso (perfilCursoId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>64</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpRecuperacao ADD CONSTRAINT acpRecuperacao_componenteDeAvaliacaoId_pk FOREIGN KEY (componenteDeAvaliacaoId) REFERENCES acpComponenteDeAvaliacao (componenteDeAvaliacaoId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>65</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpComponenteDeAvaliacao ADD CONSTRAINT acpComponenteDeAvaliacao_modeloDeAvaliacaoId_pk FOREIGN KEY (modeloDeAvaliacaoId) REFERENCES acpModeloDeAvaliacao (modeloDeAvaliacaoId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>66</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpPerfilCurso ADD CONSTRAINT acpPerfilCurso_modeloDeAvaliacaoId_pk FOREIGN KEY (modeloDeAvaliacaoGeral) REFERENCES acpModeloDeAvaliacao (modeloDeAvaliacaoId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>67</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpControleDeFrequencia ADD CONSTRAINT acpmda_cdfId_mdaId_pk FOREIGN KEY (modeloDeAvaliacaoId) REFERENCES acpModeloDeAvaliacao (modeloDeAvaliacaoId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>68</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpConceitosDeAvaliacao ADD CONSTRAINT acpconjuntoDeConceitos_conceitoDeAvaliacaoId_pk FOREIGN KEY (conjuntoDeConceitosId) REFERENCES acpconjuntoDeConceitos (conjuntoDeConceitosId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>69</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpCurso ADD CONSTRAINT acpPerfilCurso_cursoId_pk FOREIGN KEY (perfilCursoId) REFERENCES acpPerfilCurso (perfilCursoId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>70</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpCurso ADD CONSTRAINT acpCurso_grauAcademicoId_pk FOREIGN KEY (grauAcademicoId) REFERENCES acpGrauAcademico (grauAcademicoId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>71</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpOcorrenciaCurso ADD CONSTRAINT basTurn_ocorrenciaCursoId_pk FOREIGN KEY (turnId) REFERENCES basTurn (turnId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>72</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpOcorrenciaCurso ADD CONSTRAINT acpCurso_ocorrenciaCursoId_pk FOREIGN KEY (cursoId) REFERENCES acpCurso (cursoId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>73</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpCamposAdicionaisCurso ADD CONSTRAINT acpCamposAdicionaisCurso_perfilCursoCamposAdicionaisId_pk FOREIGN KEY (perfilCursoCamposAdicionaisId) REFERENCES acpPerfilCursoCamposAdicionais (perfilCursoCamposAdicionaisId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>74</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpCamposAdicionaisCurso ADD CONSTRAINT acpCamposAdicionaisCurso_cursoId_pk FOREIGN KEY (cursoId) REFERENCES acpCurso (cursoId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>75</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpOcorrenciaCurso ADD CONSTRAINT acpOcorrenciaCurso_unitId_pk FOREIGN KEY (unitId) REFERENCES basUnit (unitId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>76</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpComponenteCurricularBibliografia ADD CONSTRAINT acpComponenteCurricularBibliografia_componenteCurricularId_pk FOREIGN KEY (componenteCurricularId) REFERENCES acpComponenteCurricular (componenteCurricularId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>77</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpComponenteCurricularTrabalhoConclusao ADD CONSTRAINT acpComponenteCurricularTrabalhoConclusao_componenteCurricularId_pk FOREIGN KEY (componenteCurricularId) REFERENCES acpComponenteCurricular (componenteCurricularId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>78</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpComponenteCurricularDisciplina ADD CONSTRAINT acpComponenteCurricularDisciplina_componenteCurricularId_pk FOREIGN KEY (componenteCurricularId) REFERENCES acpComponenteCurricular (componenteCurricularId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>79</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpCoordenadores ADD CONSTRAINT acpCoordenadores_cursoId_pk FOREIGN KEY (cursoId) REFERENCES acpCurso (cursoId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>80</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpCoordenadores ADD CONSTRAINT acpCoordenadores_personId_pk FOREIGN KEY (personId) REFERENCES basPhysicalPersonProfessor (personId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>81</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpMatrizCurricular ADD CONSTRAINT acpCurso_cursoId_pk2 FOREIGN KEY (cursoId) REFERENCES acpCurso (cursoId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>82</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpMatrizCurricularGrupo ADD CONSTRAINT acpMatrizCurricular_matrizCurricularId_pk FOREIGN KEY (matrizCurricularId) REFERENCES acpMatrizCurricular (matrizCurricularId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>83</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpComponenteCurricular ADD CONSTRAINT acpMatrizCurricularGrupo_matrizCurricularGrupoId_pk FOREIGN KEY (matrizCurricularGrupoId) REFERENCES acpMatrizCurricularGrupo (matrizCurricularGrupoId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>84</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpTipoDocumento ADD CONSTRAINT acpTipoDocumento_tipoDeDocumentoId_pk FOREIGN KEY (documentTypeId) REFERENCES basDocumentType (documentTypeId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>85</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpHorario ADD CONSTRAINT acpGradeHorario_horarioId_pk FOREIGN KEY (gradeHorarioId) REFERENCES acpGradeHorario (gradeHorarioId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>86</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpHorarioOfertaComponenteCurricular ADD CONSTRAINT FKacpHorario445584 FOREIGN KEY (horarioId) REFERENCES acpHorario (horarioId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>87</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpHorarioOfertaComponenteCurricular ADD CONSTRAINT FKacpHorario46131 FOREIGN KEY (personId) REFERENCES basPhysicalPersonProfessor (personId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>88</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpHorarioOfertaComponenteCurricular ADD CONSTRAINT FKacpHorario16534 FOREIGN KEY (physicalResourceId, physicalResourceVersion) REFERENCES insphysicalresource (physicalResourceId, physicalResourceVersion)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>89</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpHorarioOfertaComponenteCurricular ADD CONSTRAINT FKacpHorario744443 FOREIGN KEY (ofertaComponenteCurricularId) REFERENCES acpOfertaComponenteCurricular (ofertaComponenteCurricularId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>90</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpOfertaComponenteCurricular ADD CONSTRAINT FKacpOfertaC451829 FOREIGN KEY (componenteCurricularId) REFERENCES acpComponenteCurricular (componenteCurricularId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>91</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpOfertaComponenteCurricular ADD CONSTRAINT FKacpOfertaC424396 FOREIGN KEY (ofertaTurmaId) REFERENCES acpOfertaTurma (ofertaTurmaId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>92</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpOfertaCurso ADD CONSTRAINT FKacpOfertaC266135 FOREIGN KEY (ocorrenciaCursoId) REFERENCES acpOcorrenciaCurso (ocorrenciaCursoId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>93</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpOfertaTurma ADD CONSTRAINT FKacpOfertaT430790 FOREIGN KEY (ofertaCursoId) REFERENCES acpOfertaCurso (ofertaCursoId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>94</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpOfertaCurso ADD CONSTRAINT FKacpOfertaC922512 FOREIGN KEY (gradeHorarioId) REFERENCES acpGradeHorario (gradeHorarioId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>95</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpOfertaTurma ADD CONSTRAINT FKacpOfertaT663548 FOREIGN KEY (ofertaTurmaAnteriorId) REFERENCES acpOfertaTurma (ofertaTurmaId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>96</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpMatricula ADD CONSTRAINT FKacpMatricu592874 FOREIGN KEY (personId) REFERENCES basPhysicalPersonStudent (personId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>97</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpInscricao ADD CONSTRAINT FKacpInscric481362 FOREIGN KEY (personId) REFERENCES basPhysicalPersonStudent (personId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>98</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpInscricao ADD CONSTRAINT FKacpInscric974019 FOREIGN KEY (ofertaTurmaId) REFERENCES acpOfertaTurma (ofertaTurmaId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>99</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpMatricula ADD CONSTRAINT FKacpMatricu610175 FOREIGN KEY (inscricaoId) REFERENCES acpInscricao (inscricaoId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>100</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpComponenteCurricular ADD CONSTRAINT FKacpCompone541196 FOREIGN KEY (matrizCurricularId) REFERENCES acpMatrizCurricular (matrizCurricularId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>101</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE prcTituloPrecoCurso ADD CONSTRAINT FKprcTituloP886329 FOREIGN KEY (precoCursoId) REFERENCES prcPrecoCurso (precoCursoId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>102</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE prcPrecoCurso ADD CONSTRAINT FKprcPrecoCu962913 FOREIGN KEY (policyId) REFERENCES finPolicy (policyId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>103</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE prcPrecoCurso ADD CONSTRAINT FKprcPrecoCu240117 FOREIGN KEY (operationId) REFERENCES finOperation (operationId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>104</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE prcPrecoCurso ADD CONSTRAINT FKprcPrecoCu141168 FOREIGN KEY (bankAccountId) REFERENCES finBankAccount (bankAccountId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>105</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE prcPrecoCurso ADD CONSTRAINT FKprcPrecoCu490900 FOREIGN KEY (costCenterId) REFERENCES accCostCenter (costCenterId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>106</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE prcPrecoCurso ADD CONSTRAINT FKprcPrecoCu557710 FOREIGN KEY (ofertaCursoId) REFERENCES acpOfertaCurso (ofertaCursoId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>107</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE prcPrecoCurso ADD CONSTRAINT FKprcPrecoCu439542 FOREIGN KEY (ocorrenciaCursoId) REFERENCES acpOcorrenciaCurso (ocorrenciaCursoId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>108</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE prcPrecoCurso ADD CONSTRAINT FKprcPrecoCu227175 FOREIGN KEY (ofertaTurmaId) REFERENCES acpOfertaTurma (ofertaTurmaId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>109</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpCurso ADD CONSTRAINT __pk FOREIGN KEY (cursoRepresentanteId) REFERENCES acpCurso (cursoId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>110</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpCursoDocente ADD CONSTRAINT FKacpCursoDo357668 FOREIGN KEY (personId) REFERENCES basPhysicalPersonProfessor (personId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>111</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE prcTituloPrecoCurso ADD CONSTRAINT FKprcTituloP42131 FOREIGN KEY (invoiceId) REFERENCES finReceivableInvoice (invoiceId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>112</orderchange>
    </item>
   <item>
        <change>
            <![CDATA[

ALTER TABLE acpMatricula ADD CONSTRAINT FKacpMatricu176072 FOREIGN KEY (ofertaComponenteCurricularId) REFERENCES acpOfertaComponenteCurricular (ofertaComponenteCurricularId)
            ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>113</orderchange>
    </item>
   <item>
        <change>
        <![CDATA[
        CREATE TABLE acdSemesterContractPeriod (         
        semesterContractPeriodId SERIAL PRIMARY KEY,
        contractId INTEGER REFERENCES acdcontract(contractid) NOT NULL,
        periodId VARCHAR REFERENCES acdperiod(periodid),
        semester INTEGER NOT NULL ); 
        ALTER TABLE acdSemesterContractPeriod ADD CONSTRAINT semesterContractPeriod_pk UNIQUE (contractid, periodid);
        ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>125</orderchange>
    </item>
   <item>
        <change>
        <![CDATA[
		ALTER TABLE acpgradehorario ALTER COLUMN detalhes TYPE text;
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>126</orderchange>
    </item>
   <item>
        <change>
        <![CDATA[
        ALTER TABLE acpcurso ALTER COLUMN datainicio SET NOT NULL;
        ALTER TABLE acpcurso ALTER COLUMN datafim SET NOT NULL;
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>127</orderchange>
    </item>
   <item>
        <change>
        <![CDATA[
        ALTER TABLE acpCoordenadores ADD ocorrenciaCursoId int;
        ALTER TABLE acpCoordenadores DROP COLUMN CursoId;
        ALTER TABLE acpCoordenadores ADD CONSTRAINT acpCoordenadores_cursoId_pk FOREIGN KEY (ocorrenciaCursoId) REFERENCES acpOcorrenciaCurso (ocorrenciaCursoId);
        ALTER TABLE acpCoordenadores ALTER COLUMN ocorrenciaCursoId SET NOT NULL ;
        ALTER TABLE acpCoordenadores ALTER COLUMN personId SET NOT NULL ;
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>127</orderchange>
    </item>
   <item>
        <change>
        <![CDATA[
        ALTER TABLE prcPrecoCurso ADD COLUMN incomesourceid int4;
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>128</orderchange>
    </item>
   <item>
        <change>
        <![CDATA[
        CREATE TABLE acpFrequencia (
          frequenciaId                         SERIAL NOT NULL, 
          horarioOfertaComponenteCurricularId int4 NOT NULL, 
          acpMatriculamatriculaId             int4 NOT NULL, 
          Data                                date NOT NULL, 
          Frequencia                          numeric(4, 2) NOT NULL, 
          Cancelada                           bool, 
          Motivo_cancelamento                 text, 
          Falta_abonada                       bool, 
          Motivo_falta_abonada                text, 
          PRIMARY KEY (frequenciaId));
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>1</orderchange>
    </item>
   <item>
        <change>
        <![CDATA[
        ALTER TABLE prcPrecoCurso ADD CONSTRAINT FKprcPrecoCu162342 FOREIGN KEY (incomesourceid) REFERENCES finincomesource (incomesourceid);
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>128</orderchange>
    </item>
   <item>
        <change>
        <![CDATA[
        ALTER TABLE acpcomponentecurricularbibliografia ALTER COLUMN bibliografiaid DROP NOT NULL;

        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>129</orderchange>
    </item>
   <item>
        <change>
        <![CDATA[
        ALTER TABLE acpregrasmatriculaperfilcurso RENAME COLUMN utilizarMensagemFiinal to utilizarMensagemFinal;
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>130</orderchange>
    </item>
   <item>
        <change>
        <![CDATA[
        CREATE TABLE prcPrecoCurso (
          precoCursoId           SERIAL NOT NULL, 
          incomesourceid        int4 NOT NULL, 
          ofertaTurmaId         int4, 
          ocorrenciaCursoId     int4 NOT NULL, 
          ofertaCursoId         int4, 
          costCenterId          varchar(30) NOT NULL, 
          bankAccountId         int4 NOT NULL, 
          operationId           int4 NOT NULL, 
          policyId              int4 NOT NULL, 
          Valor                 numeric(19, 4) NOT NULL, 
          numeroParcelas        int4 NOT NULL, 
          diasVencimentoEntrada int4 NOT NULL, 
          DiaVencimentoParcelas int4, 
          validadeValor         date, 
          Tipo                  char(1) NOT NULL, 
          Formadecalculo        char(1), 
          PRIMARY KEY (precoCursoId));
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>2</orderchange>
    </item>
   <item>
        <change>
        <![CDATA[
        CREATE TABLE prcMovimentoPrecoCurso (
          movimentoPrecoCursoId  SERIAL NOT NULL, 
          OfertaCursoId         int4, 
          OcorrenciaCursoId     int4, 
          OfertaTurmaId         int4, 
          PolicyId              int4, 
          OperationId           int4, 
          BankAccountId         int4, 
          CostCenterId          varchar(30), 
          Valor                 numeric(19, 4), 
          NumeroParcelas        int4, 
          DiasVencimentoEntrada int4, 
          DiaVencimentoParcelas int4, 
          ValidadeValor         date, 
          PercentualDesconto    numeric(19, 4), 
          Usuario               varchar(255), 
          DataMovimento         timestamp, 
          Evento                varchar(255), 
          Formadecalculo        char(1), 
          PRIMARY KEY (movimentoPrecoCursoId));
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>3</orderchange>
    </item>
   <item>
        <change>
        <![CDATA[
        CREATE TABLE prcTituloInscricao (
          tituloInscricaoId  SERIAL NOT NULL, 
          inscricaoId       int4, 
          invoiceId         int4 NOT NULL, 
          tipo              char(1) NOT NULL, 
          PRIMARY KEY (tituloInscricaoId));
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>4</orderchange>
    </item>
   <item>
        <change>
        <![CDATA[
        ALTER TABLE prcPrecoCurso ADD CONSTRAINT FKprcPrecoCu962913 FOREIGN KEY (policyId) REFERENCES finPolicy (policyId);
        ALTER TABLE prcPrecoCurso ADD CONSTRAINT FKprcPrecoCu240117 FOREIGN KEY (operationId) REFERENCES finOperation (operationId);
        ALTER TABLE prcPrecoCurso ADD CONSTRAINT FKprcPrecoCu141168 FOREIGN KEY (bankAccountId) REFERENCES finBankAccount (bankAccountId);
        ALTER TABLE prcPrecoCurso ADD CONSTRAINT FKprcPrecoCu490900 FOREIGN KEY (costCenterId) REFERENCES accCostCenter (costCenterId);
        ALTER TABLE prcPrecoCurso ADD CONSTRAINT FKprcPrecoCu557710 FOREIGN KEY (ofertaCursoId) REFERENCES acpOfertaCurso (ofertaCursoId);
        ALTER TABLE prcPrecoCurso ADD CONSTRAINT FKprcPrecoCu439542 FOREIGN KEY (ocorrenciaCursoId) REFERENCES acpOcorrenciaCurso (ocorrenciaCursoId);
        ALTER TABLE prcPrecoCurso ADD CONSTRAINT FKprcPrecoCu227175 FOREIGN KEY (ofertaTurmaId) REFERENCES acpOfertaTurma (ofertaTurmaId);
        ALTER TABLE prcTituloInscricao ADD CONSTRAINT FKprcTituloI869621 FOREIGN KEY (invoiceId) REFERENCES finReceivableInvoice (invoiceId);
        ALTER TABLE prcTituloInscricao ADD CONSTRAINT FKprcTituloI495271 FOREIGN KEY (inscricaoId) REFERENCES acpInscricao (inscricaoId);
        ALTER TABLE prcPrecoCurso ADD CONSTRAINT FKprcPrecoCu701334 FOREIGN KEY (incomesourceid) REFERENCES finincomesource (incomesourceid);
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>5</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        CREATE OR REPLACE FUNCTION insere_semestre_atual_dos_alunos() 
        
        RETURNS BOOLEAN AS $$
        DECLARE
            v_dados_semestre RECORD;
        BEGIN
            FOR v_dados_semestre IN
                ( SELECT DISTINCT A.contractId,
                         D.periodId,
                         get_semester_contract(A.contractId) AS semester
                    FROM acdContract A
              INNER JOIN acdMovementContract B
                      ON B.contractId = A.contractId
                     AND B.stateTime = ( SELECT distinct MAX(stateTime)
                                           FROM acdMovementContract
                                          WHERE contractId = A.contractId
                                            AND stateContractId = getContractState(A.contractId) )
              INNER JOIN acdStateContract C
                      ON C.stateContractId = B.stateContractId
                     AND C.isCloseContract = FALSE
              INNER JOIN ( SELECT distinct getParameter('BASIC', 'CURRENT_PERIOD_ID') AS periodId ) D
                      ON TRUE
                ORDER BY A.contractId DESC )
            LOOP
                RAISE NOTICE 'INSERIU: contrato %, periodo %, semestre %', v_dados_semestre.contractId, v_dados_semestre.periodId, v_dados_semestre.semester;
                INSERT INTO acdSemesterContractPeriod
                            ( contractId,
                              periodId,
                              semester )
                     VALUES ( v_dados_semestre.contractId,
                              v_dados_semestre.periodId,
                              v_dados_semestre.semester ); 

                v_dados_semestre.contractId := null; 
                v_dados_semestre.periodId := null; 
                v_dados_semestre.semester := null;  
            END LOOP;

            RETURN TRUE;
        END;
        $$
        LANGUAGE plpgsql;
        ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>131</orderchange>
    </item>
   <item>
        <change>
        <![CDATA[
        SELECT insere_semestre_atual_dos_alunos() 
        ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>132</orderchange>
    </item>
   <item>
        <change>
        <![CDATA[
        ALTER TABLE acpMatricula 
          ADD COLUMN NotaFinal int4;
        ALTER TABLE acpMatricula 
          ADD COLUMN ConceitoFinal int4;
        ALTER TABLE acpMatricula 
          ADD COLUMN ParecerFinal int4;
        ALTER TABLE acpMatricula 
          ADD COLUMN Faltas int4;
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>6</orderchange>
    </item>
   <item>
        <change>
        <![CDATA[
        ALTER TABLE prcPrecoCurso  ADD COLUMN Valor numeric(19, 4) NOT NULL;
        ALTER TABLE prcPrecoCurso  ADD COLUMN Formadecalculo char(1);
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>7</orderchange>
    </item>
   <item>
        <change>
        <![CDATA[
        ALTER TABLE prcMovimentoPrecoCurso  ADD COLUMN Valor numeric(19, 4);
        ALTER TABLE prcMovimentoPrecoCurso  ADD COLUMN Formadecalculo char(1);
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>8</orderchange>
    </item>
   <item>
        <change>
        <![CDATA[
        ALTER TABLE acpFrequencia  ADD COLUMN matriculaId int4 NOT NULL;
        ALTER TABLE acpFrequencia  ADD COLUMN DataAula date NOT NULL;
        ALTER TABLE acpFrequencia  ADD COLUMN DataLancamento date NOT NULL;
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>9</orderchange>
    </item>
   <item>
        <change>
        <![CDATA[
        CREATE TABLE acpAvaliacao (
          avaliacaoId          SERIAL NOT NULL, 
          modeloDeAvaliacaoId int4 NOT NULL, 
          matriculaId         int4, 
          Nota                int4, 
          Conceito            int4, 
          Parecer             int4, 
          DataAula            date NOT NULL, 
          DataLancamento      date NOT NULL, 
          PRIMARY KEY (avaliacaoId));
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>1</orderchange>
    </item>
   <item>
        <change>
        <![CDATA[
        ALTER TABLE prcTituloInscricao ADD CONSTRAINT FKprcTituloI869621 FOREIGN KEY (invoiceId) REFERENCES finReceivableInvoice (invoiceId);
        ALTER TABLE prcTituloInscricao ADD CONSTRAINT FKprcTituloI495271 FOREIGN KEY (inscricaoId) REFERENCES acpInscricao (inscricaoId);
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>10</orderchange>
    </item>
   <item>
        <change>
        <![CDATA[
        ALTER TABLE prcPrecoCurso ADD CONSTRAINT FKprcPrecoCu701334 FOREIGN KEY (incomesourceid) REFERENCES finincomesource (incomesourceid);
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>11</orderchange>
    </item>
   <item>
        <change>
        <![CDATA[
        ALTER TABLE acpFrequencia ADD horarioOfertaComponenteCurricularId int;
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>12</orderchange>
    </item>
   <item>
        <change>
        <![CDATA[
        ALTER TABLE acpFrequencia ADD CONSTRAINT FKacpFrequen748574 FOREIGN KEY (matriculaId) REFERENCES acpMatricula (matriculaId);
        ALTER TABLE acpFrequencia ADD CONSTRAINT FKacpFrequen171599 FOREIGN KEY (horarioOfertaComponenteCurricularId) REFERENCES acpHorarioOfertaComponenteCurricular (horarioOfertaComponenteCurricularId);
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>12</orderchange>
    </item>
   <item>
        <change>
        <![CDATA[
        ALTER TABLE acpAvaliacao ADD CONSTRAINT FKacpAvaliac217921 FOREIGN KEY (matriculaId) REFERENCES acpMatricula (matriculaId);
        ALTER TABLE acpAvaliacao ADD CONSTRAINT FKacpAvaliac150640 FOREIGN KEY (modeloDeAvaliacaoId) REFERENCES acpModeloDeAvaliacao (modeloDeAvaliacaoId);
        ALTER TABLE acpMatricula ADD CONSTRAINT FKacpMatricu301924 FOREIGN KEY (estadodematriculaid) REFERENCES acpEstadoDeMatricula (estadoDeMatriculaId);
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>13</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        CREATE TABLE acdregimedomiciliar(
        regimedomiciliarid serial primary key,
        enrollid INTEGER NOT NULL REFERENCES acdenroll(enrollid),
        datainicial DATE NOT NULL,
        datafinal DATE NOT NULL,
        justificativa TEXT)
        INHERITS (baslog);
        ]]> 
        </change>
    <applicationversion>3905</applicationversion>
    <orderchange>134</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        CREATE TABLE finFluxoAprovacaoProcesso (
	fluxoAprovacaoProcessoId SERIAL PRIMARY KEY,
	nomeDoProcesso VARCHAR(255) NOT NULL,
	descricao TEXT,
	nomeDaTabela VARCHAR(255) NOT NULL,
	nomeDaColunaChavePrimaria VARCHAR(255) NOT NULL,
	metodoDosFiltros VARCHAR(255) NOT NULL,
        idModuleLink VARCHAR(255),
        actionLink VARCHAR(255),
        functionLink VARCHAR(255)	
        ) INHERITS (baslog);
        ]]> 
        </change>
    <applicationversion>31001</applicationversion>
    <orderchange>1</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        CREATE TABLE finFluxoAprovacaoConfiguracao (
	fluxoAprovacaoConfiguracaoId SERIAL PRIMARY KEY,
	fluxoAprovacaoProcessoId INT REFERENCES finFluxoAprovacaoProcesso(fluxoAprovacaoProcessoId) NOT NULL
        ) INHERITS (baslog);
        ]]> 
        </change>
    <applicationversion>31001</applicationversion>
    <orderchange>2</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        CREATE TABLE finFluxoAprovacaoNivel (
	fluxoAprovacaoNivelId SERIAL PRIMARY KEY,
	fluxoAprovacaoConfiguracaoId INT REFERENCES finFluxoAprovacaoConfiguracao(fluxoAprovacaoConfiguracaoId) NOT NULL,
	nivel INT NOT NULL,
	idUser INT REFERENCES miolo_user(idUser),
	idGroup INT REFERENCES miolo_group(idGroup)
        ) INHERITS (baslog);
        ]]> 
        </change>
    <applicationversion>31001</applicationversion>
    <orderchange>3</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        CREATE TABLE finFluxoAprovacaoStatus (
	fluxoAprovacaoStatusId SERIAL PRIMARY KEY,
	descricao VARCHAR(255) NOT NULL
        );
        ]]> 
        </change>
    <applicationversion>31001</applicationversion>
    <orderchange>4</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        CREATE TABLE finFluxoSolicitacao (
	fluxoSolicitacaoId SERIAL PRIMARY KEY,
	fluxoAprovacaoProcessoId INT REFERENCES finFluxoAprovacaoProcesso(fluxoAprovacaoProcessoId) NOT NULL,
    fluxoAprovacaoStatusId INT REFERENCES finFluxoAprovacaoStatus(fluxoAprovacaoStatusId) NOT NULL,
	idUser INT REFERENCES miolo_user(idUser) NOT NULL,
	codigoDoRegistro VARCHAR(225) NOT NULL,
	observacao TEXT
        ) INHERITS (baslog);
        ]]> 
        </change>
    <applicationversion>31001</applicationversion>
    <orderchange>5</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        CREATE TABLE finFluxoAprovacao (
	fluxoAprovacaoId SERIAL PRIMARY KEY,
	fluxoSolicitacaoId INT REFERENCES finFluxoSolicitacao(fluxoSolicitacaoId) NOT NULL,
	fluxoAprovacaoNivelId INT REFERENCES finFluxoAprovacaoNivel(fluxoAprovacaoNivelId) NOT NULL,
	fluxoAprovacaoStatusId INT REFERENCES finFluxoAprovacaoStatus(fluxoAprovacaoStatusId) NOT NULL,
	idUser INT REFERENCES miolo_user(idUser) NOT NULL,
	observacao TEXT
        ) INHERITS (baslog);
        ]]> 
        </change>
    <applicationversion>31001</applicationversion>
    <orderchange>6</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE acpMatricula  ADD COLUMN estadoDeMatriculaId int4 NOT NULL;
        ALTER TABLE acpMatricula ADD CONSTRAINT FKacpMatricu717510 FOREIGN KEY (estadoDeMatriculaId) REFERENCES acpEstadoDeMatricula (estadoDeMatriculaId);
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>17</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE acpMovimentoMatricula  ADD COLUMN NotaFinal numeric(10, 2);
        ALTER TABLE acpMovimentoMatricula  ADD COLUMN ConceitoFinal char(1);
        ALTER TABLE acpMovimentoMatricula  ADD COLUMN ParecerFinal text;
        ALTER TABLE acpMovimentoMatricula  ADD COLUMN Faltas numeric(10, 2);
        ALTER TABLE acpMovimentoMatricula  ADD COLUMN EstadoDeMatriculaId int4;
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>18</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE acphorario DROP COLUMN minutosfrequencia;
        ALTER TABLE acphorario ADD COLUMN minutosfrequencia int;
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>19</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        DELETE FROM acpofertaturma WHERE ofertacursoid IS NULL;
        ALTER TABLE acpofertaturma ALTER COLUMN ofertacursoid SET NOT NULL;
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>20</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE acpfrequencia ALTER COLUMN frequencia TYPE int4;
        ALTER TABLE acpFrequencia ADD COLUMN Justificativa text;
        ALTER TABLE acpfrequencia ALTER COLUMN frequencia type char(1);
        ALTER TABLE acpfrequencia DROP COLUMN falta_abonada;
        ALTER TABLE acpfrequencia DROP COLUMN motivo_falta_abonada;
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>21</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE acpComponenteCurricular           ADD COLUMN NumeroDeAulas int4;
        ALTER TABLE acpComponenteCurricular           ADD COLUMN Ordem int4;
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>22</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE acpCoordenadores ADD cursoId int;
        ALTER TABLE acpCoordenadores ADD CONSTRAINT FKacpCoorden408430 FOREIGN KEY (cursoId) REFERENCES acpCurso (cursoId);
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>24</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE acpfrequencia DROP COLUMN data;
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>25</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        alter TABLE acpofertacomponentecurricular ALTER COLUMN ofertaturmaid set not null;
        alter TABLE acpofertacomponentecurricular ALTER COLUMN componentecurricularid set not null;
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>26</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE acpoferta ALTER COLUMN ocorrenciacursoid set not null;
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>27</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE acpOcorrenciaCurso ALTER COLUMN turnId set not null;
        ALTER TABLE acpOcorrenciaCurso ALTER COLUMN unitid set not null;
        ALTER TABLE acpOcorrenciaCurso ALTER COLUMN cursoid set not null;
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>28</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE acpCurso ALTER COLUMN perfilCursoid set not null;
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>29</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        CREATE TABLE acpCalendarioAcademico (
          calendarioAcademicoId  SERIAL NOT NULL, 
          DataInicial           date NOT NULL, 
          DataFinal             date, 
          Descricao             varchar(255) NOT NULL, 
          PRIMARY KEY (calendarioAcademicoId));
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>3</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        CREATE TABLE acpOcorrenciaHorarioOferta (
          OcorrenciaHorarioOfertaId            SERIAL NOT NULL, 
          horarioOfertaComponenteCurricularId int4 NOT NULL, 
          DataAula                            date NOT NULL,
          PossuiFrequencia                    bool NOT NULL DEFAULT 'f',  
          Cancelada                           bool DEFAULT 'f', 
          Motivo_cancelamento                 text, 
          PRIMARY KEY (OcorrenciaHorarioOfertaId));
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>4</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        CREATE TABLE acpCalendarioAcademicoEvento (
          calendarioAcademicoEventoId  SERIAL NOT NULL, 
          ocorrenciaCursoId            int4, 
          Descricao                    varchar(255) NOT NULL, 
          TemAula                      bool NOT NULL, 
          Data                         date NOT NULL, 
          calendarioAcademicoId        int4 NOT NULL, 
          PRIMARY KEY (calendarioAcademicoEventoId));
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>5</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE acpOcorrenciaHorarioOferta ADD CONSTRAINT FKacpOcorren240864 FOREIGN KEY (horarioOfertaComponenteCurricularId) REFERENCES acpHorarioOfertaComponenteCurricular (horarioOfertaComponenteCurricularId);
        ALTER TABLE acpCalendarioAcademicoEvento ADD CONSTRAINT FKacpCalenda688019 FOREIGN KEY (calendarioAcademicoId) REFERENCES acpCalendarioAcademico (calendarioAcademicoId);
        ALTER TABLE acpCalendarioAcademicoEvento ADD CONSTRAINT FKacpCalenda467522 FOREIGN KEY (ocorrenciaCursoId) REFERENCES acpOcorrenciaCurso (ocorrenciaCursoId);
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>6</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE acpFrequencia DROP COLUMN cancelada;
        ALTER TABLE acpFrequencia DROP COLUMN motivo_cancelamento;
        ALTER TABLE acpFrequencia DROP COLUMN dataaula;
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>30</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
            DROP TYPE IF EXISTS dblink_pkey_results;
            CREATE EXTENSION dblink;
        ]]> 
        </change>
    <applicationversion>3901</applicationversion>
    <orderchange>1</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[               
        ALTER TABLE acpFrequencia ADD COLUMN ocorrenciahorarioofertaId int4 NOT NULL;
        ALTER TABLE acpFrequencia ADD CONSTRAINT FKacpFrequen805871 FOREIGN KEY (ocorrenciahorarioofertaId) REFERENCES acpOcorrenciaHorarioOferta (OcorrenciaHorarioOfertaId);
        ALTER TABLE acpFrequencia DROP CONSTRAINT fkacpfrequen171599;
        ALTER TABLE acpFrequencia DROP COLUMN horarioofertacomponentecurricularid;
        ]]>
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>31</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        CREATE TABLE basStickyNote (
	stickyNoteId SERIAL PRIMARY KEY,
	idUser INT REFERENCES miolo_user(idUser),
	description TEXT,
	positionX INT,
	positionY INT,
	stickyNoteType VARCHAR(255)
        );
        ]]> 
        </change>
    <applicationversion>31001</applicationversion>
    <orderchange>1</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        CREATE INDEX idx_basaccess_login ON basaccess (upper(login));
        ]]> 
        </change>
    <applicationversion>3906</applicationversion>
    <orderchange>1</orderchange>
    </item>    
    <item>
        <change>
        <![CDATA[
        SELECT corrigeMovimentacoesContratuaisDeMatricula();
        ]]> 
        </change>
    <applicationversion>3906</applicationversion>
    <orderchange>2</orderchange>
    </item>    
    <item>
        <change>
        <![CDATA[
        ALTER TABLE acdMovementContract ADD CONSTRAINT chk_validaRegistroDeMovimentacaoContratual CHECK (validaRegistroDeMovimentacaoContratual(contractid, statecontractid, learningperiodid));
        ]]> 
        </change>
    <applicationversion>3906</applicationversion>
    <orderchange>3</orderchange>
    </item>
        <item>
        <change>
        <![CDATA[
        ALTER TABLE acdMovementContract ADD CONSTRAINT chk_validaRegistroDeMovimentacaoContratual CHECK (validaRegistroDeMovimentacaoContratual(contractid, statecontractid, learningperiodid));
        ]]> 
        </change>
    <applicationversion>3906</applicationversion>
    <orderchange>3</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        DROP TABLE basStickyNote;

        CREATE TABLE basStickyNote (
        stickyNoteId SERIAL PRIMARY KEY,
        isGroup BOOLEAN DEFAULT FALSE,
        code INT,
        description TEXT,
        positionX INT,
        positionY INT,
        stickyNoteType VARCHAR(255)
        );
        ]]> 
        </change>
    <applicationversion>31001</applicationversion>
    <orderchange>14</orderchange>
    </item>      
    <item>
        <change>
        <![CDATA[
        ALTER TABLE basstickynote ADD COLUMN link VARCHAR(255);
        ]]> 
        </change>
    <applicationversion>31001</applicationversion>
    <orderchange>15</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE finhistoricoremessa add pedidodebaixa boolean;
        COMMENT ON COLUMN finhistoricoremessa.pedidodebaixa IS 'Indica se ja foi feito pedido de baixa para este titulo';
        ]]> 
        </change>
    <applicationversion>3901</applicationversion>
    <orderchange>1</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE acpOcorrenciaHorarioOferta ADD COLUMN horarioId int4;
        ALTER TABLE acpOcorrenciaHorarioOferta ADD CONSTRAINT FKacpOcorren331931 FOREIGN KEY (horarioId) REFERENCES acpHorario (horarioId);
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>2</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        DROP FUNCTION IF EXISTS check_acpHorarioOfertaComponenteCurricular() cascade;
        CREATE OR REPLACE FUNCTION check_acpHorarioOfertaComponenteCurricular() RETURNS trigger
            LANGUAGE plpgsql
            AS $$
            DECLARE
                existe int;
            BEGIN

                SELECT count(*) INTO existe from acpHorarioOfertaComponenteCurricular where ofertaComponenteCurricularId=NEW.ofertaComponenteCurricularId and personId=NEW.personId and horarioId=NEW.horarioId and physicalResourceId=NEW.physicalResourceId and diaSemana=NEW.diaSemana;

                IF existe>0 THEN
                    RAISE EXCEPTION 'Eu já tenho cadastrada uma ocorrência de horário para esta disciplina com estes mesmos parâmetros que você está tentando inserir. Verifique as ocorrências de horários já existentes para esta disciplina, pois de outra forma não poderei deixar você continuar o que está fazendo.<br><br>Me desculpe, não é nada pessoal, mas minha obrigação é manter a integridade de dados do sistema.';
                END IF;

        RETURN NEW;
            END;
        $$;

        DROP TRIGGER IF EXISTS check_acpHorarioOfertaComponenteCurricular ON acpHorarioOfertaComponenteCurricular;
        CREATE TRIGGER check_acpHorarioOfertaComponenteCurricular BEFORE INSERT ON acpHorarioOfertaComponenteCurricular FOR EACH ROW EXECUTE PROCEDURE check_acpHorarioOfertaComponenteCurricular();
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>32</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        DROP FUNCTION IF EXISTS check_acphorario() cascade;
        CREATE OR REPLACE FUNCTION check_acphorario() RETURNS trigger
            LANGUAGE plpgsql
            AS $$
            DECLARE
                existe int;
            BEGIN

                SELECT count(*) INTO existe from acphorario where gradehorarioid=NEW.gradehorarioid and horainicio=NEW.horainicio and horafim=NEW.horafim and diasemana=NEW.diasemana;

                IF existe>0 THEN
                    RAISE EXCEPTION 'Eu já tenho registrado este horário para esta disciplina. Não posso deixar você cadastrá-lo novamente, pois me daria uma enorme dor de cabeça.';
                END IF;

        RETURN NEW;
            END;
        $$;

        DROP TRIGGER IF EXISTS check_acphorario ON acphorario;
        CREATE TRIGGER check_acphorario BEFORE INSERT ON acphorario FOR EACH ROW EXECUTE PROCEDURE check_acphorario();
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>33</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE acpPerfilCurso ADD CONSTRAINT FKacpPerfilC232139 FOREIGN KEY (modeloDeAvaliacaoGeral) REFERENCES acpModeloDeAvaliacao (modeloDeAvaliacaoId);
        ALTER TABLE acpPerfilCurso ADD CONSTRAINT FKacpPerfilC54550 FOREIGN KEY (modeloDeAvaliacaoSeriado) REFERENCES acpModeloDeAvaliacao (modeloDeAvaliacaoId);
        ]]> 
        </change>
    <applicationversion>3901</applicationversion>
    <orderchange>34</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE acpAvaliacao ADD COLUMN componenteDeAvaliacaoId int4;
        ALTER TABLE acpAvaliacao ADD CONSTRAINT FKacpAvaliac585478 FOREIGN KEY (componenteDeAvaliacaoId) REFERENCES acpComponenteDeAvaliacao (componenteDeAvaliacaoId);
        ALTER TABLE acpavaliacao DROP COLUMN modelodeavaliacaoid;
        ]]> 
        </change>
    <applicationversion>3901</applicationversion>
    <orderchange>34</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE acpConceitosDeAvaliacao ADD COLUMN ima int4;
        ALTER TABLE acpcoordenadores ALTER COLUMN ocorrenciacursoid DROP not null;
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>36</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE acpavaliacao DROP COLUMN parecer ;
        ALTER TABLE acpComponenteDeAvaliacaoConceito ADD COLUMN FormaDeCalculo char(1);
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>37</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE acpavaliacao ALTER COLUMN nota type numeric(7,2);
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>38</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        CREATE INDEX idx_ava_formulario_ref_avaliacao ON ava_formulario(ref_avaliacao);
        CREATE INDEX idx_ava_bloco_questoes_ref_questao_text ON ava_bloco_questoes((ref_questao::varchar));
        CREATE INDEX idx_ava_opcoes_questoes_questao ON ava_opcoes_questoes(questao);
        CREATE INDEX idx_ava_opcoes_questoes_questao_valor ON ava_opcoes_questoes((questao::text),(valor::text));
        CREATE INDEX idx_ava_respostas_valor ON ava_respostas(valor);        
        ]]> 
        </change>
    <applicationversion>3801</applicationversion>
    <orderchange>1</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        CREATE TABLE finReemissaoDeTitulosLog (
            invoiceid int REFERENCES fininvoice(invoiceid),
            ournumber varchar NOT NULL
        ) INHERITS (baslog);      
        ]]> 
        </change>
    <applicationversion>31001</applicationversion>
    <orderchange>1</orderchange>
    </item>    
    <item>
        <change>
        <![CDATA[
        ALTER TABLE public.acdexploitation ADD COLUMN electivecurriculumid INTEGER REFERENCES acdcurriculum(curriculumid);
        COMMENT ON COLUMN acdexploitation.electivecurriculumid IS 'Código do componente curricular de uma disciplina eletiva, esse campo é opcional e será mostrado na interface somente quando for aproveitamento de uma disciplina eletiva.'
        ]]> 
        </change>
    <applicationversion>31001</applicationversion>
    <orderchange>2</orderchange>
    </item>    
    <item>
        <change>
        <![CDATA[
        CREATE TABLE basEtiquetaDaTabela(
        etiquetaDaTabelaId SERIAL PRIMARY KEY,
        tabela VARCHAR(255),
        esquema VARCHAR(255),
        etiqueta VARCHAR(255)
        ) INHERITS (basLog);
        ]]> 
        </change>
    <applicationversion>31101</applicationversion>
    <orderchange>2</orderchange>
    </item>    
    <item>
        <change>
        <![CDATA[
    CREATE OR REPLACE FUNCTION miolo_audit_it() RETURNS TRIGGER AS $body$
/*************************************************************************************************************
  NAME: miolo_audit_it
  PURPOSE: Função que permite auditoria de tabelas.
  
  REVISIONS:
  Ver       Date       Author                    Description
  --------- ---------- ----------------- ------------------------------------
  1.0       -          Daniel Hartmann           1. Função criada.
  2.0     27/11/20013  Nataniel Ingor da Silva   2. Função adaptada para utilizar uma outra base
                                                    para salvar os dados de auditoria, caso esteja
                                                    configurado o parâmetro MIOLO_AUDIT_DATABASE(dblink).
**************************************************************************************************************/
DECLARE
    v_original_value TEXT;
    v_new_value TEXT;
    v_col TEXT;
    v_audit_id INT;
    v_do_insert BOOLEAN;
    v_ispk BOOLEAN;
    v_path_dblink TEXT;
    v_dblink TEXT;
    v_is_dblink BOOLEAN = FALSE;
    v_current_query TEXT;
    v_next_val INTEGER;
    v_dblink_extension BOOLEAN = FALSE;
    v_database TEXT;
BEGIN
    v_original_value = NULL;
    v_new_value = NULL;
    v_path_dblink = GETPARAMETER('BASIC', 'MIOLO_AUDIT_DATABASE');    
    v_dblink = 'dblink';   
    v_current_query = current_query();
    v_next_val = nextval('miolo_audit_audit_id_seq');
  
    --Verifica se o parâmetro com o path do dblink está ativado. 
    IF LENGTH(v_path_dblink)>0 THEN  
        v_is_dblink = TRUE; 

        --Busca a base de dados atual usada pelo sagu
        SELECT INTO v_database current_database();

        --Monta o host externo para conectar ao dblink
        v_database := ' dbname=' || v_database || '_auditoria ';
        v_path_dblink := v_database || v_path_dblink;
    END IF;
    
    --Insere na tabela miolo_audit da database dblink.
    IF v_is_dblink THEN    
       v_current_query = replace(v_current_query, '''', '/');
       
       PERFORM (SELECT dblink_exec(''|| v_path_dblink::TEXT ||'',
            'INSERT INTO miolo_audit(audit_id, schema_name, table_name, user_name, action, query)
            VALUES ('''|| v_next_val ||''',''' || TG_TABLE_SCHEMA::TEXT || ''',''' || TG_TABLE_NAME::TEXT || ''',''' || session_user::TEXT || ''',''' || TG_OP::TEXT ||''',  ''' || v_current_query::TEXT || ''')'));
        
    ELSE
        INSERT INTO miolo_audit 
                    (audit_id, schema_name, table_name, user_name, action, query)
            VALUES (v_next_val, TG_TABLE_SCHEMA::TEXT, TG_TABLE_NAME::TEXT, session_user::TEXT, TG_OP, current_query());    
   END IF;

    FOR v_col IN SELECT column_name
                   FROM information_schema.columns 
                  WHERE table_name = TG_TABLE_NAME
                    AND table_schema = TG_TABLE_SCHEMA
               ORDER BY ordinal_position
    LOOP

        v_do_insert := TRUE;

        IF TG_OP = 'DELETE' OR TG_OP = 'UPDATE' THEN
            EXECUTE 'SELECT ' || v_col || ' FROM (SELECT $1.*) AS table_old' INTO v_original_value USING OLD;
        END IF;

        IF TG_OP = 'UPDATE' THEN
            EXECUTE 'SELECT ' || v_col || ' FROM (SELECT $1.*) AS table_new' INTO v_new_value USING NEW;

            IF TG_OP = 'UPDATE' AND v_original_value = v_new_value THEN
                v_do_insert := FALSE;
            END IF;

        END IF;
 
        SELECT INTO v_ispk COUNT(*) > 0
               FROM information_schema.constraint_column_usage U
         INNER JOIN information_schema.table_constraints CONS
                 ON CONS.table_name = U.table_name
                AND CONS.table_schema = U.table_schema
                AND CONS.constraint_name = U.constraint_name
                AND CONS.constraint_type = 'PRIMARY KEY'
              WHERE U.table_name = TG_TABLE_NAME
                AND U.table_schema = TG_TABLE_SCHEMA
                AND U.column_name = v_col;

        --Insere na tabela miolo_audit_detail da database dblink.
        IF v_is_dblink THEN
            IF v_do_insert THEN
                PERFORM (SELECT dblink_exec(''|| v_path_dblink::TEXT ||'',
     'INSERT INTO miolo_audit_detail (audit_id, column_name, original_value, new_value, is_pkey)
                         VALUES (' || v_next_val || ',''' || v_col || ''',''' || v_original_value || ''',''' || v_new_value || ''',''' || v_ispk || ''')'));
            END IF;
        ELSE
            IF v_do_insert THEN
                INSERT INTO miolo_audit_detail
                            (audit_id, column_name, original_value, new_value, is_pkey)
                    VALUES (v_next_val, v_col, v_original_value, v_new_value, v_ispk);
            END IF;
        END IF;
    END LOOP;

    IF TG_OP = 'UPDATE' THEN
        RETURN NEW;
    ELSE
        RETURN OLD;
    END IF;

END;
$body$ language plpgsql security definer;
        ]]> 
        </change>
    <applicationversion>3901</applicationversion>
    <orderchange>1</orderchange>
    </item>
        <item>
        <change>
        <![CDATA[
    CREATE TABLE finFluxoSolicitacaoRegistro(
    fluxoSolicitacaoRegistroId SERIAL PRIMARY KEY,
    fluxoSolicitacaoId INT REFERENCES finFluxoSolicitacao(fluxoSolicitacaoId),
    registroDados TEXT,
    registroModule VARCHAR(255),
    registroAction VARCHAR(255),
    registroEvent VARCHAR(255),
    registroFunction VARCHAR(255),
    registroProcessado BOOLEAN DEFAULT FALSE
    )INHERITS (basLog);
        ]]> 
        </change>
    <applicationversion>31101</applicationversion>
    <orderchange>2</orderchange>
    </item> 
    <item>
        <change>
        <![CDATA[
        ALTER TABLE basstickynote ADD COLUMN username VARCHAR;
        ALTER TABLE basstickynote ADD COLUMN datetime TIMESTAMP WITH TIME ZONE DEFAULT NOW();
        ALTER TABLE basstickynote ADD COLUMN ipaddress inet;
        ALTER TABLE basstickynote INHERIT baslog;
        ]]> 
        </change>
    <applicationversion>31101</applicationversion>
    <orderchange>2</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE acdsemestercontractperiod ADD COLUMN username VARCHAR;
        ALTER TABLE acdsemestercontractperiod ADD COLUMN datetime TIMESTAMP WITH TIME ZONE DEFAULT NOW();
        ALTER TABLE acdsemestercontractperiod ADD COLUMN ipaddress inet;
        ALTER TABLE acdsemestercontractperiod INHERIT baslog;
        ]]> 
        </change>
    <applicationversion>31101</applicationversion>
    <orderchange>2</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE capsolicitacao DROP CONSTRAINT capsolicitacao_fornecedorid_fkey;
        ]]> 
        </change>
    <applicationversion>31001</applicationversion>
    <orderchange>2</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE capsolicitacao ADD CONSTRAINT capsolicitacao_fornecedorid_fkey FOREIGN KEY (fornecedorid) REFERENCES basperson(personid);
        ]]> 
        </change>
    <applicationversion>31001</applicationversion>
    <orderchange>2</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        create index idx_basphysicalperson_login on basphysicalperson((login)::text);
        ]]> 
        </change>
    <applicationversion>31001</applicationversion>
    <orderchange>2</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE findefaultoperations ADD COLUMN transferenciadesaldooperation INTEGER;
        ALTER TABLE findefaultoperations ADD COLUMN reemissaoDeTituloOperation INTEGER;
        ]]> 
        </change>
    <applicationversion>31101</applicationversion>
    <orderchange>1</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        DROP TABLE finreemissaodetituloslog;
        CREATE TABLE finreemissaodetituloslog (
            reemissaodetituloslogid SERIAL PRIMARY KEY,
            newInvoiceId INT REFERENCES finInvoice(invoiceId),
            oldInvoiceId INT REFERENCES finInvoice(invoiceId)
        ) INHERITS (basLog);
        ]]> 
        </change>
    <applicationversion>31101</applicationversion>
    <orderchange>1</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
    CREATE TABLE  finspeciestype (
    speciestypeid serial not null  primary key,
    description varchar not null
    ) INHERITS (baslog);
        ]]> 
        </change>
    <applicationversion>31101</applicationversion>
    <orderchange>1</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        INSERT INTO finspeciestype (speciestypeid, description) VALUES (1, 'Outros');
        INSERT INTO finspeciestype (speciestypeid, description) VALUES (2, 'Cheque');
        INSERT INTO finspeciestype (speciestypeid, description) VALUES (3, 'Cartão de crédito');
        ]]> 
        </change>
    <applicationversion>31101</applicationversion>
    <orderchange>1</orderchange>
    </item>    
    <item>
        <change>
        <![CDATA[
        ALTER TABLE finspecies ADD speciestypeid integer references finspeciestype;
        ALTER TABLE finspecies ADD bandeira varchar(20);
        ALTER TABLE finspecies ADD modalidade char(1);
        ALTER TABLE finspecies ADD numparcelas integer default 1;
        ]]> 
        </change>
    <applicationversion>31101</applicationversion>
    <orderchange>1</orderchange>
    </item> 
    <item>
        <change>
        <![CDATA[
        UPDATE finspecies SET speciestypeid = 1;
        UPDATE finspecies SET speciestypeid = 2 WHERE speciesid IN (SELECT getparameter('FINANCE', 'CHEQUE_SPECIES_ID')::int);
        ]]> 
        </change>
    <applicationversion>31101</applicationversion>
    <orderchange>1</orderchange>
    </item> 
    <item>
        <change>
        <![CDATA[
        ALTER TABLE acpcomponentecurricular ADD ordem int;
        ALTER TABLE acpconceitosdeavaliacao ALTER COLUMN resultado type varchar(2);
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>42</orderchange>
    </item>  
    <item>
        <change>
        <![CDATA[
        COMMENT ON COLUMN acpconceitosdeavaliacao.resultado IS 'Representação do conceito, em até dois caracteres, para documentos.';
        COMMENT ON COLUMN acpconceitosdeavaliacao.descricao IS 'Descrição sucinta do conceito, será exibida na tela de registro de avaliação de alunos.';
        COMMENT ON COLUMN acpconceitosdeavaliacao.detalhes IS 'Descrição detalhada do conceito, é informativo.';

        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>43</orderchange>
    </item> 
    <item>
        <change>
        <![CDATA[
        ALTER TABLE acpconceitosdeavaliacao ALTER COLUMN detalhes DROP not null;
        ALTER TABLE acpconceitosdeavaliacao ALTER COLUMN ima SET not null;
        ALTER TABLE acpmatricula ALTER COLUMN estadodematriculaid DROP not null;
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>44</orderchange>
    </item> 
    <item>
        <change>
        <![CDATA[
        ALTER TABLE acpfrequencia drop COLUMN acpmatriculamatriculaid cascade;
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>45</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE acpfrequencia ADD ocorrenciahorarioofertaid int references acpocorrenciahorariooferta(ocorrenciahorarioofertaid);
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>45</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE acpmodelodeavaliacao DROP COLUMN estadodematriculareprovacaoid;
        ALTER TABLE acpmodelodeavaliacao DROP COLUMN estadodematriculaaprovacaoid;
        ALTER TABLE acpmodelodeavaliacao DROP COLUMN estadodematriculaaprovacaorecuperacaoid;
        ALTER TABLE acpmodelodeavaliacao DROP COLUMN estadodematriculareprovacaorecuperacaoid;
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>46</orderchange>
    </item>      
        <item>
             <change>
             <![CDATA[         ALTER TABLE acpareaconhecimento add username varchar(20) default "current_user"();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpareaconhecimento add datetime timestamp with time zone default now();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpareaconhecimento ADD ipaddress inet;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpareaconhecimento INHERIT baslog;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

        ALTER TABLE acpcalendarioacademico add username varchar(20) default "current_user"();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpcalendarioacademico add datetime timestamp with time zone default now();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpcalendarioacademico ADD ipaddress inet;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>7</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpcalendarioacademico INHERIT baslog;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>8</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

        ALTER TABLE acpcalendarioacademicoevento add username varchar(20) default "current_user"();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>9</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpcalendarioacademicoevento add datetime timestamp with time zone default now();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>10</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpcalendarioacademicoevento ADD ipaddress inet;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>11</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpcalendarioacademicoevento INHERIT baslog;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>12</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

        ALTER TABLE acpcamposadicionaiscurso add username varchar(20) default "current_user"();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>13</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpcamposadicionaiscurso add datetime timestamp with time zone default now();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>14</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpcamposadicionaiscurso ADD ipaddress inet;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>15</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpcamposadicionaiscurso INHERIT baslog;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>16</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

        ALTER TABLE acpcomponentecurricular add username varchar(20) default "current_user"();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>17</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpcomponentecurricular add datetime timestamp with time zone default now();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>18</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpcomponentecurricular ADD ipaddress inet;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>19</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpcomponentecurricular INHERIT baslog;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>20</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

        ALTER TABLE acpcomponentecurricularbibliografia add username varchar(20) default "current_user"();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>21</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpcomponentecurricularbibliografia add datetime timestamp with time zone default now();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>22</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpcomponentecurricularbibliografia ADD ipaddress inet;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>23</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpcomponentecurricularbibliografia INHERIT baslog;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>24</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

        ALTER TABLE acpcomponentecurriculardisciplina add username varchar(20) default "current_user"();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>25</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpcomponentecurriculardisciplina add datetime timestamp with time zone default now();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>26</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpcomponentecurriculardisciplina ADD ipaddress inet;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>27</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpcomponentecurriculardisciplina INHERIT baslog;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>28</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

        ALTER TABLE acpcomponentecurriculartrabalhoconclusao add username varchar(20) default "current_user"();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>29</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpcomponentecurriculartrabalhoconclusao add datetime timestamp with time zone default now();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>30</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpcomponentecurriculartrabalhoconclusao ADD ipaddress inet;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>31</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpcomponentecurriculartrabalhoconclusao INHERIT baslog;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>32</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

        ALTER TABLE acpcomponentedeavaliacao add username varchar(20) default "current_user"();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>33</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpcomponentedeavaliacao add datetime timestamp with time zone default now();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>34</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpcomponentedeavaliacao ADD ipaddress inet;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>35</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpcomponentedeavaliacao INHERIT baslog;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>36</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

        ALTER TABLE acpcomponentedeavaliacaoconceito add username varchar(20) default "current_user"();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>37</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpcomponentedeavaliacaoconceito add datetime timestamp with time zone default now();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>38</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpcomponentedeavaliacaoconceito ADD ipaddress inet;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>39</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpcomponentedeavaliacaoconceito INHERIT baslog;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>40</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

        ALTER TABLE acpcomponentedeavaliacaonota add username varchar(20) default "current_user"();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>41</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpcomponentedeavaliacaonota add datetime timestamp with time zone default now();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>42</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpcomponentedeavaliacaonota ADD ipaddress inet;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>43</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpcomponentedeavaliacaonota INHERIT baslog;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>44</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

        ALTER TABLE acpcomponentedeavaliacaonotarecuperacao add username varchar(20) default "current_user"();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>45</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpcomponentedeavaliacaonotarecuperacao add datetime timestamp with time zone default now();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>46</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpcomponentedeavaliacaonotarecuperacao ADD ipaddress inet;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>47</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpcomponentedeavaliacaonotarecuperacao INHERIT baslog;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>48</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

        ALTER TABLE acpconceitosdeavaliacao add username varchar(20) default "current_user"();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>49</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpconceitosdeavaliacao add datetime timestamp with time zone default now();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>50</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpconceitosdeavaliacao ADD ipaddress inet;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>51</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpconceitosdeavaliacao INHERIT baslog;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>52</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

        ALTER TABLE acpconjuntodeconceitos add username varchar(20) default "current_user"();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>53</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpconjuntodeconceitos add datetime timestamp with time zone default now();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>54</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpconjuntodeconceitos ADD ipaddress inet;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>55</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpconjuntodeconceitos INHERIT baslog;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>56</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

        ALTER TABLE acpcontroledefrequencia add username varchar(20) default "current_user"();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>57</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpcontroledefrequencia add datetime timestamp with time zone default now();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>58</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpcontroledefrequencia ADD ipaddress inet;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>59</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpcontroledefrequencia INHERIT baslog;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>60</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

        ALTER TABLE acpcoordenadores add username varchar(20) default "current_user"();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>61</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpcoordenadores add datetime timestamp with time zone default now();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>62</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpcoordenadores ADD ipaddress inet;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>63</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpcoordenadores INHERIT baslog;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>64</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

        ALTER TABLE acpcurso add username varchar(20) default "current_user"();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>65</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpcurso add datetime timestamp with time zone default now();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>66</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpcurso ADD ipaddress inet;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>67</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpcurso INHERIT baslog;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>68</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

        ALTER TABLE acpcursodocente add username varchar(20) default "current_user"();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>69</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpcursodocente add datetime timestamp with time zone default now();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>70</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpcursodocente ADD ipaddress inet;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>71</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpcursodocente INHERIT baslog;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>72</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

        ALTER TABLE acpestadodematricula add username varchar(20) default "current_user"();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>73</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpestadodematricula add datetime timestamp with time zone default now();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>74</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpestadodematricula ADD ipaddress inet;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>75</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpestadodematricula INHERIT baslog;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>76</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

        ALTER TABLE acpfrequencia add username varchar(20) default "current_user"();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>77</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpfrequencia add datetime timestamp with time zone default now();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>78</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpfrequencia ADD ipaddress inet;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>79</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpfrequencia INHERIT baslog;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>80</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

        ALTER TABLE acpgradehorario add username varchar(20) default "current_user"();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>81</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpgradehorario add datetime timestamp with time zone default now();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>82</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpgradehorario ADD ipaddress inet;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>83</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpgradehorario INHERIT baslog;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>84</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

        ALTER TABLE acpgrauacademico add username varchar(20) default "current_user"();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>85</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpgrauacademico add datetime timestamp with time zone default now();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>86</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpgrauacademico ADD ipaddress inet;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>87</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpgrauacademico INHERIT baslog;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>88</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

        ALTER TABLE acphorario add username varchar(20) default "current_user"();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>89</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acphorario add datetime timestamp with time zone default now();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>90</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acphorario ADD ipaddress inet;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>91</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acphorario INHERIT baslog;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>92</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

        ALTER TABLE acphorarioofertacomponentecurricular add username varchar(20) default "current_user"();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>93</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acphorarioofertacomponentecurricular add datetime timestamp with time zone default now();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>94</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acphorarioofertacomponentecurricular ADD ipaddress inet;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>95</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acphorarioofertacomponentecurricular INHERIT baslog;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>96</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

        ALTER TABLE acpinscricao add username varchar(20) default "current_user"();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>97</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpinscricao add datetime timestamp with time zone default now();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>98</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpinscricao ADD ipaddress inet;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>99</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpinscricao INHERIT baslog;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>100</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

        ALTER TABLE acpmatricula add username varchar(20) default "current_user"();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>101</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpmatricula add datetime timestamp with time zone default now();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>102</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpmatricula ADD ipaddress inet;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>103</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpmatricula INHERIT baslog;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>104</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

        ALTER TABLE acpmatrizcurricular add username varchar(20) default "current_user"();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>105</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpmatrizcurricular add datetime timestamp with time zone default now();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>106</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpmatrizcurricular ADD ipaddress inet;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>107</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpmatrizcurricular INHERIT baslog;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>108</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

        ALTER TABLE acpmatrizcurriculargrupo add username varchar(20) default "current_user"();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>109</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpmatrizcurriculargrupo add datetime timestamp with time zone default now();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>110</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpmatrizcurriculargrupo ADD ipaddress inet;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>111</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpmatrizcurriculargrupo INHERIT baslog;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>112</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

        ALTER TABLE acpmodelodeavaliacao add username varchar(20) default "current_user"();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>113</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpmodelodeavaliacao add datetime timestamp with time zone default now();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>114</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpmodelodeavaliacao ADD ipaddress inet;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>115</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpmodelodeavaliacao INHERIT baslog;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>116</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

        ALTER TABLE acpmovimentoinscricao add username varchar(20) default "current_user"();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>117</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpmovimentoinscricao add datetime timestamp with time zone default now();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>118</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpmovimentoinscricao ADD ipaddress inet;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>119</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpmovimentoinscricao INHERIT baslog;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>120</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

        ALTER TABLE acpmovimentomatricula add username varchar(20) default "current_user"();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>121</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpmovimentomatricula add datetime timestamp with time zone default now();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>122</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpmovimentomatricula ADD ipaddress inet;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>123</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpmovimentomatricula INHERIT baslog;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>124</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

        ALTER TABLE acpocorrenciacurso add username varchar(20) default "current_user"();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>125</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpocorrenciacurso add datetime timestamp with time zone default now();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>126</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpocorrenciacurso ADD ipaddress inet;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>127</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpocorrenciacurso INHERIT baslog;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>128</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

        ALTER TABLE acpocorrenciahorariooferta add username varchar(20) default "current_user"();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>129</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpocorrenciahorariooferta add datetime timestamp with time zone default now();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>130</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpocorrenciahorariooferta ADD ipaddress inet;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>131</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpocorrenciahorariooferta INHERIT baslog;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>132</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

        ALTER TABLE acpofertacomponentecurricular add username varchar(20) default "current_user"();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>133</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpofertacomponentecurricular add datetime timestamp with time zone default now();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>134</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpofertacomponentecurricular ADD ipaddress inet;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>135</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpofertacomponentecurricular INHERIT baslog;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>136</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

        ALTER TABLE acpofertacurso add username varchar(20) default "current_user"();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>137</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpofertacurso add datetime timestamp with time zone default now();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>138</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpofertacurso ADD ipaddress inet;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>139</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpofertacurso INHERIT baslog;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>140</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

        ALTER TABLE acpofertaturma add username varchar(20) default "current_user"();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>141</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpofertaturma add datetime timestamp with time zone default now();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>142</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpofertaturma ADD ipaddress inet;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>143</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpofertaturma INHERIT baslog;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>144</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

        ALTER TABLE acpperfilcurso add username varchar(20) default "current_user"();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>145</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpperfilcurso add datetime timestamp with time zone default now();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>146</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpperfilcurso ADD ipaddress inet;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>147</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpperfilcurso INHERIT baslog;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>148</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

        ALTER TABLE acpperfilcursocamposadicionais add username varchar(20) default "current_user"();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>149</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpperfilcursocamposadicionais add datetime timestamp with time zone default now();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>150</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpperfilcursocamposadicionais ADD ipaddress inet;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>151</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpperfilcursocamposadicionais INHERIT baslog;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>152</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

        ALTER TABLE acpperfilcursocomponentecurricular add username varchar(20) default "current_user"();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>153</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpperfilcursocomponentecurricular add datetime timestamp with time zone default now();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>154</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpperfilcursocomponentecurricular ADD ipaddress inet;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>155</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpperfilcursocomponentecurricular INHERIT baslog;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>156</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

        ALTER TABLE acprecuperacao add username varchar(20) default "current_user"();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>157</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acprecuperacao add datetime timestamp with time zone default now();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>158</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acprecuperacao ADD ipaddress inet;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>159</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acprecuperacao INHERIT baslog;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>160</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

        ALTER TABLE acpregrasmatriculaperfilcurso add username varchar(20) default "current_user"();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>161</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpregrasmatriculaperfilcurso add datetime timestamp with time zone default now();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>162</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpregrasmatriculaperfilcurso ADD ipaddress inet;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>163</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acpregrasmatriculaperfilcurso INHERIT baslog;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>164</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

        ALTER TABLE acprelacionamentodecomponentes add username varchar(20) default "current_user"();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>165</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acprelacionamentodecomponentes add datetime timestamp with time zone default now();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>166</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acprelacionamentodecomponentes ADD ipaddress inet;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>167</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acprelacionamentodecomponentes INHERIT baslog;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>168</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

        ALTER TABLE acptipocomponentecurricular add username varchar(20) default "current_user"();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>169</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acptipocomponentecurricular add datetime timestamp with time zone default now();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>170</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acptipocomponentecurricular ADD ipaddress inet;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>171</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acptipocomponentecurricular INHERIT baslog;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>172</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

        ALTER TABLE acptipodocumento add username varchar(20) default "current_user"();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>173</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acptipodocumento add datetime timestamp with time zone default now();]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>174</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acptipodocumento ADD ipaddress inet;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>175</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE acptipodocumento INHERIT baslog;]]>
             </change>
             <applicationversion>31177</applicationversion>
             <orderchange>176</orderchange>
        </item>
    <item>
        <change>
        <![CDATA[
        alter table public.acpcomponentedeavaliacao add habilitacor boolean default true;
        comment on column public.acpcomponentedeavaliacao.habilitacor IS 'Habilita a exibição de cores nas notas/conceitos dependendo do status (APROVADO, REPROVADO) no registro de notas.';
        alter table public.acpcomponentedeavaliacao add coraprovado varchar(255) default 'lightgreen';
        alter table public.acpcomponentedeavaliacao add correprovado varchar(255) default 'red';
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>51</orderchange>
    </item> 
    <item>
        <change>
        <![CDATA[
        ALTER TABLE acpmatricula add estadodematriculaid int;
        ALTER TABLE acpmatricula add conceitofinal varchar(2);
        ALTER TABLE acpmatricula add conceitofinal varchar(2);
        ALTER TABLE acpmatricula add faltas int;
        ALTER TABLE acpmatricula add notafinal numeric(7,4);
        ALTER TABLE acpmatricula add parecerfinal text;
        ALTER TABLE basphysicalpersonstudent add obs text;
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>52</orderchange>
    </item> 
    <item>
        <change>
        <![CDATA[
        alter table basreport add fileid int references basfile(fileid);
        comment on column basreport.fileid is 'Arquivo JasperReport de template que deve ser utilizado para exportacao PDF (caso nao seja informado, sera utilizado os padroes relatorio_generico_retrato.jrxml ou relatorio_generico_paisagem.jrxml)';
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>53</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE acpocorrenciacurso ADD CONSTRAINT acpocorrenciacurso_cursoid FOREIGN KEY (cursoid) REFERENCES acpcurso(cursoid);    
        ALTER TABLE acpHorarioOfertaComponenteCurricular ADD CONSTRAINT acpHorarioOfertaComponenteCurricular_horarioid FOREIGN KEY (horarioid) REFERENCES acphorario (horarioid);
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>54</orderchange>
    </item> 
    <item>
        <change>
        <![CDATA[
        CREATE SEQUENCE numero_de_registro;
        ALTER TABLE basdocumentogerado ADD COLUMN numeroregistro INTEGER;
        ]]> 
        </change>
    <applicationversion>31101</applicationversion>
    <orderchange>1</orderchange>
    </item>      
    <item>
        <change>
        <![CDATA[
        ALTER TABLE finfluxoaprovacaoprocesso ADD COLUMN metodododiff VARCHAR(255);
        ]]> 
        </change>
    <applicationversion>31101</applicationversion>
    <orderchange>1</orderchange>
    </item> 
    <item>
        <change>
        <![CDATA[
            CREATE TABLE fincielostatus (
                    cielostatusid integer not null,
                    description varchar(20) not null,
                    constraint pk_fincielostatus primary key (cielostatusid)
            ) INHERITS(baslog);
        ]]> 
        </change>
        <applicationversion>31101</applicationversion>
        <orderchange>1</orderchange>
    </item> 
    <item>
        <change>
        <![CDATA[
            INSERT INTO fincielostatus (cielostatusid, description) VALUES (0, 'Criado');
            INSERT INTO fincielostatus (cielostatusid, description) VALUES (1, 'Em andamento');
            INSERT INTO fincielostatus (cielostatusid, description) VALUES (2, 'Autenticado');
            INSERT INTO fincielostatus (cielostatusid, description) VALUES (3, 'Não autenticado');
            INSERT INTO fincielostatus (cielostatusid, description) VALUES (4, 'Autorizado');
            INSERT INTO fincielostatus (cielostatusid, description) VALUES (5, 'Não autorizado');
            INSERT INTO fincielostatus (cielostatusid, description) VALUES (6, 'Capturado');
            INSERT INTO fincielostatus (cielostatusid, description) VALUES (8, 'Não capturado');
            INSERT INTO fincielostatus (cielostatusid, description) VALUES (9, 'Cancelado');
            INSERT INTO fincielostatus (cielostatusid, description) VALUES (10, 'Em autenticação');
        ]]> 
        </change>
        <applicationversion>31101</applicationversion>
        <orderchange>2</orderchange>
    </item> 
    <item>
        <change>
        <![CDATA[
            CREATE TABLE fincielotransaction (
                    cielotransactionid serial not null,
                    tid varchar not null,
                    datetransaction timestamp not null default now(),
                    cielostatusid integer not null,
                    numero integer,
                    valor bigint,
                    bandeira varchar(20),
                    xml text,
                    constraint pk_fincielotransaction primary key (cielotransactionid),
                    constraint fk_fincielotransaction_fincielostatus foreign key (cielostatusid) references fincielostatus
            ) INHERITS(baslog);
        ]]> 
        </change>
        <applicationversion>31101</applicationversion>
        <orderchange>3</orderchange>
    </item> 
    <item>
        <change>
        <![CDATA[
            CREATE TABLE fincielomovement (
                    tid varchar not null,
                    countermovementid integer not null,
                    constraint pk_fincielomovement primary key (tid, countermovementid),
                    constraint fk_fincielomovement foreign key (countermovementid) references fincountermovement
            ) INHERITS(baslog);
        ]]> 
        </change>
        <applicationversion>31101</applicationversion>
        <orderchange>4</orderchange>
    </item> 
    <item>
        <change>
        <![CDATA[
ALTER TABLE acpInscricao ADD COLUMN precoCursoId int4;
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>166</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
ALTER TABLE acpInscricao ADD CONSTRAINT FKacpInscric944552 FOREIGN KEY (precoCursoId) REFERENCES prcPrecoCurso (precoCursoId);
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>166</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
ALTER TABLE acpInscricao ADD COLUMN DiaVencimento int4;
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>166</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
ALTER TABLE acpInscricao alter COLUMN DiaVencimento set not null;
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>167</orderchange>
    </item>    
    <item>
        <change>
        <![CDATA[
        CREATE or REPLACE RULE MovimentoMatricula_INS AS ON INSERT TO acpMatricula DO INSERT INTO acpMovimentoMatricula(dataMovimento,usuario,evento,situacao,dataMatricula,matriculaId, ofertaComponenteCurricularId,personId,inscricaoId,faltas,conceitofinal,notafinal,parecerfinal,estadodematriculaid) values (current_timestamp,current_user,'INS',NEW.situacao,NEW.dataMatricula,NEW.matriculaId,NEW.ofertaComponenteCurricularId,NEW.personId,NEW.inscricaoId,NEW.faltas,NEW.conceitofinal,NEW.notafinal,NEW.parecerfinal,NEW.estadodematriculaid);

        CREATE or REPLACE RULE MovimentoMatricula_UPD AS ON UPDATE TO acpMatricula DO INSERT INTO acpMovimentoMatricula(dataMovimento,usuario,evento,situacao,dataMatricula,matriculaId, ofertaComponenteCurricularId,personId,inscricaoId,faltas,conceitofinal,notafinal,parecerfinal,estadodematriculaid) values (current_timestamp,current_user,'UPD',NEW.situacao,NEW.dataMatricula,NEW.matriculaId,NEW.ofertaComponenteCurricularId,NEW.personId,NEW.inscricaoId,NEW.faltas,NEW.conceitofinal,NEW.notafinal,NEW.parecerfinal,NEW.estadodematriculaid);

        CREATE or REPLACE RULE MovimentoMatricula_DEL AS ON DELETE TO acpMatricula DO INSERT INTO acpMovimentoMatricula(dataMovimento,usuario,evento,situacao,dataMatricula,matriculaId, ofertaComponenteCurricularId,personId,inscricaoId,faltas,conceitofinal,notafinal,parecerfinal,estadodematriculaid) values (current_timestamp,current_user,'DEL',OLD.situacao,OLD.dataMatricula,OLD.matriculaId,OLD.ofertaComponenteCurricularId,OLD.personId,OLD.inscricaoId,OLD.faltas,OLD.conceitofinal,OLD.notafinal,OLD.parecerfinal,OLD.estadodematriculaid);;

        CREATE or REPLACE RULE MovimentoInscricao_INS AS ON INSERT TO acpInscricao DO INSERT INTO acpMovimentoInscricao(dataMovimento,usuario,evento,situacao,inscricaoID,dataSituacao,personId,ofertaTurmaId) values (current_timestamp,current_user,'INS',NEW.situacao,NEW.inscricaoID,NEW.dataSituacao,NEW.personId,NEW.ofertaTurmaId);

        CREATE or REPLACE RULE MovimentoInscricao_UPD AS ON UPDATE TO acpInscricao DO INSERT INTO acpMovimentoInscricao(dataMovimento,usuario,evento,situacao,inscricaoID,dataSituacao,personId,ofertaTurmaId) values (current_timestamp,current_user,'UPD',NEW.situacao,NEW.inscricaoID,NEW.dataSituacao,NEW.personId,NEW.ofertaTurmaId);

        CREATE or REPLACE RULE MovimentoInscricao_DEL AS ON DELETE TO acpInscricao DO INSERT INTO acpMovimentoInscricao(dataMovimento,usuario,evento,situacao,inscricaoID,dataSituacao,personId,ofertaTurmaId) values (current_timestamp,current_user,'DEL',OLD.situacao,OLD.inscricaoID,OLD.dataSituacao,OLD.personId,OLD.ofertaTurmaId);

        CREATE or REPLACE RULE MovimentoPrecoCurso_INS AS ON INSERT TO prcPrecoCurso DO INSERT INTO prcMovimentoPrecoCurso
         (ofertacursoid, ocorrenciacursoid, ofertaturmaid, policyid, operationid, bankaccountid, costcenterid, valor, formadecalculo, numeroparcelas, diasvencimentoentrada, validadevalor,  usuario, datamovimento, evento) values (NEW.ofertacursoid, NEW.ocorrenciacursoid, NEW.ofertaturmaid, NEW.policyid, NEW.operationid, NEW.bankaccountid, NEW.costcenterid, NEW.valor, NEW.formadecalculo, NEW.numeroparcelas, NEW.diasvencimentoentrada, NEW.validadevalor,  current_user,current_timestamp,'INS');

        CREATE or REPLACE RULE MovimentoPrecoCurso_UPD AS ON UPDATE TO prcPrecoCurso DO INSERT INTO prcMovimentoPrecoCurso
         (ofertacursoid, ocorrenciacursoid, ofertaturmaid, policyid, operationid, bankaccountid, costcenterid, valor, formadecalculo, numeroparcelas, diasvencimentoentrada, validadevalor,  usuario, datamovimento, evento) values (NEW.ofertacursoid, NEW.ocorrenciacursoid, NEW.ofertaturmaid, NEW.policyid, NEW.operationid, NEW.bankaccountid, NEW.costcenterid, NEW.valor, NEW.formadecalculo, NEW.numeroparcelas, NEW.diasvencimentoentrada, NEW.validadevalor,  current_user,current_timestamp,'UPD');

        CREATE or REPLACE RULE MovimentoPrecoCurso_DEL AS ON DELETE TO prcPrecoCurso DO INSERT INTO prcMovimentoPrecoCurso
         (ofertacursoid, ocorrenciacursoid, ofertaturmaid, policyid, operationid, bankaccountid, costcenterid, valor, formadecalculo, numeroparcelas, diasvencimentoentrada, validadevalor,  usuario, datamovimento, evento) values (OLD.ofertacursoid, OLD.ocorrenciacursoid, OLD.ofertaturmaid, OLD.policyid, OLD.operationid, OLD.bankaccountid, OLD.costcenterid, OLD.valor, OLD.formadecalculo, OLD.numeroparcelas, OLD.diasvencimentoentrada, OLD.validadevalor,  current_user,current_timestamp,'DEL');
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>167</orderchange>
    </item> 

    <item>
        <change>
        <![CDATA[
ALTER TABLE acpavaliacao DROP COLUMN parecer ;
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>170</orderchange>
    </item> 

    <item>
        <change>
        <![CDATA[
ALTER TABLE acpfrequencia add COLUMN frequencia_ char;
ALTER TABLE acpfrequencia drop COLUMN frequencia cascade;
ALTER TABLE acpfrequencia rename COLUMN frequencia_ to frequencia;
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>171</orderchange>
    </item> 

    <item>
        <change>
        <![CDATA[
ALTER TABLE acpComponenteCurricular ADD COLUMN NumeroDeAulas int4;
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>172</orderchange>
    </item> 

    <item>
        <change>
        <![CDATA[
alter TABLE acpofertacomponentecurricular ALTER COLUMN ofertaturmaid set not null;
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>173</orderchange>
    </item> 

    <item>
        <change>
        <![CDATA[
ALTER TABLE acpOcorrenciaCurso ALTER COLUMN turnId set not null;
ALTER TABLE acpOcorrenciaCurso ALTER COLUMN unitid set not null;
ALTER TABLE acpOcorrenciaCurso ALTER COLUMN cursoid set not null;
ALTER TABLE acpCurso ALTER COLUMN perfilCursoid set not null;
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>174</orderchange>
    </item> 

    <item>
        <change>
        <![CDATA[
ALTER TABLE acpoferta ALTER COLUMN ocorrenciacursoid set not null;
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>175</orderchange>
    </item> 

    <item>
        <change>
        <![CDATA[
ALTER TABLE acpFrequencia DROP COLUMN cancelada;
ALTER TABLE acpFrequencia DROP COLUMN motivo_cancelamento;
ALTER TABLE acpFrequencia DROP COLUMN dataaula;
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>176</orderchange>
    </item> 

    <item>
        <change>
        <![CDATA[
ALTER TABLE acpcoordenadores ALTER COLUMN ocorrenciacursoid DROP not null;
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>177</orderchange>
    </item> 

    <item>
        <change>
        <![CDATA[
ALTER TABLE acpconceitosdeavaliacao ALTER COLUMN resultado type varchar(2);
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>178</orderchange>
    </item> 

    <item>
        <change>
        <![CDATA[
ALTER TABLE basphysicalpersonstudent add obs text;
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>179</orderchange>
    </item> 

    <item>
        <change>
        <![CDATA[
ALTER TABLE acpCoordenadores DROP COLUMN CursoId;
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>180</orderchange>
    </item> 

    <item>
        <change>
        <![CDATA[
ALTER TABLE acpCoordenadores ALTER COLUMN ocorrenciaCursoId SET NOT NULL ;
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>181</orderchange>
    </item> 

    <item>
        <change>
        <![CDATA[
ALTER TABLE acpCoordenadores ALTER COLUMN personId SET NOT NULL ;
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>182</orderchange>
    </item> 

    <item>
        <change>
        <![CDATA[
ALTER TABLE acpInscricao ADD COLUMN precoCursoId int4;
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>183</orderchange>
    </item> 

    <item>
        <change>
        <![CDATA[
ALTER TABLE acpInscricao ADD CONSTRAINT FKacpInscric944552 FOREIGN KEY (precoCursoId) REFERENCES prcPrecoCurso (precoCursoId);
        ]]> 
        </change>
    <applicationversion>31107</applicationversion>
    <orderchange>184</orderchange>
    </item> 
    <item>
        <change>
        <![CDATA[
	ALTER TABLE acptipocomponentecurricular DROP COLUMN tipocomponentecurricularid;
        ]]> 
        </change>
    <applicationversion>31108</applicationversion>
    <orderchange>1</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE acptipocomponentecurricular RENAME COLUMN componentecurricularid to tipocomponentecurricularid;
        ]]> 
        </change>
    <applicationversion>31108</applicationversion>
    <orderchange>2</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE acpperfilcursocomponentecurricular DROP COLUMN tipocomponentecurricularid;
        ALTER TABLE acpperfilcursocomponentecurricular RENAME COLUMN componentecurricularid to tipocomponentecurricularid;
        ]]> 
        </change>
    <applicationversion>31108</applicationversion>
    <orderchange>3</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE acpComponenteCurricular ADD COLUMN tipocomponenteCurricularId int;        
        ]]> 
        </change>
    <applicationversion>31111</applicationversion>
    <orderchange>1</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE acpComponenteCurricular ADD CONSTRAINT acpTipoComponenteCurricular_tipoComponenteCurricularId_pk FOREIGN KEY (tipocomponenteCurricularId) REFERENCES acpTipoComponenteCurricular (tipocomponenteCurricularId);
        ]]> 
        </change>
    <applicationversion>31111</applicationversion>
    <orderchange>2</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        UPDATE acpComponenteCurricular SET tipocomponenteCurricularId = (SELECT tipocomponenteCurricularId FROM acpTipoComponenteCurricular WHERE tipo = acpComponenteCurricular.tipo  LIMIT 1);
        ]]> 
        </change>
    <applicationversion>31111</applicationversion>
    <orderchange>3</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE acpComponenteCurricular DROP COLUMN tipo;
        ]]> 
        </change>
    <applicationversion>31111</applicationversion>
    <orderchange>4</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE acpComponenteCurricular ALTER COLUMN tipocomponenteCurricularId SET NOT NULL;
        ]]> 
        </change>
    <applicationversion>31111</applicationversion>
    <orderchange>5</orderchange>
    </item>
    <item>
        <change>
        <![CDATA[
        ALTER TABLE acpPerfilCursoComponenteCurricular RENAME COLUMN pcccid TO perfilCursoComponenteCurricularId;
        ]]> 
        </change>
    <applicationversion>31112</applicationversion>
    <orderchange>1</orderchange>
    </item>
   <item>
            <change>
                <![CDATA[
                    CREATE TABLE acpHorario (
  horarioId          SERIAL NOT NULL, 
  gradeHorarioId    int4, 
  horaInicio        time(7) NOT NULL, 
  horaFim           time(7) NOT NULL, 
  minutosFrequencia int4, 
  DiaSemana         int4 NOT NULL, 
  CONSTRAINT acpHorario_horarioId 
    PRIMARY KEY (horarioId));

                ]]> 
            </change>
        <applicationversion>31112</applicationversion>
        <orderchange>10</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE acpConceitosDeAvaliacao   ADD COLUMN Ima int4 NOT NULL;

                ]]> 
            </change>
        <applicationversion>31112</applicationversion>
        <orderchange>11</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE acpPerfilCursoComponenteCurricular   ADD COLUMN tipocomponenteCurricularId int4;

                ]]> 
            </change>
        <applicationversion>31112</applicationversion>
        <orderchange>12</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE acpPerfilCurso   alter column cadastroCoordenadores set default 't';

                ]]> 
            </change>
        <applicationversion>31112</applicationversion>
        <orderchange>13</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE acpTipoComponenteCurricular   ADD COLUMN tipocomponenteCurricularId int4 NOT NULL;

                ]]> 
            </change>
        <applicationversion>31112</applicationversion>
        <orderchange>14</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE acpModeloDeAvaliacao   ADD COLUMN estadoDeMatriculaAprovacaoId int4;

                ]]> 
            </change>
        <applicationversion>31112</applicationversion>
        <orderchange>15</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE acpModeloDeAvaliacao   ADD COLUMN estadoDeMatriculaReprovacaoRecuperacaoId int4;

                ]]> 
            </change>
        <applicationversion>31112</applicationversion>
        <orderchange>16</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE acpComponenteCurricular   ADD COLUMN tipocomponenteCurricularId int4;

                ]]> 
            </change>
        <applicationversion>31112</applicationversion>
        <orderchange>17</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE acpComponenteCurricular   ADD COLUMN componenteCurricularBibliografiaId int4;

                ]]> 
            </change>
        <applicationversion>31112</applicationversion>
        <orderchange>18</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE acpMatrizCurricular   ADD COLUMN componenteCurricularId int4;

                ]]> 
            </change>
        <applicationversion>31112</applicationversion>
        <orderchange>19</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE acpMatricula   ADD COLUMN estadoDeMatriculaId int4;

                ]]> 
            </change>
        <applicationversion>31112</applicationversion>
        <orderchange>20</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE acpMatricula   ADD COLUMN ConceitoFinal char(1);

                ]]> 
            </change>
        <applicationversion>31112</applicationversion>
        <orderchange>21</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE acpMatricula   ADD COLUMN Faltas numeric(10, 2);

                ]]> 
            </change>
        <applicationversion>31112</applicationversion>
        <orderchange>22</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE acpMovimentoMatricula   ADD COLUMN ConceitoFinal char(1);

                ]]> 
            </change>
        <applicationversion>31112</applicationversion>
        <orderchange>23</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE acpMovimentoMatricula   ADD COLUMN Faltas numeric(10, 2);

                ]]> 
            </change>
        <applicationversion>31112</applicationversion>
        <orderchange>24</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE acpOcorrenciaHorarioOferta   ADD COLUMN horarioId int4;

                ]]> 
            </change>
        <applicationversion>31112</applicationversion>
        <orderchange>25</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE acpFrequencia   ADD COLUMN ocorrenciahorarioofertaId int4;

                ]]> 
            </change>
        <applicationversion>31112</applicationversion>
        <orderchange>26</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    
ALTER TABLE acpPerfilCursoComponenteCurricular ADD CONSTRAINT acpPerfilCursoComponenteCurricular_tipocomponenteCurricularId_pk FOREIGN KEY (tipocomponenteCurricularId) REFERENCES acpTipoComponenteCurricular (tipocomponenteCurricularId);

                ]]> 
            </change>
        <applicationversion>31112</applicationversion>
        <orderchange>27</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE acpModeloDeAvaliacao ADD CONSTRAINT acpRecuperacao_estadoDeMatriculaId_pk FOREIGN KEY (estadoDeMatriculaAprovacaoRecuperacaoId) REFERENCES acpEstadoDeMatricula (estadoDeMatriculaId);

                ]]> 
            </change>
        <applicationversion>31112</applicationversion>
        <orderchange>28</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE acpModeloDeAvaliacao ADD CONSTRAINT acpModeloDeAvaliacao_estadoDeMatriculaId_pk FOREIGN KEY (estadoDeMatriculaAprovacaoId) REFERENCES acpEstadoDeMatricula (estadoDeMatriculaId);

                ]]> 
            </change>
        <applicationversion>31112</applicationversion>
        <orderchange>29</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE acpComponenteCurricular ADD CONSTRAINT acpComponenteCurricularTrabalhoConclusao_componenteCurricularId_pk FOREIGN KEY (componenteCurricularTrabalhoConclusaoId) REFERENCES acpComponenteCurricularTrabalhoConclusao (componenteCurricularTrabalhoConclusaoId);

                ]]> 
            </change>
        <applicationversion>31112</applicationversion>
        <orderchange>30</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE acpHorarioOfertaComponenteCurricular ADD CONSTRAINT FKacpHorario445584 FOREIGN KEY (horarioId) REFERENCES acpHorario (horarioId);

                ]]> 
            </change>
        <applicationversion>31112</applicationversion>
        <orderchange>31</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE prcTituloInscricao ADD CONSTRAINT FKprcTituloI869621 FOREIGN KEY (invoiceId) REFERENCES finReceivableInvoice (invoiceId);

                ]]> 
            </change>
        <applicationversion>31112</applicationversion>
        <orderchange>32</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE acpAvaliacao ADD CONSTRAINT FKacpAvaliac217921 FOREIGN KEY (matriculaId) REFERENCES acpMatricula (matriculaId);

                ]]> 
            </change>
        <applicationversion>31112</applicationversion>
        <orderchange>33</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE acpCoordenadores ADD CONSTRAINT FKacpCoorden408430 FOREIGN KEY (cursoId) REFERENCES acpCurso (cursoId);

                ]]> 
            </change>
        <applicationversion>31112</applicationversion>
        <orderchange>34</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE acpCalendarioAcademicoEvento ADD CONSTRAINT FKacpCalenda688019 FOREIGN KEY (calendarioAcademicoId) REFERENCES acpCalendarioAcademico (calendarioAcademicoId);

                ]]> 
            </change>
        <applicationversion>31112</applicationversion>
        <orderchange>35</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE acpFrequencia ADD CONSTRAINT FKacpFrequen748574 FOREIGN KEY (matriculaId) REFERENCES acpMatricula (matriculaId);

                ]]> 
            </change>
        <applicationversion>31112</applicationversion>
        <orderchange>36</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE acpOcorrenciaHorarioOferta ADD CONSTRAINT FKacpOcorren331931 FOREIGN KEY (horarioId) REFERENCES acpHorario (horarioId);

                ]]> 
            </change>
        <applicationversion>31112</applicationversion>
        <orderchange>37</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE acpCursoDocente ADD CONSTRAINT FKacpCursoDo726136 FOREIGN KEY (acpCursocursoId) REFERENCES acpCurso (cursoId);

                ]]> 
            </change>
        <applicationversion>31112</applicationversion>
        <orderchange>38</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    CREATE TABLE prcFormaDePagamento (
  formaDePagamentoId  SERIAL NOT NULL, 
  operationId        int4 NOT NULL, 
  descricao          varchar(255) NOT NULL, 
  PRIMARY KEY (formaDePagamentoId));

                ]]> 
            </change>
        <applicationversion>31113</applicationversion>
        <orderchange>1</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                CREATE TABLE prcCondicaoDePagamento (
                      condicaoDePagamentoId  SERIAL NOT NULL, 
  formaDePagamentoId    int4 NOT NULL, 
  descricao             varchar(255) NOT NULL, 
  juro                  numeric(6, 2), 
  desconto              numeric(6, 2), 
  juroPercentual        bool NOT NULL, 
  descontoPercentual    bool NOT NULL, 
  exigeEntrada          bool NOT NULL, 
  numeroDeParcelas      int4 NOT NULL, 
  PRIMARY KEY (condicaoDePagamentoId));

                ]]> 
            </change>
        <applicationversion>31113</applicationversion>
        <orderchange>2</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                CREATE TABLE prcFormaDePagamentoDoPreco (
                      formaDePagamentoDoPrecoId  SERIAL NOT NULL, 
  precoCursoId              int4 NOT NULL, 
  formaDePagamentoId        int4 NOT NULL, 
  PRIMARY KEY (formaDePagamentoDoPrecoId));

                ]]> 
            </change>
        <applicationversion>31113</applicationversion>
        <orderchange>3</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE acpModeloDeAvaliacao   ADD COLUMN estadoDeMatriculaReprovacaoId int4;

                ]]> 
            </change>
        <applicationversion>31113</applicationversion>
        <orderchange>4</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE acpCoordenadores   ADD COLUMN cursoId int4;

                ]]> 
            </change>
        <applicationversion>31113</applicationversion>
        <orderchange>5</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE prcPrecoCurso   ADD COLUMN dataInicial date NOT NULL;
                    
                ]]> 
            </change>
        <applicationversion>31113</applicationversion>
        <orderchange>6</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE prcTituloInscricao   ADD COLUMN formaDePagamentoDoPrecoId int4;

                ]]> 
            </change>
        <applicationversion>31113</applicationversion>
        <orderchange>7</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE acpModeloDeAvaliacao ADD CONSTRAINT acpRecuperacao_estadoDeMatriculaId_pk FOREIGN KEY (estadoDeMatriculaAprovacaoRecuperacaoId) REFERENCES acpEstadoDeMatricula (estadoDeMatriculaId);

                ]]> 
            </change>
        <applicationversion>31113</applicationversion>
        <orderchange>8</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE acpComponenteCurricularTrabalhoConclusao ADD CONSTRAINT acpComponenteCurricularTrabalhoConclusao_componenteCurricularId_pk FOREIGN KEY (componenteCurricularId) REFERENCES acpComponenteCurricular (componenteCurricularId);

                ]]> 
            </change>
        <applicationversion>31113</applicationversion>
        <orderchange>9</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE acpFrequencia ADD CONSTRAINT FKacpFrequen805871 FOREIGN KEY (ocorrenciahorarioofertaId) REFERENCES acpOcorrenciaHorarioOferta (OcorrenciaHorarioOfertaId);

                ]]> 
            </change>
        <applicationversion>31113</applicationversion>
        <orderchange>10</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE prcFormaDePagamentoDoPreco ADD CONSTRAINT FKprcFormaDe90102 FOREIGN KEY (formaDePagamentoId) REFERENCES prcFormaDePagamento (formaDePagamentoId);

                ]]> 
            </change>
        <applicationversion>31113</applicationversion>
        <orderchange>11</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE prcFormaDePagamento ADD CONSTRAINT FKprcFormaDe449144 FOREIGN KEY (operationId) REFERENCES finOperation (operationId);

                ]]> 
            </change>
        <applicationversion>31113</applicationversion>
        <orderchange>12</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE prcPrecoCurso ADD CONSTRAINT FKprcPrecoCu764932 FOREIGN KEY (formaDePagamentoId) REFERENCES prcFormaDePagamento (formaDePagamentoId);

                ]]> 
            </change>
        <applicationversion>31113</applicationversion>
        <orderchange>13</orderchange>
        </item>        
        <item>
            <change>
                <![CDATA[
                    CREATE TABLE temp_bank_movement(
                        tempBankMovementId SERIAL PRIMARY KEY,
                        invoiceId INT,
                        fileDiscount NUMERIC,
                        fileInterestFine NUMERIC,
                        otherDiscounts NUMERIC,
                        otherAdditions NUMERIC,
                        expenditure NUMERIC,
                        value NUMERIC,
                        valuePaid NUMERIC,
                        ourNumber VARCHAR(255),
                        branch VARCHAR(255),
                        branchNumber VARCHAR(255),
                        wallet VARCHAR(255),
                        occurrenceDate VARCHAR(255),
                        creditDate VARCHAR(255),
                        fileMaturityDate VARCHAR(255),
                        bankId INT,
                        fileId INT,
                        occurrence VARCHAR(255),
                        bankReturnId INT,
                        discountValue NUMERIC,
                        convenantValue NUMERIC,
                        interestValue NUMERIC,
                        fineValue NUMERIC,
                        balance NUMERIC,
                        balanceWithPolicies NUMERIC,
                        statusId INT
                    ) INHERITS (baslog);
                    CREATE INDEX idx_temp_bank_movement ON temp_bank_movement(invoiceid);
                ]]> 
            </change>
        <applicationversion>31113</applicationversion>
        <orderchange>1</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                    ALTER TABLE prcFormaDePagamento ADD COLUMN speciesid INT NOT NULL;
                    ALTER TABLE prcFormaDePagamento ADD CONSTRAINT FKprcFormaDe319159 FOREIGN KEY (speciesid) REFERENCES finSpecies (speciesid);
                ]]> 
            </change>
        <applicationversion>31113</applicationversion>
        <orderchange>14</orderchange>
        </item>

        <item>
            <change>
                <![CDATA[
                    ALTER TABLE prcCondicaoDePagamento add username varchar(20) default "current_user"();
                    ALTER TABLE prcCondicaoDePagamento add datetime timestamp with time zone default now();
                    ALTER TABLE prcCondicaoDePagamento ADD ipaddress inet;
                    ALTER TABLE prcCondicaoDePagamento INHERIT baslog;

                    ALTER TABLE prcFormaDePagamento add username varchar(20) default "current_user"();
                    ALTER TABLE prcFormaDePagamento add datetime timestamp with time zone default now();
                    ALTER TABLE prcFormaDePagamento ADD ipaddress inet;
                    ALTER TABLE prcFormaDePagamento INHERIT baslog;
                    
                    ALTER TABLE prcFormaDePagamentoDoPreco add username varchar(20) default "current_user"();
                    ALTER TABLE prcFormaDePagamentoDoPreco add datetime timestamp with time zone default now();
                    ALTER TABLE prcFormaDePagamentoDoPreco ADD ipaddress inet;
                    ALTER TABLE prcFormaDePagamentoDoPreco INHERIT baslog;
                ]]> 
            </change>
        <applicationversion>31113</applicationversion>
        <orderchange>15</orderchange>
        </item>        
        <item>
            <change>
                <![CDATA[
                    ALTER TABLE prcprecocurso add username varchar(20) default "current_user"();
                    ALTER TABLE prcprecocurso add datetime timestamp with time zone default now();
                    ALTER TABLE prcprecocurso ADD ipaddress inet;
                    ALTER TABLE prcprecocurso INHERIT baslog;

                    ALTER TABLE prctituloinscricao add username varchar(20) default "current_user"();
                    ALTER TABLE prctituloinscricao add datetime timestamp with time zone default now();
                    ALTER TABLE prctituloinscricao ADD ipaddress inet;
                    ALTER TABLE prctituloinscricao INHERIT baslog;
                ]]> 
            </change>
        <applicationversion>31113</applicationversion>
        <orderchange>16</orderchange>
        </item>    
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE acpPerfilCursoComponenteCurricular ADD CONSTRAINT acpPerfilCursoComponenteCurricular_tipocomponenteCurricularId_pk FOREIGN KEY (tipocomponenteCurricularId) REFERENCES acpTipoComponenteCurricular (tipocomponenteCurricularId);

                ]]> 
            </change>
        <applicationversion>31114</applicationversion>
        <orderchange>1</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE acpModeloDeAvaliacao ADD CONSTRAINT acpRecuperacao_estadoDeMatriculaId_pk FOREIGN KEY (estadoDeMatriculaAprovacaoRecuperacaoId) REFERENCES acpEstadoDeMatricula (estadoDeMatriculaId);

                ]]> 
            </change>
        <applicationversion>31114</applicationversion>
        <orderchange>2</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE acpComponenteCurricularTrabalhoConclusao ADD CONSTRAINT acpComponenteCurricularTrabalhoConclusao_componenteCurricularId_pk FOREIGN KEY (componenteCurricularId) REFERENCES acpComponenteCurricular (componenteCurricularId);

                ]]> 
            </change>
        <applicationversion>31114</applicationversion>
        <orderchange>3</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE prcCondicaoDePagamento ADD CONSTRAINT FKprcCondica512676 FOREIGN KEY (formaDePagamentoId) REFERENCES prcFormaDePagamento (formaDePagamentoId);

                ]]> 
            </change>
        <applicationversion>31114</applicationversion>
        <orderchange>4</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE prcTituloInscricao ADD CONSTRAINT FKprcTituloI766481 FOREIGN KEY (formaDePagamentoDoPrecoId) REFERENCES prcFormaDePagamentoDoPreco (formaDePagamentoDoPrecoId);

                ]]> 
            </change>
        <applicationversion>31114</applicationversion>
        <orderchange>5</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE prcFormaDePagamentoDoPreco ADD CONSTRAINT FKprcFormaDe807953 FOREIGN KEY (precoCursoId) REFERENCES prcPrecoCurso (precoCursoId);

                ]]> 
            </change>
        <applicationversion>31114</applicationversion>
        <orderchange>6</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE prcPrecoCurso ADD CONSTRAINT FKprcPrecoCu935868 FOREIGN KEY (prcFormaDePagamentoformaDePagamentoId) REFERENCES prcFormaDePagamento (formaDePagamentoId);

                ]]> 
            </change>
        <applicationversion>31114</applicationversion>
        <orderchange>7</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE prcprecocurso DROP COLUMN numeroparcelas cascade;

                ]]> 
            </change>
        <applicationversion>31114</applicationversion>
        <orderchange>8</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE prcmovimentoprecocurso DROP COLUMN numeroparcelas cascade;

                ]]> 
            </change>
        <applicationversion>31114</applicationversion>
        <orderchange>9</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    CREATE or REPLACE RULE MovimentoPrecoCurso_INS AS ON INSERT TO prcPrecoCurso DO INSERT INTO prcMovimentoPrecoCurso
 (ofertacursoid, ocorrenciacursoid, ofertaturmaid, policyid, operationid, bankaccountid, costcenterid, valor, formadecalculo, diasvencimentoentrada, diavencimentoparcelas, validadevalor,  usuario, datamovimento, evento) values (NEW.ofertacursoid, NEW.ocorrenciacursoid, NEW.ofertaturmaid, NEW.policyid, NEW.operationid, NEW.bankaccountid, NEW.costcenterid, NEW.valor, NEW.formadecalculo, NEW.diasvencimentoentrada, NEW.diavencimentoparcelas, NEW.validadevalor,  current_user,current_timestamp,'INS');

                ]]> 
            </change>
        <applicationversion>31114</applicationversion>
        <orderchange>10</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    CREATE or REPLACE RULE MovimentoPrecoCurso_UPD AS ON UPDATE TO prcPrecoCurso DO INSERT INTO prcMovimentoPrecoCurso
 (ofertacursoid, ocorrenciacursoid, ofertaturmaid, policyid, operationid, bankaccountid, costcenterid, valor, formadecalculo, diasvencimentoentrada, diavencimentoparcelas, validadevalor,  usuario, datamovimento, evento) values (NEW.ofertacursoid, NEW.ocorrenciacursoid, NEW.ofertaturmaid, NEW.policyid, NEW.operationid, NEW.bankaccountid, NEW.costcenterid, NEW.valor, NEW.formadecalculo, NEW.diasvencimentoentrada, NEW.diavencimentoparcelas, NEW.validadevalor,  current_user,current_timestamp,'UPD');

                ]]> 
            </change>
        <applicationversion>31114</applicationversion>
        <orderchange>11</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    CREATE or REPLACE RULE MovimentoPrecoCurso_DEL AS ON DELETE TO prcPrecoCurso DO INSERT INTO prcMovimentoPrecoCurso
 (ofertacursoid, ocorrenciacursoid, ofertaturmaid, policyid, operationid, bankaccountid, costcenterid, valor, formadecalculo,  diasvencimentoentrada, diavencimentoparcelas, validadevalor,  usuario, datamovimento, evento) values (OLD.ofertacursoid, OLD.ocorrenciacursoid, OLD.ofertaturmaid, OLD.policyid, OLD.operationid, OLD.bankaccountid, OLD.costcenterid, OLD.valor, OLD.formadecalculo, OLD.diasvencimentoentrada, OLD.diavencimentoparcelas, OLD.validadevalor,  current_user,current_timestamp,'DEL');

                ]]> 
            </change>
        <applicationversion>31114</applicationversion>
        <orderchange>12</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                    CREATE TABLE temp_bank_movement(
                        tempBankMovementId SERIAL PRIMARY KEY,
                        invoiceId INT,
                        fileDiscount NUMERIC,
                        fileInterestFine NUMERIC,
                        otherDiscounts NUMERIC,
                        otherAdditions NUMERIC,
                        expenditure NUMERIC,
                        value NUMERIC,
                        valuePaid NUMERIC,
                        ourNumber VARCHAR(255),
                        branch VARCHAR(255),
                        branchNumber VARCHAR(255),
                        wallet VARCHAR(255),
                        occurrenceDate VARCHAR(255),
                        creditDate VARCHAR(255),
                        fileMaturityDate VARCHAR(255),
                        bankId INT,
                        fileId INT,
                        occurrence VARCHAR(255),
                        bankReturnId INT,
                        discountValue NUMERIC,
                        convenantValue NUMERIC,
                        interestValue NUMERIC,
                        fineValue NUMERIC,
                        balance NUMERIC,
                        balanceWithPolicies NUMERIC,
                        statusId INT
                    ) INHERITS (baslog);
                    CREATE INDEX idx_temp_bank_movement ON temp_bank_movement(invoiceid);
                ]]> 
            </change>
        <applicationversion>31113</applicationversion>
        <orderchange>1</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                    CREATE TABLE temp_bank_movement_entries (
                        tempEntryId SERIAL PRIMARY KEY,
                        invoiceId INTEGER,
                        operationId INTEGER,
                        entryDate DATE,
                        value NUMERIC,
                        costCenterId VARCHAR(30),
                        comments TEXT,
                        bankReturnCode VARCHAR(50),
                        isAccounted BOOLEAN DEFAULT FALSE,
                        creationType CHAR(1) DEFAULT 'A'
                    ) INHERITS (baslog);
                    CREATE INDEX idx_temp_bank_movement_entries ON temp_bank_movement_entries(invoiceid);
                ]]> 
            </change>
        <applicationversion>31113</applicationversion>
        <orderchange>2</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                    CREATE INDEX idx_finbankinvoiceinfo_ournumber ON finbankinvoiceinfo(LTRIM(ournumber, '0'));
                ]]> 
            </change>
        <applicationversion>31113</applicationversion>
        <orderchange>3</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    CREATE TABLE prcPrecoCondicao (
                      precoCondicaoid        SERIAL NOT NULL, 
                      precoCursoId          int4, 
                      condicaoDePagamentoId int4, 
                      ValorTotal            numeric(16, 2), 
                      ValorParcela          numeric(16, 2), 
                      PRIMARY KEY (precoCondicaoid));
                ]]> 
            </change>
        <applicationversion>31115</applicationversion>
        <orderchange>1</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE prcPrecoCurso   ADD COLUMN dataFinal date;
                ]]> 
            </change>
        <applicationversion>31115</applicationversion>
        <orderchange>2</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE prcPrecoCurso ADD COLUMN ValorAprazo numeric(16, 2);
                ]]> 
            </change>
        <applicationversion>31115</applicationversion>
        <orderchange>3</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    ALTER TABLE prcPrecoCondicao ADD CONSTRAINT FKprcPrecoCo519816 FOREIGN KEY (condicaoDePagamentoId) REFERENCES prcCondicaoDePagamento (condicaoDePagamentoId);
                ]]> 
            </change>
        <applicationversion>31115</applicationversion>
        <orderchange>4</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    DROP TABLE prcformadepagamento cascade;
                ]]> 
            </change>
        <applicationversion>31115</applicationversion>
        <orderchange>5</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[                    
                    alter table prccondicaodepagamento drop column formadepagamentoid;
                ]]> 
            </change>
        <applicationversion>31115</applicationversion>
        <orderchange>6</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    alter table prccondicaodepagamento drop column desconto;
                ]]> 
            </change>
        <applicationversion>31115</applicationversion>
        <orderchange>7</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                    alter table prccondicaodepagamento drop column descontopercentual;
                ]]> 
            </change>
        <applicationversion>31115</applicationversion>
        <orderchange>8</orderchange>
        </item>
   <item>
            <change>
                <![CDATA[
                ALTER TABLE prcPrecoCurso   ADD COLUMN dataFinal date;
                ]]> 
            </change>
        <applicationversion>31115</applicationversion>
        <orderchange>9</orderchange>
        </item>
        
   <item>
            <change>
                <![CDATA[
                ALTER TABLE prcPrecoCurso   ADD COLUMN ValorAprazo numeric(16, 2) NOT NULL;
                ]]> 
            </change>
        <applicationversion>31115</applicationversion>
        <orderchange>10</orderchange>
        </item>
        
   <item>
            <change>
                <![CDATA[
                CREATE TABLE prcPrecoCondicao (
                  precoCondicaoid        SERIAL NOT NULL, 
                  precoCursoId          int4, 
                  condicaoDePagamentoId int4, 
                  ValorTotal            numeric(16, 2), 
                  ValorParcela          numeric(16, 2), 
                  PRIMARY KEY (precoCondicaoid));
                ]]> 
            </change>
        <applicationversion>31115</applicationversion>
        <orderchange>11</orderchange>
        </item>
        
   <item>
            <change>
                <![CDATA[
                ALTER TABLE prcPrecoCondicao ADD CONSTRAINT FKprcPrecoCo519816 FOREIGN KEY (condicaoDePagamentoId) REFERENCES prcCondicaoDePagamento (condicaoDePagamentoId);

                ]]> 
            </change>
        <applicationversion>31115</applicationversion>
        <orderchange>12</orderchange>
        </item>
        
   <item>
            <change>
                <![CDATA[
                ALTER TABLE prcPrecoCondicao ADD CONSTRAINT FKprcPrecoCo816343 FOREIGN KEY (precoCursoId) REFERENCES prcPrecoCurso (precoCursoId);
                ]]> 
            </change>
        <applicationversion>31115</applicationversion>
        <orderchange>13</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                ALTER TABLE acpModeloDeAvaliacao   ADD COLUMN estadoDeMatriculaAprovacaoRecuperacaoId int4;
                ]]> 
            </change>
        <applicationversion>31115</applicationversion>
        <orderchange>14</orderchange>
        </item>
        
        <item>
            <change>
                <![CDATA[
                ALTER TABLE prcTituloInscricao   ADD COLUMN precoCondicaoId int4;
                ]]> 
            </change>
        <applicationversion>31115</applicationversion>
        <orderchange>15</orderchange>
        </item>

        <item>
            <change>
                <![CDATA[
                ALTER TABLE prcTituloInscricao   ALTER COLUMN precoCondicaoId set NOT NULL;
                ]]> 
            </change>
        <applicationversion>31115</applicationversion>
        <orderchange>16</orderchange>
        </item>
        
        <item>
            <change>
                <![CDATA[
                ALTER TABLE acpPerfilCursoComponenteCurricular ADD CONSTRAINT acpPerfilCursoComponenteCurricular_tipocomponenteCurricularId_pk FOREIGN KEY (tipocomponenteCurricularId) REFERENCES acpTipoComponenteCurricular (tipocomponenteCurricularId);
                ]]> 
            </change>
        <applicationversion>31115</applicationversion>
        <orderchange>17</orderchange>
        </item>
        
        <item>
            <change>
                <![CDATA[
                ALTER TABLE acpModeloDeAvaliacao ADD CONSTRAINT acpRecuperacao_estadoDeMatriculaId_pk FOREIGN KEY (estadoDeMatriculaAprovacaoRecuperacaoId) REFERENCES acpEstadoDeMatricula (estadoDeMatriculaId);
                ]]> 
            </change>
        <applicationversion>31115</applicationversion>
        <orderchange>18</orderchange>
        </item>

        <item>
            <change>
                <![CDATA[
                ALTER TABLE acpComponenteCurricularTrabalhoConclusao ADD CONSTRAINT acpComponenteCurricularTrabalhoConclusao_componenteCurricularId_pk FOREIGN KEY (componenteCurricularId) REFERENCES acpComponenteCurricular (componenteCurricularId);
                ]]> 
            </change>
        <applicationversion>31115</applicationversion>
        <orderchange>19</orderchange>
        </item>
        
        <item>
            <change>
                <![CDATA[
                ALTER TABLE prcTituloInscricao ADD CONSTRAINT FKprcTituloI805756 FOREIGN KEY (precoCondicaoId) REFERENCES prcPrecoCondicao (PrecoCondicaoId);
                ]]> 
            </change>
        <applicationversion>31115</applicationversion>
        <orderchange>20</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                ALTER TABLE prccondicaodepagamento DROP COLUMN juro;
                ALTER TABLE prccondicaodepagamento DROP COLUMN juropercentual;
                ]]> 
            </change>
        <applicationversion>31115</applicationversion>
        <orderchange>22</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                ALTER TABLE prcprecocurso DROP COLUMN valor;
                ALTER TABLE prcprecocurso ADD COLUMN valoravista numeric(16,2);
                ALTER TABLE prcprecocurso ALTER COLUMN valoraprazo TYPE numeric(16,2);
                ALTER TABLE prcmovimentoprecocurso DROP COLUMN valor;
                ALTER TABLE prcmovimentoprecocurso ADD COLUMN valoravista numeric(16,2);
                ALTER TABLE prcmovimentoprecocurso ADD COLUMN valoraprazo numeric(16,2);
                ALTER TABLE prcmovimentoprecocurso ADD COLUMN datainicial date;
                ALTER TABLE prcmovimentoprecocurso ADD COLUMN datafinal date;
                ]]> 
            </change>
        <applicationversion>31115</applicationversion>
        <orderchange>23</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                    DROP RULE MovimentoPrecoCurso_INS ON prcPrecoCurso;
                    CREATE or REPLACE RULE MovimentoPrecoCurso_INS AS ON INSERT TO prcPrecoCurso DO INSERT INTO prcMovimentoPrecoCurso
 (ofertacursoid, ocorrenciacursoid, ofertaturmaid, policyid, operationid, bankaccountid, costcenterid, valoravista, valoraprazo, formadecalculo, diasvencimentoentrada, datainicial, datafinal, usuario, datamovimento, evento) values (NEW.ofertacursoid, NEW.ocorrenciacursoid, NEW.ofertaturmaid, NEW.policyid, NEW.operationid, NEW.bankaccountid, NEW.costcenterid, NEW.valoravista, NEW.valoraprazo, NEW.formadecalculo, NEW.diasvencimentoentrada, NEW.datainicial, NEW.datafinal, current_user,current_timestamp, 'INS');
                ]]> 
            </change>
        <applicationversion>31115</applicationversion>
        <orderchange>25</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                DROP RULE MovimentoPrecoCurso_UPD ON prcPrecoCurso;
                    CREATE or REPLACE RULE MovimentoPrecoCurso_UPD AS ON UPDATE TO prcPrecoCurso DO INSERT INTO prcMovimentoPrecoCurso
 (ofertacursoid, ocorrenciacursoid, ofertaturmaid, policyid, operationid, bankaccountid, costcenterid, valoravista, valoraprazo, formadecalculo, diasvencimentoentrada, datainicial, datafinal, usuario, datamovimento, evento) values (NEW.ofertacursoid, NEW.ocorrenciacursoid, NEW.ofertaturmaid, NEW.policyid, NEW.operationid, NEW.bankaccountid, NEW.costcenterid, NEW.valoravista, NEW.valoraprazo, NEW.formadecalculo, NEW.diasvencimentoentrada, NEW.datainicial, NEW.datafinal, current_user,current_timestamp, 'UPD');
                ]]> 
            </change>
        <applicationversion>31115</applicationversion>
        <orderchange>26</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                DROP RULE MovimentoPrecoCurso_DEL ON prcPrecoCurso;
                    CREATE or REPLACE RULE MovimentoPrecoCurso_DEL AS ON DELETE TO prcPrecoCurso DO INSERT INTO prcMovimentoPrecoCurso
 (ofertacursoid, ocorrenciacursoid, ofertaturmaid, policyid, operationid, bankaccountid, costcenterid, valoravista, valoraprazo, formadecalculo, diasvencimentoentrada, datainicial, datafinal, usuario, datamovimento, evento) values (OLD.ofertacursoid, OLD.ocorrenciacursoid, OLD.ofertaturmaid, OLD.policyid, OLD.operationid, OLD.bankaccountid, OLD.costcenterid, OLD.valoravista, OLD.valoraprazo, OLD.formadecalculo, OLD.diasvencimentoentrada, OLD.datainicial, OLD.datafinal, current_user,current_timestamp, 'DEL');
                ]]> 
            </change>
        <applicationversion>31115</applicationversion>
        <orderchange>27</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                ALTER TABLE prcprecocurso DROP COLUMN validadevalor;
                ]]> 
            </change>
        <applicationversion>31115</applicationversion>
        <orderchange>28</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                ALTER TABLE prcprecocurso ALTER COLUMN valoravista TYPE numeric(16,2);
                ]]> 
            </change>
        <applicationversion>31115</applicationversion>
        <orderchange>29</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                ALTER TABLE acpofertacurso DROP COLUMN valortaxainscricao;
                ]]> 
            </change>
        <applicationversion>31115</applicationversion>
        <orderchange>30</orderchange>
        </item>

        <item>
            <change>
                <![CDATA[
                ALTER TABLE acpOfertaCurso   ADD COLUMN taxaInscricao bool;
                ]]> 
            </change>
        <applicationversion>31115</applicationversion>
        <orderchange>30</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                ALTER TABLE prcMovimentoPrecoCurso DROP COLUMN diavencimentoparcelas;
                ALTER TABLE prcprecocurso DROP COLUMN diavencimentoparcelas;
                ]]> 
            </change>
        <applicationversion>31116</applicationversion>
        <orderchange>01</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                ALTER TABLE acpInscricao ADD COLUMN diaDeVencimentoId int4;
                ALTER TABLE acpInscricao ADD COLUMN PrecoCondicaoId int4;
                CREATE TABLE prcDiaDeVencimento (
                    diaDeVencimentoId  SERIAL NOT NULL, 
                    dia               int4 NOT NULL, 
                    PRIMARY KEY (diaDeVencimentoId));                
                ALTER TABLE acpInscricao ADD CONSTRAINT FKacpInscric143813 FOREIGN KEY (PrecoCondicaoId) REFERENCES prcPrecoCondicao (PrecoCondicaoId);
                ALTER TABLE acpInscricao ADD CONSTRAINT FKacpInscric708377 FOREIGN KEY (diaDeVencimentoId) REFERENCES prcDiaDeVencimento (diaDeVencimentoId);
                ]]> 
            </change>
        <applicationversion>31116</applicationversion>
        <orderchange>02</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                CREATE TABLE fininfotitulo
                (
                  unidade character varying,
                  curso character varying,
                  turno character varying,
                  periodo character varying,
                  matricula integer,
                  nome character varying,
                  titulo integer NOT NULL,
                  vencimento date,
                  referencia date,
                  cod_origem integer,
                  origem text,
                  valor_nominal numeric,
                  valor_incentivos numeric,
                  valor_descontos numeric,
                  valor_pago numeric,
                  valor_juros_multas numeric,
                  valor_taxa numeric,
                  inadimplencia numeric,
                  envionaremessa text,
                  periodo_letivo integer,
                  contrato integer,
                  CONSTRAINT fininfotitulo_pkey PRIMARY KEY (titulo),
                  CONSTRAINT fininfotitulo_contrato_fkey FOREIGN KEY (contrato)
                      REFERENCES acdcontract (contractid) MATCH SIMPLE
                      ON UPDATE NO ACTION ON DELETE NO ACTION,
                  CONSTRAINT fininfotitulo_matricula_fkey FOREIGN KEY (matricula)
                      REFERENCES basperson (personid) MATCH SIMPLE
                      ON UPDATE NO ACTION ON DELETE NO ACTION,
                  CONSTRAINT fininfotitulo_periodo_fkey FOREIGN KEY (periodo)
                      REFERENCES acdperiod (periodid) MATCH SIMPLE
                      ON UPDATE NO ACTION ON DELETE NO ACTION,
                  CONSTRAINT fininfotitulo_periodo_letivo_fkey FOREIGN KEY (periodo_letivo)
                      REFERENCES acdlearningperiod (learningperiodid) MATCH SIMPLE
                      ON UPDATE NO ACTION ON DELETE NO ACTION,
                  CONSTRAINT fininfotitulo_titulo_fkey FOREIGN KEY (titulo)
                      REFERENCES finreceivableinvoice (invoiceid) MATCH SIMPLE
                      ON UPDATE NO ACTION ON DELETE NO ACTION
                ) INHERITS (baslog);

                ]]> 
            </change>
        <applicationversion>31116</applicationversion>
        <orderchange>03</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                CREATE INDEX fininfotitulo_contrato_idx
                    ON fininfotitulo
                    USING btree
                    (contrato);

                  CREATE INDEX fininfotitulo_curso_idx
                    ON fininfotitulo
                    USING btree
                    (curso COLLATE pg_catalog."default");

                  CREATE INDEX fininfotitulo_matricula_idx
                    ON fininfotitulo
                    USING btree
                    (matricula);

                  CREATE INDEX fininfotitulo_periodo_idx
                    ON fininfotitulo
                    USING btree
                    (periodo COLLATE pg_catalog."default");

                  CREATE INDEX fininfotitulo_periodo_letivo_idx
                    ON fininfotitulo
                    USING btree
                    (periodo_letivo);

                  CREATE INDEX fininfotitulo_turno_idx
                    ON fininfotitulo
                    USING btree
                    (turno COLLATE pg_catalog."default");

                  CREATE INDEX fininfotitulo_unidade_idx
                    ON fininfotitulo
                    USING btree
                    (unidade COLLATE pg_catalog."default");

                  CREATE INDEX fininfotitulo_vencimento_idx
                    ON fininfotitulo
                    USING btree
                    (vencimento);

                  CREATE INDEX finhistoricoremessa_invoiceid_idx
                    ON finhistoricoremessa
                    USING btree
                    (invoiceid);
                ]]> 
            </change>
        <applicationversion>31116</applicationversion>
        <orderchange>04</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                -- Alimenta tabela fininfotitulo
                INSERT INTO fininfotitulo (
                            unidade,
                            curso,
                            turno,
                            periodo,
                            matricula,
                            nome,
                            titulo,
                            vencimento,
                            referencia,
                            cod_origem,
                            origem,
                            valor_nominal,
                            valor_incentivos,
                            valor_descontos,
                            valor_pago,
                            valor_juros_multas,
                            valor_taxa,
                            inadimplencia,
                            envionaremessa,
                            periodo_letivo,
                            contrato
                          )
                          SELECT getunitdescription(b.unitid) AS unidade, 
                                 getcoursename(b.courseid) AS curso, 
                                 getturndescription(b.turnid) AS turno, 
                                 c.periodid AS periodo, a.matricula, 
                                 a.nome, 
                                 a.titulo, 
                                 a.vencimento, 
                                 a.referencia, 
                                 a.cod_origem, 
                                 a.origem, 
                                 a.valor_nominal, 
                                 a.valor_incentivos, 
                                 a.valor_descontos, 
                                 a.valor_pago,
                                 a.valor_juros_multas,
                                 a.valor_taxa,
                                 a.inadimplencia, 
                                 a.envionaremessa, 
                                 a.periodo_letivo, 
                                 a.contrato
                            FROM ( SELECT a.personid AS matricula, 
                                          c.name AS nome, 
                                          a.invoiceid AS titulo, 
                                          a.maturitydate AS vencimento, 
                                          a.referencematuritydate AS referencia, 
                                          a.incomesourceid AS cod_origem, 
                                          b.description AS origem, 
                                          a.nominalvalue AS valor_nominal, 
                                          ( SELECT COALESCE(sum(xa.value), 0::numeric) AS "coalesce"
                                              FROM finentry xa
                                              JOIN finoperation xb USING (operationid)
                                             WHERE xa.invoiceid = a.invoiceid 
                                             AND (xb.operationid IN (SELECT operationid FROM finincentivetype)) 
                                          ) AS valor_incentivos, 
                                          (SELECT COALESCE(sum(finentry.value), 0::numeric) as "coalesce"
                                             FROM finentry
                                            INNER JOIN finoperation USING (operationid)
                                            WHERE finentry.invoiceid = a.invoiceid
                                              AND finentry.operationid NOT IN (select operationid from finincentivetype)
                                              AND finentry.operationid <> ALL (ARRAY[d.paymentoperation, d.banktaxoperation])
                                              AND finoperation.operationtypeid = 'C'
                                          ) AS valor_descontos, --deve ser acrescido de getinvoicediscountvalue e getinvoiceconvenantvalue 
                                          ( SELECT COALESCE(sum(finentry.value), 0::numeric) AS "coalesce"
                                             FROM finentry
                                            WHERE finentry.invoiceid = a.invoiceid AND (finentry.operationid = ANY (ARRAY[d.paymentoperation, d.banktaxoperation]))) AS valor_pago,
                                          CASE
                                              WHEN a.maturitydate < now() AND a.balance > 0::numeric THEN a.balance
                                              ELSE 0::numeric
                                          END AS inadimplencia, 
                                          CASE
                                              WHEN (( SELECT count(xx.invoiceid) AS count
                                                 FROM finhistoricoremessa xx
                                                WHERE xx.invoiceid = a.invoiceid
                                               LIMIT 1)) > 0::bigint THEN 't'::text
                                              ELSE 'f'::text
                                          END AS envionaremessa, 
                                          ( SELECT xa.learningperiodid
                                             FROM finentry xa
                                            WHERE xa.invoiceid = a.invoiceid AND xa.learningperiodid IS NOT NULL
                                            ORDER BY xa.value DESC
                                           LIMIT 1) AS periodo_letivo, 
                                           ( SELECT xa.contractid
                                             FROM finentry xa
                                            WHERE xa.invoiceid = a.invoiceid AND xa.contractid IS NOT NULL
                                            ORDER BY xa.value DESC
                                           LIMIT 1) AS contrato,
                                           (SELECT COALESCE(SUM(value), 0)
                                              FROM finentry
                                             WHERE operationid IN (SELECT interestoperation FROM findefaultoperations UNION 
                                                                   SELECT otheradditionsoperation FROM findefaultoperations)
                                               AND invoiceid = a.invoiceid) as valor_juros_multas,
                                           (SELECT COALESCE(SUM(value), 0)
                                              FROM finentry
                                             WHERE operationid IN (SELECT banktaxoperation FROM findefaultoperations)
                                               AND invoiceid = a.invoiceid) as valor_taxa
                                     FROM finreceivableinvoice a
                                     JOIN finincomesource b USING (incomesourceid)
                                     JOIN ONLY basperson c USING (personid), 
                                     ( SELECT * FROM findefaultoperations LIMIT 1) d
                                    WHERE a.iscanceled IS FALSE 
                                      AND (EXISTS ( SELECT finentry.entryid
                                                      FROM finentry
                                                     WHERE finentry.invoiceid = a.invoiceid))) a
                          LEFT JOIN acdcontract b ON b.contractid = a.contrato
                          LEFT JOIN acdlearningperiod c ON c.learningperiodid = a.periodo_letivo
                          WHERE (a.contrato IS NULL OR EXISTS (SELECT * FROM acdcontract WHERE contractid = a.contrato));
                ]]> 
            </change>
        <applicationversion>31116</applicationversion>
        <orderchange>05</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                -- Altera view_receita para usar a nova tabela fininfotitulo
                CREATE OR REPLACE VIEW view_receita AS 
                 SELECT a.unidade, 
                        a.curso, 
                        a.turno, 
                        a.periodo, 
                        a.matricula, 
                        a.nome, 
                        a.titulo, 
                        a.vencimento, 
                        a.referencia, 
                        a.cod_origem, 
                        a.origem, 
                        a.valor_nominal, 
                        a.valor_incentivos, 
                        a.valor_descontos + getinvoicediscountvalue(a.titulo, now()::date) + getinvoiceconvenantvalue(a.titulo, now()::date) as valor_descontos,  
                        a.valor_pago, 
                        CASE WHEN a.inadimplencia > 0 THEN a.inadimplencia
                        ELSE CASE WHEN a.vencimento < now()::date AND b.balance > 0 
                             THEN (a.valor_nominal - a.valor_incentivos - (a.valor_descontos + getinvoicediscountvalue(a.titulo, now()::date) + getinvoiceconvenantvalue(a.titulo, now()::date)))
                             ELSE 0::numeric END
                        END as inadimplencia, 
                        CASE
                            WHEN (( SELECT count(xx.invoiceid) AS count
                               FROM finhistoricoremessa xx
                              WHERE xx.invoiceid = a.titulo
                             LIMIT 1)) > 0::bigint THEN 't'::text
                            ELSE 'f'::text
                        END AS envionaremessa,
                        a.periodo_letivo, 
                        a.contrato
                   FROM fininfotitulo a   
                  INNER JOIN finreceivableinvoice b ON (b.invoiceid = a.titulo);
                ]]> 
            </change>
        <applicationversion>31116</applicationversion>
        <orderchange>06</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                -- Trigger para inserir o registro em fininfotitulo quando um título é criado
                CREATE OR REPLACE FUNCTION insere_fininfotitulo()
                    RETURNS trigger AS
                  $BODY$
                  BEGIN
                      IF TG_OP = 'INSERT' THEN
                        INSERT INTO fininfotitulo (
                                    matricula,
                                    nome,
                                    titulo,
                                    vencimento,
                                    referencia,
                                    cod_origem,
                                    origem
                                    ) 
                             VALUES (NEW.personid, 
                                     getpersonname(NEW.personid), 
                                     NEW.invoiceid,
                                     NEW.maturitydate,
                                     NEW.referencematuritydate,
                                     NEW.incomesourceid,
                                     (SELECT description FROM finincomesource WHERE incomesourceid = NEW.incomesourceid)
                                    );
                      END IF;

                      IF TG_OP = 'UPDATE' THEN
                          UPDATE fininfotitulo SET
                              matricula = NEW.personid,
                              nome = getpersonname(NEW.personid), 
                              vencimento = NEW.maturitydate,
                              referencia = NEW.referencematuritydate,
                              cod_origem = NEW.incomesourceid,
                              origem = (SELECT description FROM finincomesource WHERE incomesourceid = NEW.incomesourceid)
                          WHERE titulo = NEW.invoiceid ;
                      END IF;

                      RETURN NEW;
                  END;
                  $BODY$
                    LANGUAGE plpgsql;
                ]]> 
            </change>
        <applicationversion>31116</applicationversion>
        <orderchange>07</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                CREATE TRIGGER trg_insere_fininfotitulo
                    AFTER INSERT OR UPDATE
                    ON finreceivableinvoice
                    FOR EACH ROW
                    EXECUTE PROCEDURE insere_fininfotitulo();
                ]]> 
            </change>
        <applicationversion>31116</applicationversion>
        <orderchange>08</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                -- Trigger para excluir o registro de fininfotitulo quando o título for excluido
                CREATE OR REPLACE FUNCTION exclui_fininfotitulo()
                  RETURNS trigger AS
                $BODY$
                BEGIN
                    DELETE FROM fininfotitulo WHERE titulo = OLD.invoiceid;

                    RETURN OLD;
                END;
                $BODY$
                  LANGUAGE plpgsql;
                ]]> 
            </change>
        <applicationversion>31116</applicationversion>
        <orderchange>09</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                CREATE TRIGGER trg_exclui_fininfotitulo
                BEFORE DELETE
                ON finreceivableinvoice
                FOR EACH ROW
                EXECUTE PROCEDURE exclui_fininfotitulo();
                ]]> 
            </change>
        <applicationversion>31116</applicationversion>
        <orderchange>10</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                -- Trigger para atualizar o registro de fininfotitulo de acordo com os lançamentos
                CREATE OR REPLACE FUNCTION atualiza_fininfotitulo()
                  RETURNS trigger AS
                $BODY$
                DECLARE
                    v_infotitulo fininfotitulo;
                    v_lancamento finentry;
                    v_contrato acdcontract;
                BEGIN   
                    IF TG_OP = 'INSERT' OR TG_OP = 'UPDATE' THEN
                        v_lancamento = NEW;
                    END IF;

                    IF TG_OP = 'DELETE' THEN
                        v_lancamento = OLD;
                    END IF;

                    SELECT INTO v_infotitulo * FROM fininfotitulo WHERE titulo = v_lancamento.invoiceid;

                    IF v_infotitulo.periodo_letivo IS NULL OR v_infotitulo.contrato IS NULL THEN
                        IF v_lancamento.learningperiodid IS NOT NULL THEN
                            v_infotitulo.periodo_letivo = v_lancamento.learningperiodid;

                            SELECT INTO v_infotitulo.periodo periodid FROM acdlearningperiod WHERE learningperiodid = v_lancamento.learningperiodid;
                        END IF;

                        IF v_lancamento.contractid IS NOT NULL THEN
                            SELECT INTO v_contrato * FROM acdcontract WHERE contractid = v_lancamento.contractid;

                            v_infotitulo.contrato := v_contrato.contractid;

                            SELECT INTO v_infotitulo.unidade description FROM basunit WHERE unitid = v_contrato.unitid;

                            SELECT INTO v_infotitulo.curso name FROM acdcourse WHERE courseid = v_contrato.courseid;

                            SELECT INTO v_infotitulo.turno description FROM basturn WHERE turnid = v_contrato.turnid;
                        END IF;
                    END IF;

                    -- Valor nominal
                    SELECT INTO v_infotitulo.valor_nominal COALESCE(SUM(value), 0) 
                      FROM finentry 
                     WHERE operationid IN (SELECT operationid FROM finoperation WHERE operationtypeid = 'D' UNION
                                           SELECT cancelcurricularcomponentoperation FROM findefaultoperations)
                       AND operationid NOT IN (SELECT interestoperation FROM findefaultoperations UNION 
                                               SELECT otheradditionsoperation FROM findefaultoperations)
                       AND invoiceid = v_infotitulo.titulo;

                    -- Incentivos
                    SELECT INTO v_infotitulo.valor_incentivos COALESCE(SUM(value), 0)
                      FROM finentry
                     WHERE operationid IN (SELECT operationid FROM finincentivetype)
                       AND invoiceid = v_infotitulo.titulo;

                    -- Descontos
                    SELECT INTO v_infotitulo.valor_descontos COALESCE(SUM(value), 0)
                      FROM finentry a
                     WHERE operationid NOT IN (SELECT operationid FROM finincentivetype UNION 
                                               SELECT paymentoperation FROM findefaultoperations UNION 
                                               SELECT banktaxoperation FROM findefaultoperations)
                       AND EXISTS (SELECT operationid FROM finoperation WHERE operationtypeid = 'C' AND operationid = a.operationid)
                       AND invoiceid = v_infotitulo.titulo;

                    -- Valor pago
                    SELECT INTO v_infotitulo.valor_pago COALESCE(SUM(value), 0)
                      FROM finentry
                     WHERE operationid IN (SELECT paymentoperation FROM findefaultoperations UNION
                                           SELECT banktaxoperation FROM findefaultoperations)
                       AND invoiceid = v_infotitulo.titulo;

                    IF (v_lancamento.operationid IN (SELECT paymentoperation FROM findefaultoperations) AND
                        v_lancamento.entrydate > v_infotitulo.vencimento) THEN

                        -- Inadimplência
                        v_infotitulo.inadimplencia := v_infotitulo.valor_nominal - v_infotitulo.valor_incentivos - v_infotitulo.valor_descontos ;
                    END IF;

                    -- Juros
                    SELECT INTO v_infotitulo.valor_juros_multas COALESCE(SUM(value), 0)
                      FROM finentry
                     WHERE operationid IN (SELECT interestoperation FROM findefaultoperations UNION 
                                           SELECT otheradditionsoperation FROM findefaultoperations)
                       AND invoiceid = v_infotitulo.titulo;

                    -- Taxa
                    SELECT INTO v_infotitulo.valor_taxa COALESCE(SUM(value), 0)
                      FROM finentry
                     WHERE operationid IN (SELECT banktaxoperation FROM findefaultoperations)
                       AND invoiceid = v_infotitulo.titulo;

                    UPDATE fininfotitulo SET  
                        unidade = v_infotitulo.unidade,
                        curso = v_infotitulo.curso,
                        turno = v_infotitulo.turno,
                        periodo = v_infotitulo.periodo,
                        valor_nominal = v_infotitulo.valor_nominal,
                        valor_incentivos = v_infotitulo.valor_incentivos,
                        valor_descontos = v_infotitulo.valor_descontos,
                        valor_pago = v_infotitulo.valor_pago,
                        valor_juros_multas = v_infotitulo.valor_juros_multas,
                        valor_taxa = v_infotitulo.valor_taxa,
                        inadimplencia = v_infotitulo.inadimplencia,
                        periodo_letivo = v_infotitulo.periodo_letivo,
                        contrato = v_infotitulo.contrato
                    WHERE titulo = v_infotitulo.titulo ;

                    IF TG_OP = 'INSERT' OR TG_OP = 'UPDATE' THEN
                        RETURN NEW;
                    END IF;

                    IF TG_OP = 'DELETE' THEN
                        RETURN OLD;
                    END IF;
                END;
                $BODY$
                  LANGUAGE plpgsql;
                ]]> 
            </change>
        <applicationversion>31116</applicationversion>
        <orderchange>11</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                CREATE TRIGGER trg_atualiza_fininfotitulo
                AFTER INSERT OR UPDATE OR DELETE
                ON finentry
                FOR EACH ROW
                EXECUTE PROCEDURE atualiza_fininfotitulo();
                ]]> 
            </change>
        <applicationversion>31116</applicationversion>
        <orderchange>12</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                    DROP RULE MovimentoPrecoCurso_INS ON prcPrecoCurso;
                    CREATE or REPLACE RULE MovimentoPrecoCurso_INS AS ON INSERT TO prcPrecoCurso DO INSERT INTO prcMovimentoPrecoCurso
 (ofertacursoid, ocorrenciacursoid, ofertaturmaid, policyid, operationid, bankaccountid, costcenterid, valoravista, valoraprazo, diasvencimentoentrada, datainicial, datafinal, usuario, datamovimento, evento) values (NEW.ofertacursoid, NEW.ocorrenciacursoid, NEW.ofertaturmaid, NEW.policyid, NEW.operationid, NEW.bankaccountid, NEW.costcenterid, NEW.valoravista, NEW.valoraprazo, NEW.diasvencimentoentrada, NEW.datainicial, NEW.datafinal, current_user,current_timestamp, 'INS');
                ]]> 
            </change>
        <applicationversion>31116</applicationversion>
        <orderchange>13</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                DROP RULE MovimentoPrecoCurso_UPD ON prcPrecoCurso;
                    CREATE or REPLACE RULE MovimentoPrecoCurso_UPD AS ON UPDATE TO prcPrecoCurso DO INSERT INTO prcMovimentoPrecoCurso
 (ofertacursoid, ocorrenciacursoid, ofertaturmaid, policyid, operationid, bankaccountid, costcenterid, valoravista, valoraprazo, diasvencimentoentrada, datainicial, datafinal, usuario, datamovimento, evento) values (NEW.ofertacursoid, NEW.ocorrenciacursoid, NEW.ofertaturmaid, NEW.policyid, NEW.operationid, NEW.bankaccountid, NEW.costcenterid, NEW.valoravista, NEW.valoraprazo, NEW.diasvencimentoentrada, NEW.datainicial, NEW.datafinal, current_user,current_timestamp, 'UPD');
                ]]> 
            </change>
        <applicationversion>31116</applicationversion>
        <orderchange>14</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                DROP RULE MovimentoPrecoCurso_DEL ON prcPrecoCurso;
                    CREATE or REPLACE RULE MovimentoPrecoCurso_DEL AS ON DELETE TO prcPrecoCurso DO INSERT INTO prcMovimentoPrecoCurso
 (ofertacursoid, ocorrenciacursoid, ofertaturmaid, policyid, operationid, bankaccountid, costcenterid, valoravista, valoraprazo, diasvencimentoentrada, datainicial, datafinal, usuario, datamovimento, evento) values (OLD.ofertacursoid, OLD.ocorrenciacursoid, OLD.ofertaturmaid, OLD.policyid, OLD.operationid, OLD.bankaccountid, OLD.costcenterid, OLD.valoravista, OLD.valoraprazo, OLD.diasvencimentoentrada, OLD.datainicial, OLD.datafinal, current_user,current_timestamp, 'DEL');
                ]]> 
            </change>
        <applicationversion>31116</applicationversion>
        <orderchange>15</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                ALTER TABLE prcmovimentoprecocurso DROP COLUMN formadecalculo;
                ALTER TABLE prcprecocurso DROP COLUMN formadecalculo;
                ]]> 
            </change>
        <applicationversion>31116</applicationversion>
        <orderchange>16</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                ALTER TABLE acpInscricao RENAME COLUMN precocondicaoid TO PrecoCondicaoMatriculaId;
                ALTER TABLE acpInscricao ADD COLUMN PrecoCondicaoInscricaoId int4;
                ALTER TABLE acpInscricao ADD CONSTRAINT FKacpInscric969347 FOREIGN KEY (PrecoCondicaoInscricaoId) REFERENCES prcPrecoCondicao (PrecoCondicaoId);
                ALTER TABLE acpinscricao DROP COLUMN diavencimento CASCADE;
                ]]> 
            </change>
        <applicationversion>31116</applicationversion>
        <orderchange>17</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                CREATE TABLE basUploadReportInfo (
                    uploadReportInfoId SERIAL PRIMARY KEY,
                    report VARCHAR(255) UNIQUE NOT NULL,
                    authenticationRequired BOOLEAN DEFAULT FALSE
                ) INHERITS (basLog);
                ]]> 
            </change>
        <applicationversion>31117</applicationversion>
        <orderchange>01</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                ALTER TABLE acpGradeHorario DROP COLUMN FormaCursarComponentesCurriculares;
                ]]> 
            </change>
        <applicationversion>31202</applicationversion>
        <orderchange>01</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                ALTER TABLE acpcurso ALTER descricao TYPE text;
                ]]> 
            </change>
        <applicationversion>31202</applicationversion>
        <orderchange>02</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                ALTER TABLE prcTituloInscricao DROP COLUMN precoCondicaoId;
                ]]> 
            </change>
        <applicationversion>31204</applicationversion>
        <orderchange>01</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                ALTER TABLE prcTituloInscricao DROP COLUMN formadepagamentodoprecoid;
                ]]> 
            </change>
        <applicationversion>31204</applicationversion>
        <orderchange>02</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                    DROP RULE MovimentoPrecoCurso_INS ON prcPrecoCurso;
                ]]> 
            </change>
        <applicationversion>31206</applicationversion>
        <orderchange>01</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                DROP RULE MovimentoPrecoCurso_UPD ON prcPrecoCurso;
                ]]> 
            </change>
        <applicationversion>31206</applicationversion>
        <orderchange>02</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                DROP RULE MovimentoPrecoCurso_DEL ON prcPrecoCurso;
                ]]> 
            </change>
        <applicationversion>31206</applicationversion>
        <orderchange>03</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                ALTER TABLE prcprecocurso DROP COLUMN valor;
                ALTER TABLE prcprecocurso ADD COLUMN valoravista numeric(16,2);
                ALTER TABLE prcprecocurso ALTER COLUMN valoraprazo TYPE numeric(16,2);
                ALTER TABLE prcmovimentoprecocurso DROP COLUMN valor;
                ALTER TABLE prcmovimentoprecocurso ADD COLUMN valoravista numeric(16,2);
                ALTER TABLE prcmovimentoprecocurso ADD COLUMN valoraprazo numeric(16,2);
                ALTER TABLE prcmovimentoprecocurso ADD COLUMN datainicial date;
                ALTER TABLE prcmovimentoprecocurso ADD COLUMN datafinal date;
                ]]> 
            </change>
        <applicationversion>31206</applicationversion>
        <orderchange>04</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                    ALTER TABLE prcPrecoCurso ADD COLUMN dataInicial date;
                ]]> 
            </change>
        <applicationversion>31206</applicationversion>
        <orderchange>05</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                    ALTER TABLE prcPrecoCurso ALTER COLUMN dataInicial SET NOT NULL;
                ]]> 
            </change>
        <applicationversion>31206</applicationversion>
        <orderchange>06</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                    CREATE or REPLACE RULE MovimentoPrecoCurso_INS AS ON INSERT TO prcPrecoCurso DO INSERT INTO prcMovimentoPrecoCurso
 (ofertacursoid, ocorrenciacursoid, ofertaturmaid, policyid, operationid, bankaccountid, costcenterid, valoravista, valoraprazo, diasvencimentoentrada, datainicial, datafinal, usuario, datamovimento, evento) values (NEW.ofertacursoid, NEW.ocorrenciacursoid, NEW.ofertaturmaid, NEW.policyid, NEW.operationid, NEW.bankaccountid, NEW.costcenterid, NEW.valoravista, NEW.valoraprazo, NEW.diasvencimentoentrada, NEW.datainicial, NEW.datafinal, current_user,current_timestamp, 'INS');
                ]]> 
            </change>
        <applicationversion>31206</applicationversion>
        <orderchange>07</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                    CREATE or REPLACE RULE MovimentoPrecoCurso_UPD AS ON UPDATE TO prcPrecoCurso DO INSERT INTO prcMovimentoPrecoCurso
 (ofertacursoid, ocorrenciacursoid, ofertaturmaid, policyid, operationid, bankaccountid, costcenterid, valoravista, valoraprazo, diasvencimentoentrada, datainicial, datafinal, usuario, datamovimento, evento) values (NEW.ofertacursoid, NEW.ocorrenciacursoid, NEW.ofertaturmaid, NEW.policyid, NEW.operationid, NEW.bankaccountid, NEW.costcenterid, NEW.valoravista, NEW.valoraprazo, NEW.diasvencimentoentrada, NEW.datainicial, NEW.datafinal, current_user,current_timestamp, 'UPD');
                ]]> 
            </change>
        <applicationversion>31206</applicationversion>
        <orderchange>08</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                    CREATE or REPLACE RULE MovimentoPrecoCurso_DEL AS ON DELETE TO prcPrecoCurso DO INSERT INTO prcMovimentoPrecoCurso
 (ofertacursoid, ocorrenciacursoid, ofertaturmaid, policyid, operationid, bankaccountid, costcenterid, valoravista, valoraprazo, diasvencimentoentrada, datainicial, datafinal, usuario, datamovimento, evento) values (OLD.ofertacursoid, OLD.ocorrenciacursoid, OLD.ofertaturmaid, OLD.policyid, OLD.operationid, OLD.bankaccountid, OLD.costcenterid, OLD.valoravista, OLD.valoraprazo, OLD.diasvencimentoentrada, OLD.datainicial, OLD.datafinal, current_user,current_timestamp, 'DEL');
                ]]> 
            </change>
        <applicationversion>31206</applicationversion>
        <orderchange>09</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                    ALTER TABLE prcprecocurso ALTER COLUMN incomesourceid SET NOT NULL;
                ]]> 
            </change>
        <applicationversion>31207</applicationversion>
        <orderchange>01</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                    ALTER TABLE prcMovimentoPrecoCurso   DROP COLUMN formadecalculo;
                ]]> 
            </change>
        <applicationversion>31207</applicationversion>
        <orderchange>02</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                    ALTER TABLE prcMovimentoPrecoCurso   DROP COLUMN operationid;
                ]]> 
            </change>
        <applicationversion>31207</applicationversion>
        <orderchange>03</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                    ALTER TABLE prcMovimentoPrecoCurso   DROP COLUMN valor;
                ]]> 
            </change>
        <applicationversion>31207</applicationversion>
        <orderchange>04</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                    ALTER TABLE prcMovimentoPrecoCurso   DROP COLUMN validadevalor;
                ]]> 
            </change>
        <applicationversion>31207</applicationversion>
        <orderchange>05</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                    ALTER TABLE prcMovimentoPrecoCurso   DROP COLUMN percentualdesconto;
                ]]> 
            </change>
        <applicationversion>31207</applicationversion>
        <orderchange>06</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                    ALTER TABLE prcMovimentoPrecoCurso   ADD COLUMN valoravista numeric(16, 2);
                ]]> 
            </change>
        <applicationversion>31207</applicationversion>
        <orderchange>07</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                    ALTER TABLE prcMovimentoPrecoCurso   ADD COLUMN DataInicial date;
                ]]> 
            </change>
        <applicationversion>31207</applicationversion>
        <orderchange>08</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                    ALTER TABLE prcMovimentoPrecoCurso   ADD COLUMN valoraprazo numeric(16, 2);
                ]]> 
            </change>
        <applicationversion>31207</applicationversion>
        <orderchange>09</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                    ALTER TABLE prcMovimentoPrecoCurso   ADD COLUMN Incomesourceid int4;
                ]]> 
            </change>
        <applicationversion>31207</applicationversion>
        <orderchange>10</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                    ALTER TABLE prcMovimentoPrecoCurso   ADD COLUMN DataFinal date;
                ]]> 
            </change>
        <applicationversion>31207</applicationversion>
        <orderchange>11</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                    ALTER TABLE prcMovimentoPrecoCurso   ADD COLUMN Tipo char(1);
                ]]> 
            </change>
        <applicationversion>31207</applicationversion>
        <orderchange>11</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                    CREATE or REPLACE RULE MovimentoPrecoCurso_INS AS ON INSERT TO prcPrecoCurso DO INSERT INTO prcMovimentoPrecoCurso
(ofertacursoid, ocorrenciacursoid, ofertaturmaid, policyid, bankaccountid, costcenterid, diasvencimentoentrada, diavencimentoparcelas,  valoravista, datainicial, valoraprazo, incomesourceid, datafinal, tipo, usuario, datamovimento, evento) values (NEW.ofertacursoid, NEW.ocorrenciacursoid, NEW.ofertaturmaid, NEW.policyid, NEW.bankaccountid, NEW.costcenterid, NEW.diasvencimentoentrada, NEW.diavencimentoparcelas, NEW.valoravista, NEW.datainicial, NEW.valoraprazo, NEW.incomesourceid, NEW.datafinal, NEW.tipo,  current_user,current_timestamp,'INS');
                ]]> 
            </change>
        <applicationversion>31207</applicationversion>
        <orderchange>12</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                    CREATE or REPLACE RULE MovimentoPrecoCurso_DEL AS ON DELETE TO prcPrecoCurso DO INSERT INTO prcMovimentoPrecoCurso
(ofertacursoid, ocorrenciacursoid, ofertaturmaid, policyid, bankaccountid, costcenterid, diasvencimentoentrada, diavencimentoparcelas,  valoravista, datainicial, valoraprazo, incomesourceid, datafinal, tipo, usuario, datamovimento, evento) values (OLD.ofertacursoid, OLD.ocorrenciacursoid, OLD.ofertaturmaid, OLD.policyid, OLD.bankaccountid, OLD.costcenterid, OLD.diasvencimentoentrada, OLD.diavencimentoparcelas, OLD.valoravista, OLD.datainicial, OLD.valoraprazo, OLD.incomesourceid, OLD.datafinal, OLD.tipo,  current_user,current_timestamp,'DEL');
                ]]> 
            </change>
        <applicationversion>31207</applicationversion>
        <orderchange>13</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                    CREATE or REPLACE RULE MovimentoPrecoCurso_UPD AS ON UPDATE TO prcPrecoCurso WHERE OLD.ofertacursoid<>NEW.ofertacursoid OR OLD.ocorrenciacursoid<>NEW.ocorrenciacursoid OR OLD.ofertaturmaid<>NEW.ofertaturmaid OR OLD.policyid<>NEW.policyid OR OLD.bankaccountid<>NEW.bankaccountid OR OLD.costcenterid<>NEW.costcenterid OR OLD.diasvencimentoentrada<>NEW.diasvencimentoentrada OR OLD.diavencimentoparcelas<>NEW.diavencimentoparcelas OR OLD.valoravista<>NEW.valoravista OR OLD.datainicial<>NEW.datainicial OR OLD.valoraprazo<>NEW.valoraprazo OR OLD.incomesourceid<>NEW.incomesourceid OR OLD.datafinal<>NEW.datafinal OR OLD.tipo<>NEW.tipo DO INSERT INTO prcMovimentoPrecoCurso (ofertacursoid, ocorrenciacursoid, ofertaturmaid, policyid, bankaccountid, costcenterid, diasvencimentoentrada, diavencimentoparcelas,  valoravista, datainicial, valoraprazo, incomesourceid, datafinal, tipo, usuario, datamovimento, evento) values (OLD.ofertacursoid, OLD.ocorrenciacursoid, OLD.ofertaturmaid, OLD.policyid, OLD.bankaccountid, OLD.costcenterid, OLD.diasvencimentoentrada, OLD.diavencimentoparcelas, OLD.valoravista, OLD.datainicial, OLD.valoraprazo, OLD.incomesourceid, OLD.datafinal, OLD.tipo,  current_user,current_timestamp,'UPD');
                ]]> 
            </change>
        <applicationversion>31207</applicationversion>
        <orderchange>14</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                CREATE INDEX idx_basphysicalperson_miolousername ON basphysicalperson ( miolousername );
                CREATE INDEX idx_ava_respostas_ref_avaliador ON ava_respostas ( ref_avaliador );                
                ]]> 
            </change>
        <applicationversion>31107</applicationversion>
        <orderchange>1</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                ALTER TABLE acpOcorrenciaHorarioOferta   ADD COLUMN conteudo text;
                ]]> 
            </change>
        <applicationversion>31107</applicationversion>
        <orderchange>2</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                ALTER TABLE acpOfertaComponenteCurricular   ADD COLUMN dataFechamento date;
                ]]> 
            </change>
        <applicationversion>31107</applicationversion>
        <orderchange>3</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                ALTER TABLE acpAvaliacao ADD COLUMN conceitoDeAvaliacaoId int4;
                ALTER TABLE acpAvaliacao ADD CONSTRAINT FKacpAvaliac793681 FOREIGN KEY (conceitoDeAvaliacaoId) REFERENCES acpConceitosDeAvaliacao (conceitoDeAvaliacaoId);
                ALTER TABLE acpAvaliacao DROP COLUMN conceito;
                ]]> 
            </change>
        <applicationversion>31107</applicationversion>
        <orderchange>4</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
   CREATE TABLE prtpreferenciascoordenador (
    preferenciacoordenadorid serial not null,
    personid integer not null,
    notificacaonovamensagem boolean default false,
    notificacaoconviteatividade boolean default false,
    notificacaosolicitacaoreposicao boolean default false,
    constraint pk_prtpreferenciascoordenador primary key (preferenciacoordenadorid),
    constraint fk_prtpreferenciascoordenador foreign key (personid) references basperson (personid) ON UPDATE CASCADE ON DELETE CASCADE
) INHERITS(baslog);
                ]]> 
            </change>
        <applicationversion>31201</applicationversion>
        <orderchange>1</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
CREATE TABLE finTransferenciaDeCaixa (
    transferenciaDeCaixaId SERIAL PRIMARY KEY,
    caixaAbertoDeOrigem INTEGER REFERENCES finOpenCounter(openCounterId) NOT NULL,
    caixaDeDestino INTEGER REFERENCES finCounter(counterId) NOT NULL,
    valorTransferido NUMERIC NOT NULL,
    transferido BOOLEAN DEFAULT FALSE
) INHERITS (basLog);
                ]]> 
            </change>
        <applicationversion>31201</applicationversion>
        <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ select setval('seq_operationid'::regclass, (select max(operationid) from finoperation));]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
INSERT INTO finoperation (description,operationtypeid,operationgroupid) VALUES('TRANSFERÊNCIA DE VALOR DE CAIXA', 'D', 'N');]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
INSERT INTO finoperation (description,operationtypeid,operationgroupid) VALUES('RECEBIMENTO DE VALOR DE CAIXA', 'C', 'N');]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE finDefaultOperations ADD COLUMN transferenciadevalordecaixa INTEGER;]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE finDefaultOperations ADD COLUMN recebimentodevalordecaixa INTEGER;]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
ALTER TABLE prcprecocurso rename valor to valoravista;
ALTER TABLE prcprecocurso ALTER COLUMN valoravista type numeric(16,2);
                ]]> 
            </change>
        <applicationversion>31201</applicationversion>
        <orderchange>2</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
update acphorarioofertacomponentecurricular set horarioid = (select min(horarioid) from acphorario) where horarioid is null;
alter table acphorarioofertacomponentecurricular alter horarioid set not null;
update acphorario set diasemana=0 where diasemana is null;
alter table acphorario alter diasemana set not null;
                ]]> 
            </change>
        <applicationversion>31201</applicationversion>
        <orderchange>2</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                    alter table acphorarioofertacomponentecurricular alter column horarioid drop not null;
                ]]> 
            </change>
        <applicationversion>31201</applicationversion>
        <orderchange>3</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                 alter table baslegalperson ADD CONSTRAINT cityidfk FOREIGN KEY (cityid) references bascity(cityid);
                ]]> 
            </change>
        <applicationversion>31201</applicationversion>
        <orderchange>4</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                    ALTER TABLE basdocumentogerado ADD COLUMN parametros TEXT;
                ]]> 
            </change>
        <applicationversion>31201</applicationversion>
        <orderchange>3</orderchange>
        </item>      
        <item>
            <change>
                <![CDATA[
                    ALTER TABLE acpcursodocente  add unitid int4;
                    ALTER TABLE acpmatrizcurricular add unitid int4;
                    ALTER TABLE acpofertaturma add unitid int4;
                    ALTER TABLE acpavaliacao add unitid int4;
                    ALTER TABLE acpmatrizcurriculargrupo add unitid int4;
                    ALTER TABLE acpperfilcurso add unitid int4;
                    ALTER TABLE acpfrequencia add unitid int4;
                    ALTER TABLE acpperfilcursocamposadicionais add unitid int4;
                    ALTER TABLE acpmovimentoinscricao add unitid int4;
                    ALTER TABLE acpperfilcursocomponentecurricular add unitid int4;
                    ALTER TABLE acpcamposadicionaiscurso add unitid int4;
                    ALTER TABLE acpmovimentomatricula add unitid int4;
                    ALTER TABLE acpcomponentecurricular add unitid int4;
                    ALTER TABLE acpregrasmatriculaperfilcurso add unitid int4;
                    ALTER TABLE acpcomponentecurricularbibliografia add unitid int4;
                    ALTER TABLE acpcontroledefrequencia add unitid int4;
                    ALTER TABLE acphorarioofertacomponentecurricular add unitid int4;
                    ALTER TABLE acpocorrenciahorariooferta add unitid int4;
                    ALTER TABLE acpcomponentecurriculardisciplina add unitid int4;
                    ALTER TABLE acpcoordenadores add unitid int4;
                    ALTER TABLE acpinscricao add unitid int4;
                    ALTER TABLE acpofertacomponentecurricular add unitid int4;
                    ALTER TABLE acpcomponentecurriculartrabalhoconclusao add unitid int4;
                    ALTER TABLE acpmatricula add unitid int4;
                    ALTER TABLE acpofertacurso add unitid int4;
                    ALTER TABLE prccondicaodepagamento add unitid int4;
                    ALTER TABLE prcmovimentoprecocurso add unitid int4;
                    ALTER TABLE prcprecocondicao add unitid int4;
                    ALTER TABLE prcprecocurso add unitid int4;
                    ALTER TABLE prctituloinscricao add unitid int4;
                ]]> 
            </change>
        <applicationversion>31201</applicationversion>
        <orderchange>4</orderchange>
        </item> 
        <item>
            <change>
                <![CDATA[
                    ALTER TABLE acpcursodocente  ADD CONSTRAINT multiunidade001fk FOREIGN KEY (unitid) REFERENCES basunit(unitid);
                    ALTER TABLE acpmatrizcurricular ADD CONSTRAINT multiunidade002fk FOREIGN KEY (unitid) REFERENCES basunit(unitid);
                    ALTER TABLE acpofertaturma ADD CONSTRAINT multiunidade003fk FOREIGN KEY (unitid) REFERENCES basunit(unitid);
                    ALTER TABLE acpavaliacao ADD CONSTRAINT multiunidade004fk FOREIGN KEY (unitid) REFERENCES basunit(unitid);
                    ALTER TABLE acpmatrizcurriculargrupo ADD CONSTRAINT multiunidade005fk FOREIGN KEY (unitid) REFERENCES basunit(unitid);
                    ALTER TABLE acpperfilcurso ADD CONSTRAINT multiunidade006fk FOREIGN KEY (unitid) REFERENCES basunit(unitid);
                    ALTER TABLE acpfrequencia ADD CONSTRAINT multiunidade007fk FOREIGN KEY (unitid) REFERENCES basunit(unitid);
                    ALTER TABLE acpperfilcursocamposadicionais ADD CONSTRAINT multiunidade008fk FOREIGN KEY (unitid) REFERENCES basunit(unitid);
                    ALTER TABLE acpmovimentoinscricao ADD CONSTRAINT multiunidade009fk FOREIGN KEY (unitid) REFERENCES basunit(unitid);
                    ALTER TABLE acpperfilcursocomponentecurricular ADD CONSTRAINT multiunidade011fk FOREIGN KEY (unitid) REFERENCES basunit(unitid);
                    ALTER TABLE acpcamposadicionaiscurso ADD CONSTRAINT multiunidade012fk FOREIGN KEY (unitid) REFERENCES basunit(unitid);
                    ALTER TABLE acpmovimentomatricula ADD CONSTRAINT multiunidade013fk FOREIGN KEY (unitid) REFERENCES basunit(unitid);
                    ALTER TABLE acpcomponentecurricular ADD CONSTRAINT multiunidade014fk FOREIGN KEY (unitid) REFERENCES basunit(unitid);
                    ALTER TABLE acpregrasmatriculaperfilcurso ADD CONSTRAINT multiunidade015fk FOREIGN KEY (unitid) REFERENCES basunit(unitid);
                    ALTER TABLE acpcomponentecurricularbibliografia ADD CONSTRAINT multiunidade016fk FOREIGN KEY (unitid) REFERENCES basunit(unitid);
                    ALTER TABLE acpcontroledefrequencia ADD CONSTRAINT multiunidade017fk FOREIGN KEY (unitid) REFERENCES basunit(unitid);
                    ALTER TABLE acphorarioofertacomponentecurricular ADD CONSTRAINT multiunidade018fk FOREIGN KEY (unitid) REFERENCES basunit(unitid);
                    ALTER TABLE acpocorrenciahorariooferta ADD CONSTRAINT multiunidade019fk FOREIGN KEY (unitid) REFERENCES basunit(unitid);
                    ALTER TABLE acpcomponentecurriculardisciplina ADD CONSTRAINT multiunidade020fk FOREIGN KEY (unitid) REFERENCES basunit(unitid);
                    ALTER TABLE acpcoordenadores ADD CONSTRAINT multiunidade021fk FOREIGN KEY (unitid) REFERENCES basunit(unitid);
                    ALTER TABLE acpinscricao ADD CONSTRAINT multiunidade022fk FOREIGN KEY (unitid) REFERENCES basunit(unitid);
                    ALTER TABLE acpofertacomponentecurricular ADD CONSTRAINT multiunidade023fk FOREIGN KEY (unitid) REFERENCES basunit(unitid);
                    ALTER TABLE acpcomponentecurriculartrabalhoconclusao ADD CONSTRAINT multiunidade024fk FOREIGN KEY (unitid) REFERENCES basunit(unitid);
                    ALTER TABLE acpmatricula ADD CONSTRAINT multiunidade025fk FOREIGN KEY (unitid) REFERENCES basunit(unitid);
                    ALTER TABLE acpofertacurso ADD CONSTRAINT multiunidade026fk FOREIGN KEY (unitid) REFERENCES basunit(unitid);
                    ALTER TABLE prccondicaodepagamento ADD CONSTRAINT multiunidade027fk FOREIGN KEY (unitid) REFERENCES basunit(unitid);
                    ALTER TABLE prcmovimentoprecocurso ADD CONSTRAINT multiunidade028fk FOREIGN KEY (unitid) REFERENCES basunit(unitid);
                    ALTER TABLE prcprecocondicao ADD CONSTRAINT multiunidade029fk FOREIGN KEY (unitid) REFERENCES basunit(unitid);
                    ALTER TABLE prcprecocurso ADD CONSTRAINT multiunidade030fk FOREIGN KEY (unitid) REFERENCES basunit(unitid);
                    ALTER TABLE prctituloinscricao ADD CONSTRAINT multiunidade031fk FOREIGN KEY (unitid) REFERENCES basunit(unitid);
                ]]> 
            </change>
        <applicationversion>31201</applicationversion>
        <orderchange>5</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                drop rule movimentomatricula_del on acpmatricula;
                drop rule movimentomatricula_ins on acpmatricula;
                drop rule movimentomatricula_upd on acpmatricula;
                alter table acpmatricula alter COLUMN parecerfinal type text;
                alter table acpmovimentomatricula alter COLUMN parecerfinal type text;
                CREATE or REPLACE RULE MovimentoMatricula_INS AS ON INSERT TO acpMatricula DO INSERT INTO acpMovimentoMatricula(dataMovimento,usuario,evento,situacao,dataMatricula,matriculaId, ofertaComponenteCurricularId,personId,inscricaoId,faltas,conceitofinal,notafinal,parecerfinal,estadodematriculaid) values (current_timestamp,current_user,'INS',NEW.situacao,NEW.dataMatricula,NEW.matriculaId,NEW.ofertaComponenteCurricularId,NEW.personId,NEW.inscricaoId,NEW.faltas,NEW.conceitofinal,NEW.notafinal,NEW.parecerfinal,NEW.estadodematriculaid);
                CREATE or REPLACE RULE MovimentoMatricula_UPD AS ON UPDATE TO acpMatricula DO INSERT INTO acpMovimentoMatricula(dataMovimento,usuario,evento,situacao,dataMatricula,matriculaId, ofertaComponenteCurricularId,personId,inscricaoId,faltas,conceitofinal,notafinal,parecerfinal,estadodematriculaid) values (current_timestamp,current_user,'UPD',NEW.situacao,NEW.dataMatricula,NEW.matriculaId,NEW.ofertaComponenteCurricularId,NEW.personId,NEW.inscricaoId,NEW.faltas,NEW.conceitofinal,NEW.notafinal,NEW.parecerfinal,NEW.estadodematriculaid);
                CREATE or REPLACE RULE MovimentoMatricula_DEL AS ON DELETE TO acpMatricula DO INSERT INTO acpMovimentoMatricula(dataMovimento,usuario,evento,situacao,dataMatricula,matriculaId, ofertaComponenteCurricularId,personId,inscricaoId,faltas,conceitofinal,notafinal,parecerfinal,estadodematriculaid) values (current_timestamp,current_user,'DEL',OLD.situacao,OLD.dataMatricula,OLD.matriculaId,OLD.ofertaComponenteCurricularId,OLD.personId,OLD.inscricaoId,OLD.faltas,OLD.conceitofinal,OLD.notafinal,OLD.parecerfinal,OLD.estadodematriculaid);
                ]]> 
            </change>
        <applicationversion>31201</applicationversion>
        <orderchange>6</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                CREATE INDEX idx_acdclasspupil_contractid ON acdclasspupil ( contractid );
                ]]> 
            </change>
        <applicationversion>31201</applicationversion>
        <orderchange>1</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                CREATE INDEX idx_acdclasspupil_begindate ON acdclasspupil ( begindate );
                ]]> 
            </change>
        <applicationversion>31201</applicationversion>
        <orderchange>2</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                CREATE INDEX idx_acdclasspupil_enddate ON acdclasspupil ( enddate );
                ]]> 
            </change>
        <applicationversion>31201</applicationversion>
        <orderchange>3</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                CREATE INDEX idx_finentry_invoiceid_contractid ON finentry ( invoiceid , contractid );
                ]]> 
            </change>
        <applicationversion>31201</applicationversion>
        <orderchange>4</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                CREATE INDEX idx_finentry_invoiceid_learningperiodid ON finentry ( invoiceid , learningperiodid );
                ]]> 
            </change>
        <applicationversion>31201</applicationversion>
        <orderchange>5</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                CREATE INDEX idx_finreceivableinvoice_iscanceled ON finreceivableinvoice ( iscanceled ) ;
                ]]> 
            </change>
        <applicationversion>31201</applicationversion>
        <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
              ALTER TABLE hur.scheduledactivity ADD COLUMN location text;]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
                ALTER TABLE basdocumentogerado ADD COLUMN parametros TEXT;]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE acpComponenteCurricular   ADD COLUMN professorResponsavelId int4;]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpComponenteCurricular   ADD COLUMN Ementa text;]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpComponenteCurricular   ADD COLUMN Objetivos text;]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpComponenteCurricular   DROP COLUMN serie;]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpComponenteCurricular   DROP COLUMN obrigatorio;]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>7</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpComponenteCurricular   DROP COLUMN situacao;]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>8</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpComponenteCurricular   DROP COLUMN numerodeaulas;]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>9</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpComponenteCurricular   DROP COLUMN ordem;]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>10</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpComponenteCurricularBibliografia   ADD COLUMN ofertaComponenteCurricularId int4;]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>11</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE TABLE acpComponenteCurricularMatriz (
  componenteCurricularMatrizId  SERIAL NOT NULL, 
  matrizCurricularGrupoId      int4 NOT NULL, 
  componenteCurricularId       int4 NOT NULL, 
  Serie                        int4, 
  Obrigatorio                  bool NOT NULL, 
  Situacao                     bool NOT NULL, 
  Ordem                        int4, 
  PRIMARY KEY (componenteCurricularMatrizId));]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>12</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
             ALTER TABLE acpComponenteCurricularMatriz ADD CONSTRAINT FKacpCompone437202 FOREIGN KEY (componenteCurricularId) REFERENCES acpComponenteCurricular (componenteCurricularId);]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>13</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
             ALTER TABLE acpComponenteCurricularMatriz ADD CONSTRAINT FKacpCompone503409 FOREIGN KEY (matrizCurricularGrupoId) REFERENCES acpMatrizCurricularGrupo (matrizCurricularGrupoId);]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>14</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpComponenteCurricularBibliografia ADD CONSTRAINT FKacpCompone245849 FOREIGN KEY (componenteCurricularId) REFERENCES acpComponenteCurricular (componenteCurricularId);]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>15</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpComponenteCurricularBibliografia ADD CONSTRAINT FKacpCompone714594 FOREIGN KEY (ofertaComponenteCurricularId) REFERENCES acpOfertaComponenteCurricular (ofertaComponenteCurricularId);]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>16</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpComponenteCurricular ADD CONSTRAINT FKacpCompone922402 FOREIGN KEY (professorResponsavelId) REFERENCES basPhysicalPersonProfessor (personId);]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>17</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ;]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>18</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE or REPLACE RULE MovimentoMatricula_INS AS ON INSERT TO acpMatricula DO INSERT INTO acpMovimentoMatricula(dataMovimento,usuario,evento,situacao,dataMatricula,matriculaId, ofertaComponenteCurricularId,personId,inscricaoId,faltas,conceitofinal,notafinal,parecerfinal,estadodematriculaid,unitid) values (current_timestamp,current_user,'INS',NEW.situacao,NEW.dataMatricula,NEW.matriculaId,NEW.ofertaComponenteCurricularId,NEW.personId,NEW.inscricaoId,NEW.faltas,NEW.conceitofinal,NEW.notafinal,NEW.parecerfinal,NEW.estadodematriculaid,NEW.unitid);]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>19</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

CREATE or REPLACE RULE MovimentoMatricula_UPD AS ON UPDATE TO acpMatricula DO INSERT INTO acpMovimentoMatricula(dataMovimento,usuario,evento,situacao,dataMatricula,matriculaId, ofertaComponenteCurricularId,personId,inscricaoId,faltas,conceitofinal,notafinal,parecerfinal,estadodematriculaid,unitid) values (current_timestamp,current_user,'UPD',NEW.situacao,NEW.dataMatricula,NEW.matriculaId,NEW.ofertaComponenteCurricularId,NEW.personId,NEW.inscricaoId,NEW.faltas,NEW.conceitofinal,NEW.notafinal,NEW.parecerfinal,NEW.estadodematriculaid,NEW.unitid);]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>20</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

CREATE or REPLACE RULE MovimentoMatricula_DEL AS ON DELETE TO acpMatricula DO INSERT INTO acpMovimentoMatricula(dataMovimento,usuario,evento,situacao,dataMatricula,matriculaId, ofertaComponenteCurricularId,personId,inscricaoId,faltas,conceitofinal,notafinal,parecerfinal,estadodematriculaid,unitid) values (current_timestamp,current_user,'DEL',OLD.situacao,OLD.dataMatricula,OLD.matriculaId,OLD.ofertaComponenteCurricularId,OLD.personId,OLD.inscricaoId,OLD.faltas,OLD.conceitofinal,OLD.notafinal,OLD.parecerfinal,OLD.estadodematriculaid,OLD.unitid);]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>21</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ;]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>22</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


CREATE or REPLACE RULE MovimentoInscricao_INS AS ON INSERT TO acpInscricao DO INSERT INTO acpMovimentoInscricao(dataMovimento,usuario,evento,situacao,inscricaoID,dataSituacao,personId,ofertaTurmaId,unitid) values (current_timestamp,current_user,'INS',NEW.situacao,NEW.inscricaoID,NEW.dataSituacao,NEW.personId,NEW.ofertaTurmaId,NEW.unitid);]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>23</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

CREATE or REPLACE RULE MovimentoInscricao_UPD AS ON UPDATE TO acpInscricao DO INSERT INTO acpMovimentoInscricao(dataMovimento,usuario,evento,situacao,inscricaoID,dataSituacao,personId,ofertaTurmaId,unitid) values (current_timestamp,current_user,'UPD',NEW.situacao,NEW.inscricaoID,NEW.dataSituacao,NEW.personId,NEW.ofertaTurmaId,NEW.unitid);]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>24</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

CREATE or REPLACE RULE MovimentoInscricao_DEL AS ON DELETE TO acpInscricao DO INSERT INTO acpMovimentoInscricao(dataMovimento,usuario,evento,situacao,inscricaoID,dataSituacao,personId,ofertaTurmaId,unitid) values (current_timestamp,current_user,'DEL',OLD.situacao,OLD.inscricaoID,OLD.dataSituacao,OLD.personId,OLD.ofertaTurmaId,OLD.unitid);]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>25</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ;]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>26</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ select setval('rccvinculodecontato_vinculodecontatoid_seq', (select max(vinculodecontatoid) from rccvinculodecontato));]]>
             </change>
             <applicationversion>31101</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
select setval('rccorigemdecontato_origemdecontatoid_seq', (select max(origemdecontatoid) from rccorigemdecontato));]]>
             </change>
             <applicationversion>31101</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
             ALTER TABLE acdcourseoccurrence ADD COLUMN idcursoinep VARCHAR (9);]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
             ALTER TABLE acdcourseoccurrence ADD COLUMN vagasinep INTEGER;]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
             ALTER TABLE spr.selectiveprocess ADD COLUMN periodid VARCHAR REFERENCES acdperiod(periodid);
             ]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
            alter table acpofertacomponentecurricular drop column componentecurricularid cascade;]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
            ALTER TABLE acpOfertaComponenteCurricular   ADD COLUMN componenteCurricularMatrizId int4;]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
            ALTER TABLE acpOfertaComponenteCurricular ADD CONSTRAINT FKacpOfertaC363581 FOREIGN KEY (componenteCurricularMatrizId) REFERENCES acpComponenteCurricularMatriz (componenteCurricularMatrizId);]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
            ALTER TABLE basphysicalpersonprofessor ADD COLUMN escolaridade INTEGER;]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
            ALTER TABLE basphysicalpersonprofessor ADD COLUMN posgraduacao INTEGER;]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
            ALTER TABLE basphysicalpersonprofessor ADD COLUMN situacao INTEGER;]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
            CREATE TABLE bastipoatuacaoprofessor(
                tipoatuacaoprofessorid SERIAL PRIMARY KEY,
                descricao VARCHAR NOT NULL,
                detalhes VARCHAR
            ) INHERITS (baslog);]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
            CREATE TABLE basatuacaoprofessor(
                atuacaoprofessorid SERIAL PRIMARY KEY,
                tipoatuacaoprofessorid INTEGER NOT NULL REFERENCES bastipoatuacaoprofessor(tipoatuacaoprofessorid),
                personid BIGINT REFERENCES basphysicalpersonprofessor(personid)
            ) INHERITS (baslog);]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ COMMENT ON COLUMN rccinteresse.cursoid IS 'Curso';]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[
            ALTER TABLE finbankaccount ADD COLUMN taxbankvalue NUMERIC(6,2);
            ALTER TABLE finbankaccount ADD COLUMN taxbankcreditoperation INTEGER REFERENCES finoperation(operationid);
            ALTER TABLE finbankaccount ADD COLUMN taxbankdebtoperation INTEGER REFERENCES finoperation(operationid);
            ALTER TABLE finbankaccount ADD COLUMN responsibletaxbank CHAR(1) DEFAULT 'C' NOT NULL;
            ]]>
             </change>
             <applicationversion>31220</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[
            ALTER TABLE acpCurso ADD COLUMN percentualMultaDesistencia numeric(4,2);
            ]]>
             </change>
             <applicationversion>31221</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[
                insert into acpComponenteCurricularMatriz(matrizcurriculargrupoid, componentecurricularid, serie, obrigatorio, situacao, ordem) select matrizcurriculargrupoid, componentecurricularid, acpcomponentecurricular.serie, obrigatorio, situacao, acpcomponentecurricular.ordem from acpcomponentecurricular inner join acpmatrizcurriculargrupo using(matrizcurriculargrupoid);
            ]]>
             </change>
             <applicationversion>31221</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[
		ALTER TABLE acpOcorrenciaHorarioOferta ADD COLUMN ofertaComponenteCurricularId int4;
		ALTER TABLE acpOcorrenciaHorarioOferta ADD COLUMN professorId int4;
		ALTER TABLE acpOcorrenciaHorarioOferta ADD COLUMN physicalResourceId int4;
		ALTER TABLE acpOcorrenciaHorarioOferta ADD COLUMN physicalResourceVersion int4;
		
		ALTER TABLE acpOcorrenciaHorarioOferta ADD CONSTRAINT FKacpOcorren557133 FOREIGN KEY (professorId) REFERENCES basPhysicalPersonProfessor (personId);
		ALTER TABLE acpOcorrenciaHorarioOferta ADD CONSTRAINT FKacpOcorren130187 FOREIGN KEY (physicalResourceId, physicalResourceVersion) REFERENCES insphysicalresource (physicalResourceId, physicalResourceVersion);
		ALTER TABLE acpOcorrenciaHorarioOferta ADD CONSTRAINT FKacpOcorren630790 FOREIGN KEY (ofertaComponenteCurricularId) REFERENCES acpOfertaComponenteCurricular (ofertaComponenteCurricularId);
            ]]>
             </change>
             <applicationversion>31221</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[
		alter table acpofertacomponentecurricular add componentecurricularmatrizid int;
		ALTER TABLE acpofertacomponentecurricular ADD CONSTRAINT FKacpOcorren13018799 FOREIGN KEY (componentecurricularmatrizid) REFERENCES acpcomponentecurricularmatriz(componentecurricularmatrizid);
            ]]>
             </change>
             <applicationversion>31221</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[
              alter table acpofertacomponentecurricular drop column componentecurricularid cascade;
            ]]>
             </change>
             <applicationversion>31221</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE basDocumentType ADD COLUMN exigepreenchimento BOOLEAN NOT NULL DEFAULT TRUE;]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ alter table acpocorrenciahorariooferta drop column horarioofertacomponentecurricularid cascade;]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE acpOcorrenciaHorarioOferta   ADD COLUMN OcorrenciaId int4;]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>3</orderchange>
        </item>

        <item>
             <change>
             <![CDATA[
 		create sequence seq_ocorrenciaid START 1000;
		alter table acpOcorrenciaHorarioOferta alter COLUMN ocorrenciaid set default nextval('seq_ocorrenciaid');
]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 	ALTER TABLE basphysicalpersonprofessor ADD COLUMN escolaridade INTEGER;]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
	ALTER TABLE basphysicalpersonprofessor ADD COLUMN posgraduacao INTEGER;]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
	ALTER TABLE basphysicalpersonprofessor ADD COLUMN situacao INTEGER;]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
	CREATE TABLE bastipoatuacaoprofessor(
	    tipoatuacaoprofessorid SERIAL PRIMARY KEY,
	    descricao VARCHAR NOT NULL,
	    detalhes VARCHAR
	) INHERITS (baslog);]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
	CREATE TABLE basatuacaoprofessor(
	    atuacaoprofessorid SERIAL PRIMARY KEY,
	    tipoatuacaoprofessorid INTEGER NOT NULL REFERENCES bastipoatuacaoprofessor(tipoatuacaoprofessorid),
	    personid BIGINT REFERENCES basphysicalpersonprofessor(personid)
	) INHERITS (baslog);]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
	COMMENT ON COLUMN rccinteresse.cursoid IS 'Curso';]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
	ALTER TABLE tra.request ADD COLUMN requestdate DATE;]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>7</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
	ALTER TABLE tra.request ADD COLUMN addendumcourseadminid integer REFERENCES tra.addendumcourseadmin;]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>8</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
	COMMENT ON COLUMN tra.request.addendumcourseadminid IS 'Código do responsável da conveniada.';]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>9</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
	CREATE TABLE finDadosBancariosDaPessoa(
	    dadosBancariosDaPessoa SERIAL PRIMARY KEY,
	    personId BIGINT REFERENCES basPerson(personId),
	    bankId VARCHAR REFERENCES finBank(bankId),
	    agencia VARCHAR(255),
	    digitoDaAgencia INT,
	    conta VARCHAR(255),
	    digitoDaConta INT,
	    observacao TEXT
	) INHERITS (basLog);]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>10</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
	ALTER TABLE finBank ADD COLUMN tamanhoCampoAgencia INT;]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>11</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
	ALTER TABLE finBank ADD COLUMN tamanhoDvAgencia INT;]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>12</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
	ALTER TABLE finBank ADD COLUMN mascaraAgencia TEXT;]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>13</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
	ALTER TABLE finBank ADD COLUMN tamanhoCampoConta INT;]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>14</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
	ALTER TABLE finBank ADD COLUMN tamanhoDvConta INT;]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>15</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
	ALTER TABLE finBank ADD COLUMN mascaraConta TEXT;]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>16</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
	ALTER TABLE spr.selectiveprocess ADD COLUMN permiteDadosBancarios BOOLEAN DEFAULT FALSE;]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>17</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[  
	ALTER TABLE tra.trainingtype ADD COLUMN requiresemestertmp char(1);]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>18</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
	UPDATE tra.trainingtype SET requiresemestertmp = 'S' where requiresemester = 't';]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>19</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
	UPDATE tra.trainingtype SET requiresemestertmp = 'N' where requiresemester = 'f';]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>20</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
	ALTER TABLE tra.trainingtype DROP COLUMN requiresemester;]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>21</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
	ALTER TABLE tra.trainingtype ADD COLUMN requiresemester char(1);]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>22</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
	UPDATE tra.trainingtype SET requiresemester = requiresemestertmp;]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>23</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
	ALTER TABLE tra.trainingtype DROP COLUMN requiresemestertmp;]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>24</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[      
        ALTER TABLE fincounter ADD COLUMN isCounterTreasury BOOLEAN DEFAULT FALSE;]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[     
		ALTER TABLE acpOcorrenciaHorarioOferta ADD COLUMN repete bool NOT NULL DEFAULT false;]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[     SELECT setval('miolo_user_iduser_seq',(SELECT MAX(iduser) FROM miolo_user));]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
    DROP SEQUENCE seq_iduser;]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
    INSERT INTO campobuscadinamica (buscadinamicaid,tipo,nome,posicao,editavel,visivel,referencia,filtravel,exibirnagrid,chave) VALUES (60002, 'boolean', 'Título aberto', 10, false, false, 'public.captitulo.tituloaberto', true, false, false);]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
    CREATE INDEX idx_ptcrequest_starttime on ptcrequest(starttime);]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[
            CREATE INDEX idx_acdcourseoccurrence_idcursoinep ON acdcourseoccurrence ( idcursoinep );
            ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ CREATE SEQUENCE miolo_user_iduser_seq;]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE miolo_user ALTER COLUMN iduser SET DEFAULT  nextval('miolo_user_iduser_seq');]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT setval('miolo_user_iduser_seq',(SELECT MAX(iduser) FROM miolo_user));]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
DROP SEQUENCE seq_iduser;]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>4</orderchange>
        </item>     
         <item>
             <change>
             <![CDATA[ 
alter table acpavaliacao alter COLUMN dataaula drop not null;
alter table acpperfilcurso drop column formacursarcomponentescurriculares ; 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>5</orderchange>
        </item>     
         <item>
             <change>
             <![CDATA[
ALTER TABLE prcPrecoCurso   ADD COLUMN matrizCurricularGrupoId int4;
ALTER TABLE prcPrecoCurso ADD CONSTRAINT FKprcPrecoCu168763 FOREIGN KEY (matrizCurricularGrupoId) REFERENCES acpMatrizCurricularGrupo (matrizCurricularGrupoId);

ALTER TABLE prcPrecoCondicao   ADD COLUMN operationId int4;
ALTER TABLE prcPrecoCondicao ADD CONSTRAINT FKprcPrecoCo250656 FOREIGN KEY (operationId) REFERENCES finOperation (operationId);
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>5</orderchange>
        </item>      
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaTurma   ADD COLUMN DataInicialOferta date;
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>6</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaTurma   ADD COLUMN DataFinalOferta date;
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>7</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaTurma   ADD COLUMN DataEncerramento date;
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>8</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaTurma   ADD COLUMN DataInicialAulas date;
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>9</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaTurma   ADD COLUMN DataFinalAulas date;
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>10</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaTurma   ADD COLUMN DataInicialInscricao date;
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>11</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaTurma   ADD COLUMN DataFinalInscricao date;
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>12</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaTurma   ADD COLUMN DataInicialMatricula date;
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>13</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaTurma   ADD COLUMN DataFinalMatricula date;
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>14</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaTurma   ADD COLUMN DataInicialRematricula date;
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>15</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaTurma   ADD COLUMN DataFinalRematricula date;
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>16</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaTurma   ADD COLUMN DataInicialAjustes date;
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>17</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaTurma   ADD COLUMN DataFinalAjustes date;
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>18</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaTurma   ADD COLUMN DataInicialCancelamentos date;
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>19</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaTurma   ADD COLUMN DataFinalCancelamentos date;
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>20</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaTurma   ADD COLUMN DataInicialTrancamentos date;
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>21</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaTurma   ADD COLUMN DataFinalTrancamentos date;
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>22</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaTurma   ADD COLUMN DataInicialTransferencia date;
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>23</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaTurma   ADD COLUMN DataFinalTransferencia date;
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>24</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaTurma   ADD COLUMN DataInicialReingressos date;
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>25</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaTurma   ADD COLUMN DataFinalReingressos date;
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>26</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                UPDATE acpOfertaTurma SET DataInicialOferta=(SELECT DataInicialOferta FROM acpOfertaCurso WHERE ofertacursoid=acpOfertaTurma.ofertacursoid);
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>27</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                UPDATE acpOfertaTurma SET DataFinalOferta=(SELECT DataFinalOferta FROM acpOfertaCurso WHERE ofertacursoid=acpOfertaTurma.ofertacursoid);
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>28</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                UPDATE acpOfertaTurma SET DataEncerramento=(SELECT DataEncerramento FROM acpOfertaCurso WHERE ofertacursoid=acpOfertaTurma.ofertacursoid);
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>29</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                UPDATE acpOfertaTurma SET DataInicialAulas=(SELECT DataInicialAulas FROM acpOfertaCurso WHERE ofertacursoid=acpOfertaTurma.ofertacursoid);
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>30</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                UPDATE acpOfertaTurma SET DataFinalAulas=(SELECT DataFinalAulas FROM acpOfertaCurso WHERE ofertacursoid=acpOfertaTurma.ofertacursoid);
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>31</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                UPDATE acpOfertaTurma SET DataInicialInscricao=(SELECT DataInicialInscricao FROM acpOfertaCurso WHERE ofertacursoid=acpOfertaTurma.ofertacursoid);
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>32</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                UPDATE acpOfertaTurma SET DataFinalInscricao=(SELECT DataFinalInscricao FROM acpOfertaCurso WHERE ofertacursoid=acpOfertaTurma.ofertacursoid);
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>33</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                UPDATE acpOfertaTurma SET DataInicialMatricula=(SELECT DataInicialMatricula FROM acpOfertaCurso WHERE ofertacursoid=acpOfertaTurma.ofertacursoid);
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>34</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                UPDATE acpOfertaTurma SET DataFinalMatricula=(SELECT DataFinalMatricula FROM acpOfertaCurso WHERE ofertacursoid=acpOfertaTurma.ofertacursoid);
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>35</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                UPDATE acpOfertaTurma SET DataInicialRematricula=(SELECT DataInicialRematricula FROM acpOfertaCurso WHERE ofertacursoid=acpOfertaTurma.ofertacursoid);
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>36</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                UPDATE acpOfertaTurma SET DataFinalRematricula=(SELECT DataFinalRematricula FROM acpOfertaCurso WHERE ofertacursoid=acpOfertaTurma.ofertacursoid);
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>37</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                UPDATE acpOfertaTurma SET DataInicialAjustes=(SELECT DataInicialAjustes FROM acpOfertaCurso WHERE ofertacursoid=acpOfertaTurma.ofertacursoid);
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>38</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                UPDATE acpOfertaTurma SET DataFinalAjustes=(SELECT DataFinalAjustes FROM acpOfertaCurso WHERE ofertacursoid=acpOfertaTurma.ofertacursoid);
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>39</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                UPDATE acpOfertaTurma SET DataInicialCancelamentos=(SELECT DataInicialCancelamentos FROM acpOfertaCurso WHERE ofertacursoid=acpOfertaTurma.ofertacursoid);
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>40</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                UPDATE acpOfertaTurma SET DataFinalCancelamentos=(SELECT DataFinalCancelamentos FROM acpOfertaCurso WHERE ofertacursoid=acpOfertaTurma.ofertacursoid);
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>41</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                UPDATE acpOfertaTurma SET DataInicialTrancamentos=(SELECT DataInicialTrancamentos FROM acpOfertaCurso WHERE ofertacursoid=acpOfertaTurma.ofertacursoid);
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>42</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                UPDATE acpOfertaTurma SET DataFinalTrancamentos=(SELECT DataFinalTrancamentos FROM acpOfertaCurso WHERE ofertacursoid=acpOfertaTurma.ofertacursoid);
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>43</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                UPDATE acpOfertaTurma SET DataInicialTransferencia=(SELECT DataInicialTransferencia FROM acpOfertaCurso WHERE ofertacursoid=acpOfertaTurma.ofertacursoid);
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>44</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                UPDATE acpOfertaTurma SET DataFinalTransferencia=(SELECT DataFinalTransferencia FROM acpOfertaCurso WHERE ofertacursoid=acpOfertaTurma.ofertacursoid);
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>45</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                UPDATE acpOfertaTurma SET DataInicialReingressos=(SELECT DataInicialReingressos FROM acpOfertaCurso WHERE ofertacursoid=acpOfertaTurma.ofertacursoid);
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>46</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                UPDATE acpOfertaTurma SET DataFinalReingressos=(SELECT DataFinalReingressos FROM acpOfertaCurso WHERE ofertacursoid=acpOfertaTurma.ofertacursoid);
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>47</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaCurso   DROP COLUMN datafinalajustes;
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>48</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaCurso   DROP COLUMN datainicialtransferencia;
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>49</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaCurso   DROP COLUMN datainicialaulas;
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>50</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaCurso   DROP COLUMN datafinalcancelamentos;
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>51</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaCurso   DROP COLUMN datafinaloferta;
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>52</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaCurso   DROP COLUMN datainicialajustes;
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>53</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaCurso   DROP COLUMN datafinalreingressos;
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>54</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaCurso   DROP COLUMN datafinalinscricao;
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>55</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaCurso   DROP COLUMN datainicialinscricao;
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>56</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaCurso   DROP COLUMN datainicialtrancamentos;
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>57</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaCurso   DROP COLUMN datafinalaulas;
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>59</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaCurso   DROP COLUMN datafinalmatricula;
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>60</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaCurso   DROP COLUMN datainicialcancelamentos;
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>61</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaCurso   DROP COLUMN datafinaltrancamentos;
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>62</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaCurso   DROP COLUMN datavencimentotaxainscricao;
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>63</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaCurso   DROP COLUMN datainicialmatricula;
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>64</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaCurso   DROP COLUMN datainicialoferta;
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>65</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaCurso   DROP COLUMN datainicialrematricula;
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>66</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaCurso   DROP COLUMN datafinalrematricula;
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>67</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaCurso   DROP COLUMN datainicialreingressos;
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>68</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaCurso   DROP COLUMN datafinaltransferencia;
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>69</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaTurma   ADD COLUMN gradeHorarioId int4;
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>70</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                UPDATE acpOfertaTurma SET gradehorarioid=(SELECT gradehorarioid FROM acpOfertaCurso WHERE ofertacursoid=acpOfertaTurma.ofertacursoid);
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>71</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaTurma ADD CONSTRAINT FKacpOfertaT440543 FOREIGN KEY (gradeHorarioId) REFERENCES acpGradeHorario (gradeHorarioId);
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>72</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaCurso   DROP COLUMN gradehorarioid;
 
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>73</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[     ALTER TABLE basphysicalpersonprofessor ADD COLUMN regimetrabalho INTEGER;]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
    ALTER TABLE basphysicalpersonprofessor ADD COLUMN substituto BOOLEAN;]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
    ALTER TABLE basphysicalpersonprofessor ADD COLUMN visitante BOOLEAN;]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
    ALTER TABLE basphysicalpersonprofessor ADD COLUMN tipovinculo INTEGER;]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
    ALTER TABLE finclosecounter ADD COLUMN saldofechamento NUMERIC(14,2) DEFAULT 0;]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
    ALTER TABLE finclosecounter ADD COLUMN counterid INTEGER REFERENCES fincounter(counterid);]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>6</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpPerfilCurso   ADD COLUMN PermiteInscricaoPorGrupo bool;
                ALTER TABLE acpPerfilCurso   ADD COLUMN mensagemInscricaoGrupo text;
              ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>73</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ CREATE TABLE prcPrecoCursoGrupo (
  precoCursoGrupoId       SERIAL NOT NULL, 
  matrizCurricularGrupoId int4, 
  precoCursoId            int4, 
  ValorAvista             numeric(16, 2), 
  ValorAprazo             numeric(16, 2), 
  PRIMARY KEY (precoCursoGrupoId));]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>75</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
  alter table prcprecocurso drop column matrizcurriculargrupoid ;]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>76</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
                ALTER TABLE prcPrecoCondicao  ADD COLUMN precoCursoGrupoId int4;
             ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>77</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
                ALTER TABLE prcPrecoCondicao ADD CONSTRAINT FKprcPrecoCo693178 FOREIGN KEY (precoCursoGrupoId) REFERENCES prcPrecoCursoGrupo (precoCursoGrupoId);
             ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>78</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
		ALTER TABLE acpgradehorario DROP COLUMN formacursarcomponentescurriculares;
             ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>79</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
                ALTER TABLE acpPerfilCurso   ALTER COLUMN PermiteInscricaoPorGrupo set default false;
                update acpPerfilCurso set PermiteInscricaoPorGrupo='false' where PermiteInscricaoPorGrupo is null;
                ALTER TABLE acpPerfilCurso   ALTER COLUMN PermiteInscricaoPorGrupo set not null;
             ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>79</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ CREATE TABLE acpInscricaoTurmaGrupo (
  inscricaoTurmaGrupoId    SERIAL NOT NULL, 
  matrizCurricularGrupoId int4, 
  inscricaoId             int4 NOT NULL, 
  ofertaTurmaId           int4 NOT NULL, 
  PRIMARY KEY (inscricaoTurmaGrupoId));]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpMatricula   ADD COLUMN inscricaoTurmaGrupoId int4;]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
insert into acpInscricaoTurmaGrupo(inscricaoId, ofertaTurmaId)  select inscricaoid, ofertaTurmaId from acpinscricao;]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
update acpmatricula set inscricaoTurmaGrupoId=(select inscricaoTurmaGrupoId from acpinscricaoturmagrupo where inscricaoId=acpmatricula.inscricaoId);]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpMatricula   ALTER COLUMN inscricaoTurmaGrupoId SET not null;]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpInscricaoTurmaGrupo ADD CONSTRAINT FKacpInscric103724 FOREIGN KEY (ofertaTurmaId) REFERENCES acpOfertaTurma (ofertaTurmaId);]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpInscricaoTurmaGrupo ADD CONSTRAINT FKacpInscric395183 FOREIGN KEY (inscricaoId) REFERENCES acpInscricao (inscricaoId);]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>7</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpInscricaoTurmaGrupo ADD CONSTRAINT FKacpInscric162136 FOREIGN KEY (matrizCurricularGrupoId) REFERENCES acpMatrizCurricularGrupo (matrizCurricularGrupoId);]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>8</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpMatricula ADD CONSTRAINT FKacpMatricu420041 FOREIGN KEY (inscricaoTurmaGrupoId) REFERENCES acpInscricaoTurmaGrupo (inscricaoTurmaGrupoId);]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>9</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpInscricao ADD CONSTRAINT FKacpInscric733584 FOREIGN KEY (PrecoCondicaoMatriculaId) REFERENCES prcPrecoCondicao (PrecoCondicaoId);]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>10</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE prcTituloInscricao ADD COLUMN precoCondicaoId int4;]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>11</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE prcTituloInscricao ADD CONSTRAINT FKprcTituloI805756 FOREIGN KEY (precoCondicaoId) REFERENCES prcPrecoCondicao (PrecoCondicaoId);]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>12</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE prcPrecoCondicao ADD CONSTRAINT FKprcPrecoCo267624 FOREIGN KEY (operationId) REFERENCES finOperation (operationId);]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>13</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE prcPrecoCursoGrupo ADD CONSTRAINT FKprcPrecoCu99319 FOREIGN KEY (precoCursoId) REFERENCES prcPrecoCurso (precoCursoId);]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>14</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE prcPrecoCursoGrupo ADD CONSTRAINT FKprcPrecoCu760841 FOREIGN KEY (matrizCurricularGrupoId) REFERENCES acpMatrizCurricularGrupo (matrizCurricularGrupoId);]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>15</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE prcPrecoCondicao ADD CONSTRAINT FKprcPrecoCo606059 FOREIGN KEY (precoCursoGrupoId) REFERENCES prcPrecoCursoGrupo (PrecoCursoGrupoId);]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>16</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpMatricula   ADD COLUMN precoCondicaoId int4;]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>17</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpMatricula ADD CONSTRAINT FKacpMatricu920660 FOREIGN KEY (precoCondicaoId) REFERENCES prcPrecoCondicao (PrecoCondicaoId);]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>18</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acpmatricula drop column inscricaoid cascade;
alter table acpinscricao drop column precocursoid;
alter table acpinscricao drop column ofertaturmaid cascade;
]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>19</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
             CREATE INDEX idx_miolo_user_login ON miolo_user (login);
             ]]>
             </change>
             <applicationversion>31301</applicationversion>
             <orderchange>80</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE acpPerfilCurso   ADD COLUMN PermiteMatriculaPorGrupo bool NOT NULL;]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>20</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpOfertaComponenteCurricular   ADD COLUMN PlanoAulas text;]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>21</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpOfertaComponenteCurricular   ADD COLUMN Metodologia text;]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>22</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpOfertaComponenteCurricular   ADD COLUMN Avaliacao text;]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>23</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE TABLE acpAtoRegulatorio (
  atoRegulatorioId   SERIAL NOT NULL, 
  ocorrenciaCursoId int4, 
  Documento         text NOT NULL, 
  DataDocumento     date, 
  DataInicial       date NOT NULL, 
  DataFinal         date, 
  PRIMARY KEY (atoRegulatorioId));]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>24</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpAtoRegulatorio ADD CONSTRAINT FKacpAtoRegu241024 FOREIGN KEY (ocorrenciaCursoId) REFERENCES acpOcorrenciaCurso (ocorrenciaCursoId);]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>25</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ;]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>26</orderchange>
        </item>
	<item>
		<change>
		<![CDATA[ALTER TABLE prcprecocurso DROP COLUMN valor;]]>
		</change>
		<applicationversion>31401</applicationversion>
		<orderchange>27</orderchange>
	</item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE finmovimentacaocheque ADD COLUMN foiexcluido BOOLEAN DEFAULT FALSE;]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
-- Adiciona colunas da ocorrência e chave estrangeira.
ALTER TABLE acdreconhecimentodecurso ADD COLUMN courseversion integer;]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdreconhecimentodecurso ADD COLUMN turnid integer;]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdreconhecimentodecurso ADD COLUMN unitid integer;]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdreconhecimentodecurso DROP CONSTRAINT acdreconhecimentodecurso_courseid_fkey;]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdreconhecimentodecurso ADD FOREIGN KEY (courseversion, courseid, turnid, unitid) REFERENCES acdcourseoccurrence(courseversion, courseid, turnid, unitid);]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

-- Migra estrurura, (insere reconhecimentos para cada ocorrência)
INSERT INTO acdreconhecimentodecurso (courseid, documentoreconhecimento,datareconhecimento,datainicial,datafinal,courseversion,turnid,unitid)
    (SELECT A.courseid, 
            B.documentoreconhecimento,
            B.datareconhecimento,
            B.datainicial,
            B.datafinal,
            A.courseversion,
            A.turnid,
            A.unitid
       FROM acdcourseoccurrence A
  LEFT JOIN acdreconhecimentodecurso B
         ON (A.courseid = B.courseid)
      WHERE B.documentoreconhecimento IS NOT NULL);]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>7</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

-- Delete reconhecimentos só com courseid
DELETE FROM acdreconhecimentodecurso 
      WHERE courseversion IS NULL
        AND turnid IS NULL
        AND unitid IS NULL;]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>8</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

-- Coloca not null nas colunas da ocorrência de curso
ALTER TABLE acdreconhecimentodecurso ALTER COLUMN courseversion SET NOT NULL;]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>9</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdreconhecimentodecurso ALTER COLUMN turnid SET NOT NULL;]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>10</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdreconhecimentodecurso ALTER COLUMN unitid SET NOT NULL;]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>11</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE TABLE basconfiguracaotrocadesenha(
    configuracaotrocadesenhaid SERIAL PRIMARY KEY,
    descricao VARCHAR NOT NULL,
    datainicial DATE NOT NULL,
    datafinal DATE,
    mensagem VARCHAR NOT NULL,
    concordarparaprosseguir BOOLEAN)
INHERITS (baslog);]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>12</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

CREATE TABLE basgrupotrocadesenha(
    grupostrocadesenhaid SERIAL PRIMARY KEY,
    configuracaotrocadesenhaid INTEGER NOT NULL REFERENCES basconfiguracaotrocadesenha(configuracaotrocadesenhaid),
    idgroup INTEGER NOT NULL REFERENCES miolo_group(idgroup))
INHERITS (baslog);]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>13</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

CREATE TABLE bassolicitacaotrocadesenha(
    configuracaotrocadesenhaid INTEGER NOT NULL REFERENCES basconfiguracaotrocadesenha(configuracaotrocadesenhaid),
    userid INTEGER NOT NULL REFERENCES miolo_user(iduser),
    concordo BOOLEAN)
INHERITS (baslog);]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>14</orderchange>
        </item>
	<item> 
            <change> 
            <![CDATA[

ALTER TABLE acpInscricao  
  ADD COLUMN ofertaCursoId int; 
ALTER TABLE acpInscricao ADD CONSTRAINT FKacpInscric695444 FOREIGN KEY (ofertaCursoId) REFERENCES acpOfertaCurso (ofertaCursoId);]]> 
            </change> 
            <applicationversion>31401</applicationversion> 
            <orderchange>15</orderchange> 
        </item>
	<item> 
            <change> 
            <![CDATA[
		alter table basphysicalpersonstudent ADD CONSTRAINT basphysicalpersonstudent_responsablelegalid FOREIGN KEY (responsablelegalid) REFERENCES basphysicalperson(personid);
]]> 
            </change> 
            <applicationversion>31401</applicationversion> 
            <orderchange>16</orderchange> 
        </item>
        <item>
             <change>
             <![CDATA[ UPDATE baslocationtype SET name = 'NAO INFORMADO' WHERE locationtypeid = 0;]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[
CREATE OR REPLACE FUNCTION obterMediaGlobal(p_contractId integer)
RETURNS double precision
AS $BODY$
DECLARE

    v_globalAverage double precision;

BEGIN

    v_globalAverage := 0;    

    SELECT INTO v_globalAverage ROUND( ( SUM(( SELECT note FROM acdDegreeEnroll WHERE enrollId = A.enrollId ORDER BY recordDate DESC LIMIT 1 )) / ( SELECT COUNT(EN.*)
                                                 FROM acdEnroll EN
                                           INNER JOIN acdGroup GR
                                                   ON GR.groupId = EN.groupId
                                           INNER JOIN acdLearningPeriod LP
                                                   ON LP.learningPeriodId = GR.learningPeriodId
                                                WHERE EN.contractId = p_contractId
                                                  AND EN.statusId IN ( getParameter('ACADEMIC', 'ENROLL_STATUS_EXCUSED')::int, getParameter('ACADEMIC', 'ENROLL_STATUS_APPROVED')::int ) ) )::NUMERIC, 2) AS mediaGlobal
      FROM acdEnroll A
INNER JOIN acdContract B
        ON B.contractId = A.contractId
INNER JOIN acdMovementContract C
        ON C.contractId = B.contractId
       AND C.stateContractId = getParameter('ACADEMIC', 'STATE_CONTRACT_ID_CONCLUSION_ALL_CURRICULAR_COMPONENT')::INT
     WHERE A.contractId = p_contractId 
       AND A.statusId IN ( getParameter('ACADEMIC', 'ENROLL_STATUS_EXCUSED')::int, getParameter('ACADEMIC', 'ENROLL_STATUS_APPROVED')::int ) 
       AND B.conclusionDate IS NOT NULL;

    RETURN v_globalAverage;

END;
$BODY$
LANGUAGE plpgsql; 
              ]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE OR REPLACE FUNCTION atualizarMediasConcluintes()
RETURNS boolean 
AS $BODY$
DECLARE

    v_contractId integer;    
    v_globalAverage double precision;

BEGIN

    FOR v_contractId IN SELECT DISTINCT contractid FROM acdmovementcontract WHERE statecontractid = getParameter('ACADEMIC', 'STATE_CONTRACT_ID_CONCLUSION_ALL_CURRICULAR_COMPONENT')::INT LOOP
    BEGIN
        SELECT INTO v_globalAverage obterMediaGlobal(v_contractId);

        IF ( v_globalAverage IS NOT NULL ) THEN
        BEGIN
            UPDATE acdcontract SET globalaverage = v_globalAverage WHERE contractid = v_contractId;
        END;
        END IF;

    END;
    END LOOP;

    RETURN true;

END;
$BODY$
LANGUAGE plpgsql;
              ]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT atualizarMediasConcluintes();]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
DROP VIEW IF EXISTS rptcontrato;]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[
CREATE OR REPLACE VIEW rptContrato AS
            (SELECT A.*,
                    C.contractId,
                    T.description AS turn,
                    U.description AS unit,
                    COALESCE(CI.name, '-') AS unitcity,
                    CO.name AS course,
                    C.subscriptionid,
                    COALESCE(C.obs, '-') AS obs,
                    CO.name AS coursename,
                    COALESCE( ( SELECT datetouser(min(statetime::date)) FROM acdmovementcontract WHERE contractid = C.contractId and statecontractid = 4 LIMIT 1), '-') AS dtadmissao,
                    COALESCE(datetouser(C.formationdate), '-') AS formationdate,
                    COALESCE(datetouser(C.diplomadate), '-') AS diplomadate,
                    COALESCE(datetouser(C.conclusionDate), '-') AS conclusionDate,
                    COALESCE(RC.documentoreconhecimento, '-') AS portariavigente,
                    COALESCE(datetouser(RC.datareconhecimento), '-') AS portariadatareconhecimento,
                    COALESCE(CO.degree, '-') AS coursedegree,
                    COALESCE(get_semester_contract(C.contractId)::varchar, '-') AS semestre,
                    COALESCE(getContractClassId(C.contractId), '-') AS classId,
                    COALESCE(PP.name, '-') AS coordinatorName,
                    PP.personId AS coordinatorPersonId,
                    CO.courseId,
                    RC.datareconhecimento,
                    C.formationDate AS formationDateDb,
                    COALESCE(( SELECT datetouser(statetime::date) FROM acdmovementcontract where contractid = C.contractid AND statecontractid = 11 LIMIT 1 ), '-') AS datacolacao,
                    ROUND(( 100 / NULLIF(( (SELECT (CASE WHEN COUNT(*) < 1 THEN 1 ELSE COUNT(*) END) AS count FROM acdcurriculum CU WHERE CU.courseid = C.courseid AND CU.courseversion = C.courseversion AND CU.turnid = C.turnid AND CU.unitid = C.unitid) / (SELECT (CASE WHEN COUNT(*) < 1 THEN 1 ELSE COUNT(*) END) AS count FROM acdenroll E INNER JOIN acdcontract CC ON CC.contractid = E.contractid WHERE CC.contractid = C.contractId AND E.statusId = GETPARAMETER('ACADEMIC', 'ENROLL_STATUS_APPROVED')::int ) ), 0) ), 2) AS percentualcursado,
                    CI.name AS unitcityname,
                    SPR.description AS ingresso_procsel,
                    DATETOUSER(SPR.endofprocessdate::date) AS procsel_concluido_em,
                    (SELECT SO.position FROM spr.subscriptionOption SO WHERE SO.subscriptionId = S.subscriptionId AND SO.position IS NOT NULL LIMIT 1) AS procsel_classif_curso,
                    (SELECT SSI.position FROM spr.subscriptionStepInfo SSI WHERE SSI.subscriptionId = S.subscriptionId LIMIT 1) AS procsel_classif_geral,
                    (SELECT SSI.totalPoints FROM spr.subscriptionStepInfo SSI WHERE SSI.subscriptionId = S.subscriptionId LIMIT 1) AS nota_vestibular,
                    CI.stateid AS estado,
                    C.courseversion,
                    C.turnid,
                    C.unitid
               FROM acdContract C
         INNER JOIN rptPessoa A
                 ON C.personid = A.personid
         INNER JOIN basTurn T
                 ON T.turnId = C.turnId
         INNER JOIN basUnit U
                 ON U.unitId = C.unitId
          LEFT JOIN basLocation L
                 ON L.locationId = U.locationId
          LEFT JOIN basCity CI
                 ON CI.cityId = L.cityId
         INNER JOIN acdCourseVersion CV
                 ON CV.courseid = C.courseid
                AND CV.courseversion = C.courseversion
         INNER JOIN acdCourse CO
                 ON C.courseid = CO.courseid
          LEFT JOIN acdreconhecimentodecurso RC
                 ON RC.reconhecimentodecursoid = COALESCE ( ( SELECT reconhecimentodecursoid
                                                                FROM acdreconhecimentodecurso
                                                               WHERE courseid = C.courseId
                                 AND courseversion = C.courseversion
                                 AND turnid = C.turnid
                                 AND unitid = C.unitid
                                                                 AND ( SELECT statetime::DATE
                                     FROM acdmovementcontract 
                                    WHERE contractid = C.contractid 
                                      AND statecontractid = 11 
                                    LIMIT 1 ) BETWEEN datainicial AND datafinal
                                                            ORDER BY datareconhecimento 
                                                               LIMIT 1 ),  -- Cola��o de grau

                                                            ( SELECT reconhecimentodecursoid
                                                                FROM acdreconhecimentodecurso 
                                                               WHERE courseid = C.courseId
                                 AND courseversion = C.courseversion
                                 AND turnid = C.turnid
                                 AND unitid = C.unitid
                                 AND NOW()::DATE BETWEEN datainicial AND datafinal
                                                            ORDER BY datareconhecimento 
                                                               LIMIT 1 ) ) -- Para alunos n�o formados.
         INNER JOIN acdLearningPeriod LP
                    ON LP.learningPeriodId = (SELECT learningPeriodId
                                                FROM acdLearningPeriod
                                                WHERE courseId = C.courseId
                                                AND courseVersion = C.courseVersion
                                                AND turnId = C.turnId
                                                AND unitId = C.unitId
                                                ORDER BY beginDate DESC
                                                LIMIT 1)
          LEFT JOIN acdCourseCoordinator CC
                 ON CC.courseId = C.courseId
                AND CC.courseVersion = C.courseVersion
                AND CC.turnId = C.turnId
                AND CC.unitId = C.unitId
                AND ((cc.begindate is null OR cc.begindate <= now()::date) AND (cc.enddate is null OR cc.enddate >= now()::date) )
     LEFT JOIN ONLY basPhysicalPersonProfessor PP
                 ON PP.personId = CC.coordinatorId
          LEFT JOIN spr.subscription S
                 ON S.subscriptionid = C.subscriptionid
          LEFT JOIN spr.selectiveProcess SPR
                 ON SPR.selectiveprocessid = S.selectiveprocessid
); 
             ]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE TABLE finStatusDoTitulo (
    statusDoTituloId SERIAL PRIMARY KEY,
    description VARCHAR(255)
) INHERITS (basLog);]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

CREATE TABLE finStatusDoTituloLog (
    statusDoTituloLogId SERIAL PRIMARY KEY,
    invoiceId INT REFERENCES finInvoice(invoiceId),
    statusDoTituloId INT REFERENCES finStatusDoTitulo(statusDoTituloId),
    data TIMESTAMP DEFAULT NOW()
) INHERITS (basLog);]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>7</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON rcccontato.contatoid IS 'Codigo';]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>8</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON rcccontato.rcccontatocontatoid IS 'Contato de origem';]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>9</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE temp_bank_movement ALTER COLUMN bankid TYPE character varying(3);]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>10</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE fincountermovement ADD COLUMN transferenciadecaixaid INT REFERENCES fintransferenciadecaixa(transferenciadecaixaid);
             ]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>11</orderchange>
        </item>
	<item>
             <change>
             <![CDATA[ 
UPDATE acpinscricao SET ofertacursoid = 
(SELECT A.ofertacursoid FROM acpofertaturma A inner join acpinscricaoturmagrupo B on B.ofertaturmaid = A.ofertaturmaid
AND B.inscricaoid = acpinscricao.inscricaoid)
WHERE acpinscricao.ofertacursoid IS NULL;
             ]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>28</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
             CREATE INDEX idx_acddegreeenroll_enrollid ON acdDegreeEnroll(enrollid);
             ]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>12</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
             ALTER TABLE acdacademiccalendarevent ADD COLUMN ocorrenciacursoid INTEGER REFERENCES acpocorrenciacurso(ocorrenciacursoid);
             ]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>13</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
                DROP TABLE acpcalendarioacademicoevento;
                DROP TABLE acpcalendarioacademico;
             ]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>14</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
                ALTER TABLE acpofertaturma DROP COLUMN datainicialrematricula;
                ALTER TABLE acpofertaturma DROP COLUMN datafinalrematricula;
                ALTER TABLE acpofertaturma DROP COLUMN datainicialajustes;
                ALTER TABLE acpofertaturma DROP COLUMN datafinalajustes;
                ALTER TABLE acpofertaturma DROP COLUMN datainicialcancelamentos;
                ALTER TABLE acpofertaturma DROP COLUMN datafinalcancelamentos;
                ALTER TABLE acpofertaturma DROP COLUMN datainicialtrancamentos;
                ALTER TABLE acpofertaturma DROP COLUMN datafinaltrancamentos;
                ALTER TABLE acpofertaturma DROP COLUMN datainicialtransferencia;
                ALTER TABLE acpofertaturma DROP COLUMN datafinaltransferencia;
                ALTER TABLE acpofertaturma DROP COLUMN datainicialreingressos;
                ALTER TABLE acpofertaturma DROP COLUMN datafinalreingressos;
             ]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>15</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ alter table acpmatricula add aproveitamento bool;]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>16</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acpmatricula alter aproveitamento set default false;]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>17</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acpmatricula add aproveitamento_interno bool default false;]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>18</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acpmatricula alter aproveitamento_interno set default false;]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>19</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acpmatricula add obs_aproveitamento text;]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>20</orderchange>
        </item>
	<item>
             <change>
             <![CDATA[ 
UPDATE acphorario SET minutosfrequencia=(EXTRACT(epoch FROM horafim-horainicio)/60) WHERE minutosfrequencia IS NULL;]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>1</orderchange>
        </item>
	<item>
             <change>
             <![CDATA[ 
ALTER TABLE acphorario ALTER COLUMN minutosfrequencia SET NOT NULL;]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>2</orderchange>
        </item>
	<item>
             <change>
             <![CDATA[ 
DROP VIEW IF EXISTS view_acp_pedagogico;

DROP VIEW IF EXISTS view_pedagogico_contrato;

DROP VIEW IF EXISTS view_pedagogico_oficio_anac;]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>3</orderchange>
        </item>
	<item>
             <change>
             <![CDATA[ 
ALTER TABLE acpInscricaoTurmaGrupo ADD COLUMN precoCondicaoMatriculaId int;
ALTER TABLE acpInscricaoTurmaGrupo ADD CONSTRAINT FKacpInscric942021 FOREIGN KEY (precoCondicaoMatriculaId) REFERENCES prcPrecoCondicao (PrecoCondicaoId);]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>4</orderchange>
        </item>
	<item>
             <change>
             <![CDATA[ 
UPDATE acpInscricaoTurmaGrupo SET precoCondicaoMatriculaId = (SELECT precoCondicaoMatriculaId FROM acpInscricao WHERE acpInscricao.inscricaoid = acpInscricaoTurmaGrupo.inscricaoid AND acpInscricao.precoCondicaoMatriculaId IS NOT NULL ) WHERE acpInscricaoTurmaGrupo.precoCondicaoMatriculaId IS NULL;]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>5</orderchange>
        </item>
	<item>
             <change>
             <![CDATA[ 
ALTER TABLE acpInscricao DROP COLUMN precoCondicaoMatriculaId;]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>6</orderchange>
        </item>
	<item>
             <change>
             <![CDATA[ 
ALTER TABLE acpInscricao 
  ADD COLUMN convenantid int;
ALTER TABLE acpInscricao ADD CONSTRAINT FKacpInscric751696 FOREIGN KEY (convenantid) REFERENCES finConvenant (convenantid);]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>7</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
             CREATE OR REPLACE FUNCTION miolo_audit_public_acdcontract_pkeys()
             RETURNS VARCHAR[] AS 
             $body$
             DECLARE
                 v_pkeys VARCHAR[] := ARRAY['contractid'];
             BEGIN
                 RETURN v_pkeys;
             END;
             $body$
             LANGUAGE plpgsql
             IMMUTABLE;
             ]]>
             </change>
             <applicationversion>31400</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
             CREATE OR REPLACE FUNCTION obtemChavesPrimariasDaTabela(p_table_name TEXT, p_table_squema TEXT) 
             RETURNS TABLE(column_name information_schema.sql_identifier) AS
             $BODY$
             DECLARE
                   v_select TEXT;
             BEGIN
                  -- Obtém todas as colunas chaves primárias da tabela.
                  v_select := 'SELECT column_name AS column_name
                                 FROM information_schema.constraint_column_usage U
                           INNER JOIN information_schema.table_constraints CONS
                                   ON CONS.table_name = U.table_name
                                  AND CONS.table_schema = U.table_schema
                                  AND CONS.constraint_name = U.constraint_name
                                  AND CONS.constraint_type = ''PRIMARY KEY''
                                WHERE U.table_name = ''' || p_table_name || '''
                                  AND U.table_schema = ''' || p_table_squema || '''';

                  RETURN QUERY EXECUTE v_select;
             END;
             $BODY$
             LANGUAGE plpgsql
             IMMUTABLE;
             ]]>
             </change>
             <applicationversion>31400</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
             CREATE OR REPLACE FUNCTION miolo_audit_it() RETURNS TRIGGER AS $body$
             DECLARE
                 v_original_value TEXT;
                 v_new_value TEXT;
                 v_col TEXT;
                 v_audit_id INT;
                 v_do_insert BOOLEAN;
                 v_ispk BOOLEAN;
                 v_path_dblink TEXT;
                 v_dblink TEXT;
                 v_is_dblink BOOLEAN = FALSE;
                 v_current_query TEXT;
                 v_next_val INTEGER;
                 v_dblink_extension BOOLEAN = FALSE;
                 v_database TEXT;
                 v_pkeys VARCHAR[];
                 v_pkey TEXT;
             BEGIN
                 v_original_value := NULL;
                 v_new_value := '-';
                 v_next_val := nextval('miolo_audit_audit_id_seq');

                 IF TG_OP = 'DELETE' OR TG_OP = 'UPDATE' THEN
                     INSERT INTO miolo_audit 
                                 (audit_id, schema_name, table_name, user_name, action, query)
                         VALUES (v_next_val, TG_TABLE_SCHEMA::TEXT, TG_TABLE_NAME::TEXT, session_user::TEXT, TG_OP, current_query());
                 END IF;

                 -- Obtém array de chaves primárias da tabela.
                 BEGIN
                     EXECUTE 'SELECT miolo_audit_' || TG_TABLE_SCHEMA || '_' || TG_TABLE_NAME || '_pkeys()' 
                        INTO v_pkeys;
                 EXCEPTION WHEN undefined_function
                 THEN
                     SELECT INTO v_pkeys ARRAY[column_name::text] AS column_name FROM obtemChavesPrimariasDaTabela(TG_TABLE_NAME, TG_TABLE_SCHEMA);
                 END;

                 -- Percorre todas as colunas da tabela.
                 FOR v_col IN SELECT column_name
                                FROM information_schema.columns 
                               WHERE table_name = TG_TABLE_NAME
                                 AND table_schema = TG_TABLE_SCHEMA
                            ORDER BY ordinal_position
                 LOOP
                     v_ispk := FALSE;
                     v_do_insert := TRUE;

                     -- Identifica se o valor da coluna foi alterado, caso sim, deverá registrar nos detalhes da auditoria.
                     IF TG_OP = 'DELETE' OR TG_OP = 'UPDATE' THEN
                         EXECUTE 'SELECT ' || v_col || ' FROM (SELECT $1.*) AS table_old' INTO v_original_value USING OLD;
                     END IF;

                     IF TG_OP = 'UPDATE' THEN
                         EXECUTE 'SELECT ' || v_col || ' FROM (SELECT $1.*) AS table_new' INTO v_new_value USING NEW;

                         IF TG_OP = 'UPDATE' AND (v_original_value = v_new_value OR (v_original_value IS NULL AND v_new_value IS NULL)) 
                         THEN
                             v_do_insert := FALSE;
                         END IF;

                     END IF;

                     -- Aqui está sendo forçada a inserção da chave primária, independente se foi alterada ou não.
                     FOR v_pkey IN ( SELECT vt FROM unnest(v_pkeys) x(vt) )
                     LOOP
                         IF v_pkey = v_col
                         THEN
                             v_ispk := TRUE;
                             v_do_insert := TRUE;
                         END IF;
                     END LOOP;

                     IF v_do_insert THEN
                         INSERT INTO miolo_audit_detail
                                     (audit_id, column_name, original_value, new_value, is_pkey)
                             VALUES (v_next_val, v_col, v_original_value, v_new_value, v_ispk);
                     END IF;

                 END LOOP;

                 IF TG_OP = 'INSERT' OR TG_OP = 'UPDATE'
                 THEN
                     RETURN NEW;
                 ELSE
                     RETURN OLD;
                 END IF;
             END;
             $body$ language plpgsql security definer;
             ]]>
             </change>
             <applicationversion>31400</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
             CREATE INDEX idx_acddegreeenroll_enrollid ON acdDegreeEnroll(enrollid);
             ]]>
             </change>
             <applicationversion>31400</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[     ALTER TABLE acdcurricularcomponentcategorycredit ALTER COLUMN credits TYPE double precision;]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
    ALTER TABLE basunit ADD COLUMN personid BIGINT REFERENCES baslegalperson(personid);]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
    ALTER TABLE res.preceptoria ADD COLUMN referencia boolean DEFAULT false;]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
    COMMENT ON COLUMN res.preceptoria.referencia IS 'Define que o preceptor é responsavel pela sua enfase';]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[  
    SELECT miolo_audit_upgrade('CREATE EXTENSION dblink');]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
    ALTER TABLE basconfig ADD validatevalue text;]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
    ALTER TABLE basunitconfig ADD validatevalue text;]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>7</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
    ALTER TABLE basconfig ADD validatemsg text;]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>8</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
    ALTER TABLE basunitconfig ADD validatemsg text;]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>9</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
    ALTER TABLE acccostcenter ADD active boolean default true;]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>10</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE acpCurso ALTER COLUMN percentualmultadesistencia TYPE numeric(5,2);]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>11</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE acpmovimentoinscricao ALTER COLUMN ofertaturmaid DROP NOT NULL; ]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>12</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ SELECT miolo_audit_upgrade('CREATE INDEX idx_miolo_audit_detail_is_pkey ON miolo_audit_detail(is_pkey)');]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT miolo_audit_upgrade('CREATE INDEX idx_miolo_audit_detail_original_value ON miolo_audit_detail(original_value)');]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acdmovementcontractcomplement ADD CONSTRAINT acdmovementcontractcomplement_contractid_fkey FOREIGN KEY (contractid,statecontractid,statetime) REFERENCES acdmovementcontract(contractid, statecontractid, statetime) ON UPDATE CASCADE ON DELETE CASCADE;]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
INSERT INTO finspeciestype (speciestypeid, description) VALUES (4, 'Banco');]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE fin.bankmovement ALTER COLUMN fileid DROP NOT NULL;]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE basstickynote ADD pendencytype varchar(10);]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>6</orderchange>
        </item>
	    <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpPerfilCurso DROP COLUMN PermiteMatriculaPorGrupo;]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>13</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
            ALTER TABLE basDocumentType ADD COLUMN validaconteudo BOOLEAN NOT NULL DEFAULT TRUE;
            COMMENT ON COLUMN basDocumentType.validaconteudo IS 'Define se o conteúdo do documento deve ser único';
             ]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>14</orderchange>
        </item>
	<item>
             <change>
             <![CDATA[ 
	    ALTER TABLE acpocorrenciacurso DROP COLUMN datainativo;
             ]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>16</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE acpMatricula   ADD COLUMN Frequencia numeric(10,2);]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpInscricao   ADD COLUMN NotaFinal numeric(10,2);]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpInscricao   ADD COLUMN ConceitoFinal char(1);]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpInscricao   ADD COLUMN ParecerFinal text;]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpInscricaoTurmaGrupo   ADD COLUMN NotaFinal numeric(10,2);]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpInscricaoTurmaGrupo   ADD COLUMN ConceitoFinal char(1);]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpInscricaoTurmaGrupo   ADD COLUMN ParecerFinal text;]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>7</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpAvaliacao   ADD COLUMN Conceito char(1);]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>8</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ alter table acdmovementcontractcomplement drop CONSTRAINT acdmovementcontractcomplement_contractid_fkey;]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[  
alter table acdmovementcontractcomplement ADD CONSTRAINT acdmovementcontractcomplement_contractid_fkey FOREIGN KEY(contractid, statecontractid, statetime) REFERENCES acdmovementcontract(contractid, statecontractid, statetime) ON UPDATE CASCADE ON DELETE CASCADE;]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[  
UPDATE acpCurso SET situacao = 'A' WHERE situacao IS NULL;]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[  
ALTER TABLE acpCurso ALTER COLUMN situacao SET NOT NULL;]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ CREATE TABLE finBankMovementNotFound(
             bankMovementNotFoundId SERIAL PRIMARY KEY,
             fileDiscount NUMERIC,
             fileInterestFine NUMERIC,
             otherDiscounts NUMERIC,
             otherAdditions NUMERIC,
             expenditure NUMERIC,
             value NUMERIC,
             valuePaid NUMERIC,
             ourNumber VARCHAR(255),
             branch VARCHAR(255),
             branchNumber VARCHAR(255),
             wallet VARCHAR(255),
             occurrenceDate VARCHAR(255),
             creditDate VARCHAR(255),
             fileMaturityDate VARCHAR(255),
             bankId INT,
             fileId INT,
             occurrence VARCHAR(255),
             bankReturnId INT,
             discountValue NUMERIC,
             convenantValue NUMERIC,
             interestValue NUMERIC,
             fineValue NUMERIC,
             balance NUMERIC,
             balanceWithPolicies NUMERIC,
             statusId INT
) INHERITS (baslog);]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX idx_finbankmovementnotfound_id ON finbankmovementnotfound(bankmovementnotfoundid);]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX idx_finbankmovementnotfound_ournumber ON finbankmovementnotfound(ournumber);]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX idx_finbankmovementnotfound_datetime ON finbankmovementnotfound(datetime);]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE fininvoice ADD COLUMN competencydate DATE;]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN fininvoice.competencydate IS 'Recebe a mesma data de referência de vencimento, porém é inalterada.';]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdenroll ADD COLUMN examiningboard DATE;]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>7</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN acdenroll.examiningboard IS 'Data da banca examinadora';]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>8</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ CREATE INDEX idx_basaccess_datetime ON basaccess (datetime);]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
UPDATE basconfig SET value = 'baslog,miolo_access,miolo_audit,miolo_audit_detail,miolo_transaction,dbchanges,temp_bank_movement,temp_bank_movement_entries,basaccess,tabelareferenciada' WHERE parameter = 'TABELAS_QUE_NAO_PODEM_SER_AUDITADAS';]]>
             </change>
             <applicationversion>31201</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ UPDATE basphysicalpersonprofessor SET situacao = 1 WHERE situacao is null;]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
UPDATE basconfig SET value = 'baslog,miolo_access,miolo_audit,miolo_audit_detail,miolo_transaction,dbchanges,temp_bank_movement,temp_bank_movement_entries,basaccess,tabelareferenciada' WHERE parameter = 'TABELAS_QUE_NAO_PODEM_SER_AUDITADAS';]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE spr.subscriptionsubstitutescall ADD COLUMN username varchar(20) DEFAULT "current_user"();]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE spr.subscriptionsubstitutescall ADD COLUMN datetime timestamp with time zone DEFAULT now();]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE spr.subscriptionsubstitutescall ADD COLUMN ipaddress inet;]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE spr.subscriptionsubstitutescall INHERIT baslog;]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE spr.substitutescall ADD COLUMN username varchar(20) DEFAULT "current_user"();]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>7</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE spr.substitutescall ADD COLUMN datetime timestamp with time zone DEFAULT now();]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>8</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE spr.substitutescall ADD COLUMN ipaddress inet;]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>9</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE spr.substitutescall INHERIT baslog;]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>10</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN rcccontato.contatoid IS 'Contato';]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>11</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN rcccontato.rcccontatocontatoid IS 'Contato originário';]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>12</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acdgroup add column creationdate date default now();]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>13</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE temp_bank_movement_entries ADD COLUMN tempbankmovementid INTEGER;]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>14</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdConcept ADD COLUMN subtitle VARCHAR

;]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>15</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE finprice ADD COLUMN parceltype char(1) DEFAULT 'C';]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[
ALTER TABLE acpInscricao DROP CONSTRAINT FKacpInscric481362;
ALTER TABLE acpInscricao ADD CONSTRAINT FKacpInscric481362 FOREIGN KEY (personId) REFERENCES basPhysicalPerson (personId);]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[
ALTER TABLE acpinscricaoturmagrupo add unitid int4;
ALTER TABLE acpinscricaoturmagrupo ADD CONSTRAINT multiunidade032fk FOREIGN KEY (unitid) REFERENCES basunit(unitid);
]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
            UPDATE basphysicalpersonprofessor SET situacao = 1 WHERE situacao is null;]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
                UPDATE basconfig SET value = 'baslog,miolo_access,miolo_audit,miolo_audit_detail,miolo_transaction,dbchanges,temp_bank_movement,temp_bank_movement_entries,basaccess,tabelareferenciada' WHERE parameter = 'TABELAS_QUE_NAO_PODEM_SER_AUDITADAS';
             ]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
            ALTER TABLE spr.subscriptionsubstitutescall ADD COLUMN username varchar(20) DEFAULT "current_user"();]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
            ALTER TABLE spr.subscriptionsubstitutescall ADD COLUMN datetime timestamp with time zone DEFAULT now();]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
            ALTER TABLE spr.subscriptionsubstitutescall ADD COLUMN ipaddress inet;]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
            ALTER TABLE spr.subscriptionsubstitutescall INHERIT baslog;]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
            ALTER TABLE spr.substitutescall ADD COLUMN username varchar(20) DEFAULT "current_user"();]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>7</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
            ALTER TABLE spr.substitutescall ADD COLUMN datetime timestamp with time zone DEFAULT now();]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>8</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
            ALTER TABLE spr.substitutescall ADD COLUMN ipaddress inet;]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>9</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
            ALTER TABLE spr.substitutescall INHERIT baslog;]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>10</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
            COMMENT ON COLUMN rcccontato.contatoid IS 'Contato';]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>11</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
            COMMENT ON COLUMN rcccontato.rcccontatocontatoid IS 'Contato originário';]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>12</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
             alter table acdgroup add column creationdate date default now();]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>13</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
            ALTER TABLE temp_bank_movement_entries ADD COLUMN tempbankmovementid INTEGER;]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>14</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
                UPDATE basconfig SET value = 'baslog,miolo_access,miolo_audit,miolo_audit_detail,miolo_transaction,dbchanges,temp_bank_movement,temp_bank_movement_entries,basaccess,tabelareferenciada,ava_opcoes_questoes' WHERE parameter = 'TABELAS_QUE_NAO_PODEM_SER_AUDITADAS';]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>15</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
                DROP TRIGGER IF EXISTS maudit_public_ava_opcoes_questoes ON ava_opcoes_questoes;]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>16</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
                CREATE INDEX audit_id_idx ON miolo_audit(audit_id);]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>17</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
                CREATE INDEX action_timestamp_utc_idx ON miolo_audit(action_timestamp_utc);]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>18</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
            CREATE INDEX table_name_idx ON miolo_audit(table_name);]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>19</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
            CREATE INDEX user_name_idx ON miolo_audit(user_name);]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>20</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
            CREATE INDEX audit_id_detail_idx ON miolo_audit_detail(audit_id);]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>21</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
                ALTER TABLE bas.systemtask ADD COLUMN observation TEXT;]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>22</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
            ALTER TABLE acpcomponentecurricular ALTER conteudo TYPE TEXT;
            ]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>23</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
            ALTER TABLE ava_granularidade ADD COLUMN tipo_granularidade int;
             ]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create table baspersonemployeecenter (
    personemployeecenterid serial primary key,
    personid integer REFERENCES basphysicalpersonemployee (personid),
    centerid integer REFERENCES acdcenter (centerid)
)  INHERITS(baslog);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acpcurso add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acdacademiccalendarevent add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acdcertified add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acdclasspupil add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acdcomplementaryactivities add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acdcomplementaryactivitiescategoryrules add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>7</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acdcomplementaryenroll add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>8</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acdcondition add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>9</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acdcontract add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>10</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acdcontractexaminingboard add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>11</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acdcourseability add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>12</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acdcoursecoordinator add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>13</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acdcourseoccurrence add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>14</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acdcourseparent add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>15</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acdcourseversion add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>16</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acdcurricularcomponentunblock add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>17</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acdcurriculum add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>18</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acdcurriculumlink add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>19</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acddegree add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>20</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acddegreecurricularcomponentgroup add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>21</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acddegreeenroll add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>22</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acddiploma add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>23</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acdenroll add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>24</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acdenrollbookdata add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>25</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acdenrollconfig add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>26</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acdenrollconfirm add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>27</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acdenrollsummary add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>28</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acdevaluationenroll add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>29</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acdexamdate add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>30</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acdexploitation add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>31</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acdfinalexaminationdirectors add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>32</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acdfinalexaminationexaminingboard add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>33</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acdfinalexaminationknowledgearea add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>34</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acdfrequenceenroll add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>35</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acdgroup add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>36</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acdinterchange add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>37</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acdlearningperiod add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>38</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acdmessagecontractrenewal add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>39</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acdmovementcontract add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>40</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acdmovementcontractcomplement add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>41</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acdperiodenrolldate add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>42</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acdreconhecimentodecurso add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>43</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acdregimedomiciliar add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>44</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acdrestricteddocuments add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>45</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acdsemestercontractperiod add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>46</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acdtestendcoursecontract add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>47</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acdtrainingdetail add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>48</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acompanhamentodedisciplina add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>49</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acpatoregulatorio add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>50</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acpavaliacao add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>51</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acpcamposadicionaiscurso add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>52</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acpcomponentecurricular add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>53</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acpcoordenadores add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>54</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acpfrequencia add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>55</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acpinscricao add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>56</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acpinscricaoturmagrupo add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>57</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acpmatricula add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>58</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acpmatrizcurricular add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>59</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acpmatrizcurriculargrupo add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>60</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acpocorrenciacurso add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>61</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acpofertacurso add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>62</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acpofertaturma add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>63</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table spr.optioncourse add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>64</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table prcprecocurso add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>65</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table prctituloinscricao add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>66</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table prtmensagemdestinatario add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>67</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table ptcrequest add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>68</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table res.cargahorariacomplementar add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>69</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table res.coorientador add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>70</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table res.enfase add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>71</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table res.enfasedaunidadetematica add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>72</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table res.frequencia add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>73</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table res.membrodabanca add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>74</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table res.ocorrenciadecontrato add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>75</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table res.ocorrenciadeoferta add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>76</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table res.ofertadoresidente add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>77</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table res.participacaoematividadeextra add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>78</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table res.preceptoria add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>79</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table res.residente add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>80</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table res.trabalhodeconclusao add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>81</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table spr.optionnucleoenfase add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>82</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdacademiccalendarevent ADD CONSTRAINT centeridfk_03 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>84</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdacademiccalendarevent ADD CONSTRAINT centeridfk_04 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>85</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdcertified ADD CONSTRAINT centeridfk_05 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>86</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdclasspupil ADD CONSTRAINT centeridfk_06 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>87</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdcomplementaryactivities ADD CONSTRAINT centeridfk_07 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>88</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdcomplementaryactivitiescategoryrules ADD CONSTRAINT centeridfk_08 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>89</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdcomplementaryenroll ADD CONSTRAINT centeridfk_09 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>90</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdcondition ADD CONSTRAINT centeridfk_10 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>91</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdcontract ADD CONSTRAINT centeridfk_11 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>92</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdcontractexaminingboard ADD CONSTRAINT centeridfk_12 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>93</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdcourse ADD CONSTRAINT centeridfk_13 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>94</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdcourseability ADD CONSTRAINT centeridfk_14 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>95</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdcoursecoordinator ADD CONSTRAINT centeridfk_15 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>96</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdcourseoccurrence ADD CONSTRAINT centeridfk_16 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>97</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdcourseparent ADD CONSTRAINT centeridfk_17 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>98</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdcourseversion ADD CONSTRAINT centeridfk_18 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>99</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdcurricularcomponentunblock ADD CONSTRAINT centeridfk_19 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>100</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdcurriculum ADD CONSTRAINT centeridfk_20 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>101</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdcurriculumlink ADD CONSTRAINT centeridfk_21 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>102</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acddegree ADD CONSTRAINT centeridfk_22 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>103</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acddegreecurricularcomponentgroup ADD CONSTRAINT centeridfk_23 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>104</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acddegreeenroll ADD CONSTRAINT centeridfk_24 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>105</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acddiploma ADD CONSTRAINT centeridfk_25 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>106</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdenroll ADD CONSTRAINT centeridfk_26 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>107</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdenrollbookdata ADD CONSTRAINT centeridfk_27 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>108</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdenrollconfig ADD CONSTRAINT centeridfk_28 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>109</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdenrollconfirm ADD CONSTRAINT centeridfk_29 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>110</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdenrollsummary ADD CONSTRAINT centeridfk_30 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>111</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdevaluationenroll ADD CONSTRAINT centeridfk_31 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>112</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdexamdate ADD CONSTRAINT centeridfk_32 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>113</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdexploitation ADD CONSTRAINT centeridfk_33 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>114</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdfinalexaminationdirectors ADD CONSTRAINT centeridfk_34 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>115</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdfinalexaminationexaminingboard ADD CONSTRAINT centeridfk_35 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>116</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdfinalexaminationknowledgearea ADD CONSTRAINT centeridfk_36 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>117</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdfrequenceenroll ADD CONSTRAINT centeridfk_37 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>118</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdgroup ADD CONSTRAINT centeridfk_38 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>119</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdinterchange ADD CONSTRAINT centeridfk_39 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>120</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdlearningperiod ADD CONSTRAINT centeridfk_40 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>121</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdmessagecontractrenewal ADD CONSTRAINT centeridfk_41 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>122</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdmovementcontract ADD CONSTRAINT centeridfk_42 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>123</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdmovementcontractcomplement ADD CONSTRAINT centeridfk_43 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>124</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdperiodenrolldate ADD CONSTRAINT centeridfk_44 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>125</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdreconhecimentodecurso ADD CONSTRAINT centeridfk_45 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>126</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdregimedomiciliar ADD CONSTRAINT centeridfk_46 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>127</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdrestricteddocuments ADD CONSTRAINT centeridfk_47 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>128</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdsemestercontractperiod ADD CONSTRAINT centeridfk_48 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>129</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdtestendcoursecontract ADD CONSTRAINT centeridfk_49 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>130</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdtrainingdetail ADD CONSTRAINT centeridfk_50 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>131</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acompanhamentodedisciplina ADD CONSTRAINT centeridfk_51 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>132</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpatoregulatorio ADD CONSTRAINT centeridfk_52 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>133</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpavaliacao ADD CONSTRAINT centeridfk_53 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>134</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpcamposadicionaiscurso ADD CONSTRAINT centeridfk_54 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>135</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpcomponentecurricular ADD CONSTRAINT centeridfk_55 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>136</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpcoordenadores ADD CONSTRAINT centeridfk_56 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>137</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpcoordenadores  ADD CONSTRAINT centeridfk_57 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>138</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpcurso ADD CONSTRAINT centeridfk_58 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>139</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpfrequencia ADD CONSTRAINT centeridfk_59 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>140</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpinscricao ADD CONSTRAINT centeridfk_60 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>141</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpinscricaoturmagrupo ADD CONSTRAINT centeridfk_61 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>142</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpmatricula ADD CONSTRAINT centeridfk_62 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>143</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpmatrizcurricular ADD CONSTRAINT centeridfk_63 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>144</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpmatrizcurriculargrupo ADD CONSTRAINT centeridfk_64 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>145</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpocorrenciacurso ADD CONSTRAINT centeridfk_65 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>146</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpofertacurso ADD CONSTRAINT centeridfk_66 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>147</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpofertaturma ADD CONSTRAINT centeridfk_67 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>148</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE prcprecocurso ADD CONSTRAINT centeridfk_72 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>149</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE prctituloinscricao ADD CONSTRAINT centeridfk_73 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>150</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE prtmensagemdestinatario ADD CONSTRAINT centeridfk_74 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>151</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE ptcrequest ADD CONSTRAINT centeridfk_75 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>152</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE res.cargahorariacomplementar ADD CONSTRAINT centeridfk_78 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>153</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE res.coorientador ADD CONSTRAINT centeridfk_79 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>154</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE res.enfase ADD CONSTRAINT centeridfk_80 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>155</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE res.enfasedaunidadetematica ADD CONSTRAINT centeridfk_81 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>156</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE res.frequencia ADD CONSTRAINT centeridfk_82 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>157</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE res.membrodabanca ADD CONSTRAINT centeridfk_83 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>158</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE res.ocorrenciadecontrato ADD CONSTRAINT centeridfk_84 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>159</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE res.ocorrenciadeoferta ADD CONSTRAINT centeridfk_85 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>160</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE res.ofertadoresidente ADD CONSTRAINT centeridfk_86 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>161</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE res.participacaoematividadeextra ADD CONSTRAINT centeridfk_87 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>162</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE res.preceptoria ADD CONSTRAINT centeridfk_88 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>163</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE res.residente ADD CONSTRAINT centeridfk_89 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>164</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE res.trabalhodeconclusao ADD CONSTRAINT centeridfk_90 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>165</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE spr.optionnucleoenfase ADD CONSTRAINT centeridfk_91 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>166</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[ 
CREATE TABLE ava_questoes_opcoes(
	    id_questoes_opcoes serial not null,
        ref_questoes INTEGER NOT NULL,
    	codigo VARCHAR(255) NOT NULL,
	    descricao VARCHAR(255) NOT NULL,
	    legenda text,
        opcao_descritiva boolean default false NOT NULL
);

ALTER TABLE ava_questoes_opcoes ADD CONSTRAINT ava_questoes_opcoes_pkey PRIMARY KEY (id_questoes_opcoes);
ALTER TABLE ava_questoes_opcoes ADD constraint ava_opcoes_questoes_ref_questoes_fkey foreign key (ref_questoes) references ava_questoes (id_questoes);
             ]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>167</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[ 
update ava_granularidade set tipo_granularidade = 1 WHERE id_granularidade < 100;
             ]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>168</orderchange>
        </item> 
         <item>
             <change>
             <![CDATA[ 
ALTER TABLE bassessao ADD centerids int[];
             ]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>169</orderchange>
        </item> 
        <item>
             <change>
             <![CDATA[     alter table ava_opcoes_questoes alter COLUMN opcao type text;]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ alter table AcpComponenteCurricularDisciplina add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>170</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE AcpComponenteCurricularDisciplina ADD CONSTRAINT centeridfk_100 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>171</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table AcpComponenteCurricularTrabalhoConclusao add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>172</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE AcpComponenteCurricularTrabalhoConclusao ADD CONSTRAINT centeridfk_101 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>173</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table AcpCursoDocente add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>174</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE AcpCursoDocente ADD CONSTRAINT centeridfk_102 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>175</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acpocorrenciahorariooferta add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>176</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpocorrenciahorariooferta ADD CONSTRAINT centeridfk_103 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>177</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table AcpOfertaComponenteCurricular add centerid int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>178</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE AcpOfertaComponenteCurricular ADD CONSTRAINT centeridfk_104 FOREIGN KEY (centerid) REFERENCES acdcenter (centerid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>179</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
    alter table acpcurso add centeridold int;
    alter table acdcourse add centeridold int;
]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>180</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpOfertaTurma RENAME COLUMN situacao TO habilitada;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpOfertaTurma ADD COLUMN situacao CHAR(1) DEFAULT 'A'; ]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
DROP TRIGGER IF EXISTS trg_insere_nosso_numero ON fininvoice; ]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acpmatricula drop COLUMN conceitofinal cascade; 
alter table acpmatricula add COLUMN conceitofinal char(2);
]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ alter table spr.selectiveprocess add permiteclassificarenem boolean default 'f';]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>181</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table spr.selectiveprocess add anosenemvalidos integer[];]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>182</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table spr.subscription add inscricaoenem varchar(12);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>183</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table spr.subscription add anoenem varchar(4);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>184</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table spr.subscription add senhaenem varchar(30);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>185</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table spr.step add notasenem boolean default false;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>186</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table spr.evaluationpoints add totalpointsenem real;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>187</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table spr.subscription add classificadopeloenem bool default false;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>188</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ CREATE TABLE acpDocumentoPerfilCurso (
  DocumentoPerfilCursoID    SERIAL NOT NULL, 
  fileId                   int4, 
  perfilCursoId int4, 
  Descricao                text, 
  PRIMARY KEY (DocumentoPerfilCursoID));]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>200</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpDocumentoPerfilCurso ADD CONSTRAINT FKacpDocumen156673 FOREIGN KEY (fileId) REFERENCES basFile (fileId);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>201</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpDocumentoPerfilCurso ADD CONSTRAINT FKacpDocumen715592 FOREIGN KEY (perfilCursoId) REFERENCES acpPerfilCurso (perfilCursoId);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>202</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ CREATE TABLE prcCentroCustoOcorrenciaCurso (
  CentroCustoOcorrenciaCursoId  SERIAL NOT NULL, 
  ocorrenciaCursoId            int4 NOT NULL, 
  costCenterId                 varchar(30) NOT NULL, 
  PRIMARY KEY (CentroCustoOcorrenciaCursoId));]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>201</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE prcCentroCustoOcorrenciaCurso ADD CONSTRAINT FKprcCentroC539847 FOREIGN KEY (costCenterId) REFERENCES accCostCenter (costCenterId);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>202</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE prcCentroCustoOcorrenciaCurso ADD CONSTRAINT FKprcCentroC591205 FOREIGN KEY (ocorrenciaCursoId) REFERENCES acpOcorrenciaCurso (ocorrenciaCursoId);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>203</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
UPDATE ava_servico SET descricao = '[NÃO UTILIZAR MAIS] - ' || descricao WHERE id_servico < 100;
             ]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>204</orderchange>
        </item> 
        <item>
             <change>
             <![CDATA[
UPDATE ava_granularidade SET descricao = '[NÃO UTILIZAR MAIS] - ' || descricao WHERE id_granularidade < 100;
             ]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>205</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE prcCentroCustoOcorrenciaCurso ADD COLUMN username VARCHAR(20);
        ALTER TABLE prcCentroCustoOcorrenciaCurso ADD COLUMN datetime TIMESTAMP WITH TIME ZONE DEFAULT NOW();
        ALTER TABLE prcCentroCustoOcorrenciaCurso ADD COLUMN ipaddress inet;
        ALTER TABLE prcCentroCustoOcorrenciaCurso INHERIT baslog;
;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>204</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        create unique INDEX ocorrenciacursoid_costcenterid on prccentrocustoocorrenciacurso(ocorrenciacursoid, costcenterid);
;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>204</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        alter table accaccountscheme add codigoestrutural varchar(30);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>204</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        update accaccountscheme set codigoestrutural=accountschemeid;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>205</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        CREATE EXTENSION tablefunc;
          ]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>206</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
        ALTER TABLE finentry ADD COLUMN accountschemeid VARCHAR(30) REFERENCES accaccountscheme(accountschemeid);
          ]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>208</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[
INSERT INTO accaccountscheme (accountschemeid, description, incomeorexpense, parentaccountschemeid, codigoestrutural)
VALUES ('9', 'PLANO DE CONTAS POR OPERAÇÃO', 'I', NULL, '9');
          ]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>209</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
DROP SEQUENCE IF EXISTS seq_accaccountscheme_operation;
CREATE SEQUENCE seq_accaccountscheme_operation;
DROP SEQUENCE IF EXISTS seq_accaccountscheme_operation2;
CREATE SEQUENCE seq_accaccountscheme_operation2;
          ]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>210</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
INSERT INTO accaccountscheme (accountschemeid, description, incomeorexpense, parentaccountschemeid, codigoestrutural)
SELECT '9.'||( nextval('seq_accaccountscheme_operation')), description, 'I', '9', '9.'||( nextval('seq_accaccountscheme_operation2'))
       FROM finoperation WHERE accountschemeid IS NULL;
          ]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>211</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
UPDATE finoperation SET accountschemeid = accaccountscheme.accountschemeid
       FROM accaccountscheme WHERE UPPER(accaccountscheme.description) LIKE UPPER(finoperation.description);
          ]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>212</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE capsolicitacao ADD CONSTRAINT solicitacao_fornecedor FOREIGN KEY (fornecedorid) REFERENCES basperson(personid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE capsolicitacao DROP CONSTRAINT capsolicitacao_fornecedorid_fkey;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE TABLE acdTransferencia(
    transferenciaId SERIAL PRIMARY KEY,
    contratoDeOrigemId INT REFERENCES acdContract(contractId),
    contratoDeDestinoId INT REFERENCES acdContract(contractId),
    turmaDeOrigemId VARCHAR REFERENCES acdClass(classId),
    periodoId VARCHAR REFERENCES acdPeriod(periodId),
    turmaDeDestinoId VARCHAR REFERENCES acdClass(classId),
    motivoId INT REFERENCES acdReason(reasonId),
    aproveitouDisciplinasEncerradas BOOLEAN DEFAULT FALSE,
    aproveitouDisciplinasMatriculadas BOOLEAN DEFAULT FALSE,
    aproveitouNotasDeMatriculas BOOLEAN DEFAULT FALSE,
    aproveitouFrequenciasDeMatriculas BOOLEAN DEFAULT FALSE,
    aproveitouComunsEntreCursos BOOLEAN DEFAULT FALSE,
    aproveitouVinculosEntreCursos BOOLEAN DEFAULT FALSE,
    logsProcessoDeTransferencia TEXT
) INHERITS (basLog);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE finBankAccount ADD COLUMN accountSchemeId VARCHAR(30) REFERENCES accAccountScheme(accountSchemeId);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE finCounter ADD COLUMN accountSchemeId VARCHAR(30) REFERENCES accAccountScheme(accountSchemeId);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE capSolicitacao ADD COLUMN accountSchemeId VARCHAR(30) REFERENCES accAccountScheme(accountSchemeId);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE capLancamento ADD COLUMN accountSchemeId VARCHAR(30) REFERENCES accAccountScheme(accountSchemeId);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>7</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE capLancamento ADD COLUMN costCenterId VARCHAR(30) REFERENCES accCostCenter(costCenterId);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>8</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN caplancamento.accountschemeid IS 'Plano de contas';]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>9</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN caplancamento.costcenterid IS 'Centro de custo';]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>10</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE TABLE finLancamentoSemVinculo (
    lancamentoSemVinculoId SERIAL PRIMARY KEY,
    operationId INT REFERENCES finOperation(operationId) NOT NULL,
    accountSchemeId VARCHAR(30) REFERENCES accAccountScheme(accountSchemeId),
    tipoDeMovimentacao CHAR NOT NULL,
    openCounterId INT REFERENCES finOpenCounter(openCounterId),
    bankAccountId INT REFERENCES finBankAccount(bankAccountId),
    specieId INT REFERENCES finSpecies(speciesId) NOT NULL,
    valor NUMERIC(14,4) NOT NULL,
    costCenterId VARCHAR(30) REFERENCES accCostCenter(costCenterId) NOT NULL,
    contraPartidaId VARCHAR(30) REFERENCES accAccountScheme(accountSchemeId) NOT NULL,
    dataDeCompetencia DATE NOT NULL DEFAULT NOW(),
    dataDeCaixa DATE NOT NULL DEFAULT NOW(),
    obs TEXT
) INHERITS (basLog);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>11</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE TABLE finMovimentacaoDoLancamentoSemVinculo (
    movimentacaoDoLancamentoSemVinculoId SERIAL PRIMARY KEY,
    lancamentoSemVinculoId INT REFERENCES finLancamentoSemVinculo(lancamentoSemVinculoId) NOT NULL,
    counterMovementId INT REFERENCES finCounterMovement(counterMovementId),
    bankMovementId INT REFERENCES fin.bankMovement(bankMovementId)
) INHERITS (basLog);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>12</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE acpDocumentoPerfilCurso   ADD COLUMN TiposDocumentosPerfilCursoID int4;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>250</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE TABLE acpTiposDocumentosPerfilCurso (
  TiposDocumentosPerfilCursoId  SERIAL NOT NULL, 
  Descricao                    text NOT NULL, 
  PRIMARY KEY (TiposDocumentosPerfilCursoId))  INHERITS (basLog);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>251</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpDocumentoPerfilCurso ADD CONSTRAINT FKacpDocumen23917 FOREIGN KEY (fileId) REFERENCES basFile (Fileid);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>252</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpDocumentoPerfilCurso ADD CONSTRAINT FKacpDocumen183287 FOREIGN KEY (perfilCursoId) REFERENCES acpPerfilCurso (perfilCursoId);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>253</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpDocumentoPerfilCurso ADD CONSTRAINT FKacpDocumen284522 FOREIGN KEY (TiposDocumentosPerfilCursoID) REFERENCES acpTiposDocumentosPerfilCurso (TiposDocumentosPerfilCursoId);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>254</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpDocumentoPerfilCurso ADD CONSTRAINT FKacpDocumen284522 FOREIGN KEY (TiposDocumentosPerfilCursoID) REFERENCES acpTiposDocumentosPerfilCurso (TiposDocumentosPerfilCursoId);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>254</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ update ava_config set valor = 'AVINST' WHERE chave = 'DB_TRANSACTION_ROOT';]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>254</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

DELETE FROM miolo_group WHERE m_group ILIKE '%AVINST_ADMINISTRATOR%';]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>255</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
INSERT INTO miolo_group (idgroup, m_group, idmodule) VALUES ((SELECT max(idgroup) +1 FROM miolo_group), 'AVINST_ADMINISTRATOR', 'avinst');]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>256</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

DELETE FROM miolo_transaction WHERE m_transaction ILIKE '%AVINST_ADMINISTRATOR%';]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>257</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
DELETE FROM miolo_access WHERE idtransaction IN (select idtransaction from miolo_transaction where m_transaction ilike 'AVINST');]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>258</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

INSERT INTO miolo_access SELECT (SELECT idgroup FROM miolo_group WHERE m_group = 'AVINST_ADMINISTRATOR') as idgroup, (SELECT idtransaction FROM miolo_transaction WHERE m_transaction ilike 'AVINST') as idtransaction, 1 as rights, null as validatefunction;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>259</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

INSERT INTO miolo_access SELECT (SELECT idgroup FROM miolo_group WHERE m_group = 'AVINST_ADMINISTRATOR') as idgroup, (SELECT idtransaction FROM miolo_transaction WHERE m_transaction ilike 'AVINST') as idtransaction, 2 as rights, null as validatefunction;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>260</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

INSERT INTO miolo_access SELECT (SELECT idgroup FROM miolo_group WHERE m_group = 'AVINST_ADMINISTRATOR') as idgroup, (SELECT idtransaction FROM miolo_transaction WHERE m_transaction ilike 'AVINST') as idtransaction, 3 as rights, null as validatefunction;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>261</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

INSERT INTO miolo_access SELECT (SELECT idgroup FROM miolo_group WHERE m_group = 'AVINST_ADMINISTRATOR') as idgroup, (SELECT idtransaction FROM miolo_transaction WHERE m_transaction ilike 'AVINST') as idtransaction, 5 as rights, null as validatefunction;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>262</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

INSERT INTO miolo_access SELECT (SELECT idgroup FROM miolo_group WHERE m_group = 'AVINST_ADMINISTRATOR') as idgroup, (SELECT idtransaction FROM miolo_transaction WHERE m_transaction ilike 'AVINST') as idtransaction, 31 as rights, null as validatefunction;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>263</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

INSERT INTO miolo_access SELECT (SELECT idgroup FROM miolo_group WHERE m_group ilike 'ADMIN') as idgroup, (SELECT idtransaction FROM miolo_transaction WHERE m_transaction ilike 'AVINST') as idtransaction, 1 as rights, null as validatefunction;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>264</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

INSERT INTO miolo_access SELECT (SELECT idgroup FROM miolo_group WHERE m_group ilike 'ADMIN') as idgroup, (SELECT idtransaction FROM miolo_transaction WHERE m_transaction ilike 'AVINST') as idtransaction, 2 as rights, null as validatefunction;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>265</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

INSERT INTO miolo_access SELECT (SELECT idgroup FROM miolo_group WHERE m_group ilike 'ADMIN') as idgroup, (SELECT idtransaction FROM miolo_transaction WHERE m_transaction ilike 'AVINST') as idtransaction, 3 as rights, null as validatefunction;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>266</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

INSERT INTO miolo_access SELECT (SELECT idgroup FROM miolo_group WHERE m_group ilike 'ADMIN') as idgroup, (SELECT idtransaction FROM miolo_transaction WHERE m_transaction ilike 'AVINST') as idtransaction, 5 as rights, null as validatefunction;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>267</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
INSERT INTO miolo_access SELECT (SELECT idgroup FROM miolo_group WHERE m_group ilike 'ADMIN') as idgroup, (SELECT idtransaction FROM miolo_transaction WHERE m_transaction ilike 'AVINST') as idtransaction, 31 as rights, null as validatefunction;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>268</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>269</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE acpPerfilCurso   ADD COLUMN PermiteRegistrarFrequenciaPortal bool NOT NULL;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>300</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpPerfilCurso   ADD COLUMN PermiteRegistrarFrequenciaBiometria bool NOT NULL;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>301</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpPerfilCurso   ADD COLUMN LimiteTempoRegistroBiometria text;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>302</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpPerfilCurso   ADD COLUMN AcaoRegistroParcial char(1);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>303</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpPerfilCurso   ADD COLUMN JustificativaRegistroParcial text;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>304</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acpcomponentecurricularbibliografia alter COLUMN descricao type text;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>305</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE spr.subscriptionstepinfo ADD column totalpointsstepenem double precision;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>305</orderchange>
        </item>
	<item>
             <change>
             <![CDATA[ 
alter table spr.subscription drop classificadopeloenem; ]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table spr.subscriptionOption add classificadopeloenem bool default false; ]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
<![CDATA[ ALTER TABLE acpPerfilCurso ADD COLUMN PermiteRegistrarFrequenciaPortal bool NOT NULL DEFAULT true;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpPerfilCurso ADD COLUMN PermiteRegistrarFrequenciaBiometria bool NOT NULL DEFAULT false;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpPerfilCurso ADD COLUMN LimiteTempoRegistroBiometria text;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpPerfilCurso ADD COLUMN AcaoRegistroParcial char(1);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpPerfilCurso ADD COLUMN JustificativaRegistroParcial text;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
            CREATE TABLE finresumomatricula(
             resumomatriculaid SERIAL PRIMARY KEY,
             contractid INTEGER NOT NULL REFERENCES acdcontract(contractid),
             learningperiodid INTEGER NOT NULL REFERENCES acdlearningperiod(learningperiodid)
            ) INHERITS (baslog);
             ]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
            CREATE TABLE finresumomatriculalog(
             resumomatriculalogid SERIAL PRIMARY KEY,
             resumomatriculaid INTEGER NOT NULL REFERENCES finresumomatricula(resumomatriculaid),
             datahora TIMESTAMP,
             detalhe TEXT NOT NULL,
             categoria VARCHAR NOT NULL,
             usuario VARCHAR NOT NULL,
             transacao INTEGER NOT NULL
            ) INHERITS (baslog);
             ]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE fin.bankmovement ALTER COLUMN ournumber DROP NOT NULL;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
            ALTER TABLE acdevaluation ADD COLUMN podedigitar CHAR(1) DEFAULT 'T';]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
            ALTER TABLE acdenroll ADD COLUMN originenroll CHAR(1);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
            UPDATE pg_attribute set atttypmod = 255+4 WHERE attrelid = 'basdocument'::regclass and attname = 'organ';]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
             ALTER TABLE basphysicalperson ADD pis varchar(12);
             ]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
DROP TRIGGER IF EXISTS trg_codigopessoa_pis ON basphysicalperson;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>301</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE TRIGGER trg_codigopessoa_pis 
        AFTER INSERT
        ON basphysicalperson 
        FOR EACH ROW 
        EXECUTE PROCEDURE codigopessoa_pis();]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>302</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE OR REPLACE FUNCTION codigopessoa_pis_(numeric) returns varchar as $$
DECLARE
    pis varchar(12);
    dv1 numeric;
    dv numeric;
BEGIN
    pis:=lpad($1::text,10,'0'::text);
                 
    dv1:=11-mod((substr(pis, 1, 1)::numeric*3+
                 substr(pis, 2, 1)::numeric*2+
                 substr(pis, 3, 1)::numeric*9+
                 substr(pis, 4, 1)::numeric*8+
                 substr(pis, 5, 1)::numeric*7+
                 substr(pis, 6, 1)::numeric*6+
                 substr(pis, 7, 1)::numeric*5+
                 substr(pis, 8, 1)::numeric*4+
                 substr(pis, 9, 1)::numeric*3+
                 substr(pis, 10, 1)::numeric*2),11);
   if dv1=10 then
      dv:=0;
   elseif dv1=11 then
      dv:=0;
   else
      dv:=dv1;
   end if;
   return lpad($1::text,11,'0'::text)||dv::varchar;
END;
$$ language plpgsql;
UPDATE basphysicalperson set pis=codigopessoa_pis_(personid);
   ]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>302</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[               
ALTER TABLE acpPerfilCurso ADD COLUMN LimiteTempoRegistroBiometria_ int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>303</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
UPDATE acpPerfilCurso set LimiteTempoRegistroBiometria_=LimiteTempoRegistroBiometria::int;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>304</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpPerfilCurso DROP COLUMN LimiteTempoRegistroBiometria;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>305</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpPerfilCurso RENAME COLUMN LimiteTempoRegistroBiometria_ TO LimiteTempoRegistroBiometria;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>306</orderchange>
        </item>        
        <item>
             <change>
             <![CDATA[ 
            CREATE TABLE basImportacaoFrequencias (
              importacaoFrequenciaId  SERIAL NOT NULL, 
              fileid          int4, 
              modulodestino          varchar(255), 
              data                   date NOT NULL, 
              datainicialregistros   date,
              datafinalregistros     date,
              datageracaoarquivo     date,
              horariogeracaoarquivo  time(7),
              PRIMARY KEY (importacaoFrequenciaId)) INHERITS (baslog);

            CREATE TABLE basImportacaoFrequenciasMovimentacao (
              importacaoFrequenciaMovimentacaoId  SERIAL NOT NULL, 
              ocorrenciaHorarioOfertaId          int4, 
              personId                           int4, 
              importacaoFrequenciaId             int4 NOT NULL, 
              data                               date NOT NULL, 
              hora                               time(7) NOT NULL, 
              frequencia                         char(1), 
              pis                                varchar(12),
              tipo                               char(1) NOT NULL,
              PRIMARY KEY (importacaoFrequenciaMovimentacaoId))  INHERITS (baslog);

            ALTER TABLE basImportacaoFrequencias ADD CONSTRAINT FKbasImporta366062 FOREIGN KEY (fileid) REFERENCES basFile (Fileid);
            ALTER TABLE basImportacaoFrequenciasMovimentacao ADD CONSTRAINT FKbasImporta34686 FOREIGN KEY (importacaoFrequenciaId) REFERENCES basImportacaoFrequencias (importacaoFrequenciaId);
            ALTER TABLE basImportacaoFrequenciasMovimentacao ADD CONSTRAINT FKbasImporta753573 FOREIGN KEY (personId) REFERENCES basPhysicalPerson (personId);
            ALTER TABLE basImportacaoFrequenciasMovimentacao ADD CONSTRAINT FKbasImporta561832 FOREIGN KEY (ocorrenciaHorarioOfertaId) REFERENCES acpOcorrenciaHorarioOferta (OcorrenciaHorarioOfertaId);

            ]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
UPDATE pg_attribute set atttypid = 1043 WHERE attrelid = 'basdocument'::regclass and attname = 'organ';
]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>306</orderchange>
        </item>       
        <item>
             <change>
             <![CDATA[
ALTER TABLE prcprecocurso DROP COLUMN costcenterid; 
]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>306</orderchange>
        </item>        
        <item>
             <change>
             <![CDATA[
ALTER TABLE prcprecocurso DROP COLUMN costcenterid CASCADE; 
]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>800</orderchange>
        </item>        
        <item>
             <change>
             <![CDATA[
DROP TRIGGER IF EXISTS valid_prcprecocurso ON prcprecocurso CASCADE;
]]>
             </change>
             <applicationversion>31501</applicationversion>
             <orderchange>801</orderchange>
        </item>        
        <item>
             <change>
             <![CDATA[ select setval('miolo_transaction_idtransaction_seq', (select max(idtransaction) from miolo_transaction));]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
DROP TRIGGER IF EXISTS maudit_public_basaccess ON basaccess;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE acdcourseoccurrence ADD COLUMN cursoBloqueado BOOLEAN DEFAULT 'f';]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[CREATE EXTENSION tablefunc;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[drop view if exists resultado_avaliacao cascade;
CREATE VIEW resultado_avaliacao AS (
 SELECT A.id_respostas, E.ref_avaliacao, G.nome as nome_avaliacao, E.id_formulario, E.nome as nome_formulario, E.ref_perfil, H.descricao as nome_perfil, D.id_bloco, D.nome as nome_bloco, F.id_granularidade, F.descricao as nome_granularidade, 
F.tipo_granularidade, C.id_questoes, C.descricao as nome_questoes, C.tipo, A.valor as resposta, I.descricao as nome_resposta, I.legenda as legenda_resposta, J.*
      FROM ava_respostas A
INNER JOIN ava_bloco_questoes B
        ON (A.ref_bloco_questoes = B.id_bloco_questoes)
INNER JOIN ava_questoes C
        ON (B.ref_questao = C.id_questoes)
INNER JOIN ava_bloco D
        ON (B.ref_bloco = D.id_bloco)
INNER JOIN ava_formulario E
        ON (D.ref_formulario = E.id_formulario)
INNER JOIN ava_granularidade F
        ON (F.id_granularidade = D.ref_granularidade)
INNER JOIN ava_avaliacao G
        ON (E.ref_avaliacao = G.id_avaliacao)
INNER JOIN ava_perfil H
        ON (E.ref_perfil = H.id_perfil)
LEFT JOIN ava_questoes_opcoes I
        ON (C.id_questoes = I.ref_questoes AND A.valor = I.codigo)
LEFT JOIN (
SELECT *
  FROM crosstab('SELECT ref_resposta, 
                        chave,
                        valor
                   FROM ava_atributos', 
               'SELECT unnest(ARRAY[''course_name'', ''ref_curso'', ''ref_unit'', ''ref_course'', ''person_maritalstatus_description'', ''groupid'', ''curricularcomponentversion'', ''ref_sector'', ''formation_level'', ''ref_group'', ''ref_curricular_component'', ''person_cityid'', ''person_employee_description'', ''ref_curriculum'', ''course'', ''turn'', ''course_centerid'', ''person_sex'', ''professor_name'', ''person_employee_typeid'', ''person_stateid'', ''person_state_description'', ''person_maritalstatusid'', ''totalenrolled'', ''person_weeklyhours'', ''person_city_description'', ''sector'', ''ref_turn'', ''curricular_component'', ''professorid'', ''ref_formation_level'', ''ref_curriculum_version'', ''course_center_description'', ''person_datebirth'', ''course_version'', ''person_specialnecessityid'', ''ref_unidade'', ''person_regimetrabalho'', ''unit'', ''ref_curricular_component_version'', ''person_specialnecessity_description'', ''ref_turno'', ''courseverion''])')
AS ct (ref_resposta int, course_name text, 
      ref_curso text, ref_unit text, ref_course text, 
      person_maritalstatus_description text, groupid text, 
      curricularcomponentversion text, ref_sector text, 
      formation_level text, ref_group text, ref_curricular_component text, 
      person_cityid text, person_employee_description text, ref_curriculum text, 
      course text, turn text, course_centerid text, person_sex text, professor_name text, 
      person_employee_typeid text, person_stateid text, person_state_description text, 
      person_maritalstatusid text, totalenrolled text, person_weeklyhours text, 
      person_city_description text, sector text, ref_turn text, 
      curricular_component text, professorid text, ref_formation_level text, 
      ref_curriculum_version text, course_center_description text, 
      person_datebirth text, course_version text, person_specialnecessityid text, 
      ref_unidade text, person_regimetrabalho text, unit text, ref_curricular_component_version text, 
      person_specialnecessity_description text, ref_turno text, courseverion text)) J

ON (A.id_respostas = J.ref_resposta));]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[drop view if exists resultado_avaliacao_para_relatorio;
CREATE OR REPLACE VIEW resultado_avaliacao_para_relatorio AS (
SELECT A.id_respostas, 
       A.ref_avaliacao, 
       A.nome_avaliacao, 
       A.id_formulario, 
       A.nome_formulario, 
       A.ref_perfil, 
       A.nome_perfil, 
       A.id_bloco, 
       A.nome_bloco, 
       A.id_granularidade, 
       A.nome_granularidade, 
       A.tipo_granularidade, 
       A.id_questoes, 
       A.nome_questoes, 
       A.tipo, 
       B.codigo,
       A.resposta,
       (CASE WHEN A.resposta = B.codigo THEN 1 ELSE 0 END) as "opcao_escolhida", 
       B.descricao, 
       COALESCE(B.legenda, B.descricao) as "legenda",
       A.ref_resposta, 
       A.course_name, 
       A.ref_curso, 
       A.ref_unit, 
       A.ref_course, 
       A.person_maritalstatus_description, 
       A.groupid, 
       A.curricularcomponentversion, 
       A.ref_sector, 
       A.formation_level, 
       A.ref_group, 
       A.ref_curricular_component, 
       A.person_cityid, 
       A.person_employee_description, 
       A.ref_curriculum, 
       A.course, 
       A.turn, 
       A.course_centerid, 
       A.person_sex, 
       A.professor_name, 
       A.person_employee_typeid, 
       A.person_stateid, 
       A.person_state_description, 
       A.person_maritalstatusid, 
       A.totalenrolled, 
       A.person_weeklyhours, 
       A.person_city_description, 
       A.sector, 
       A.ref_turn, 
       A.curricular_component, 
       A.professorid, 
       A.ref_formation_level, 
       A.ref_curriculum_version, 
       A.course_center_description, 
       A.person_datebirth, 
       A.course_version, 
       A.person_specialnecessityid, 
       A.ref_unidade, 
       A.person_regimetrabalho, 
       A.unit, 
       A.ref_curricular_component_version, 
       A.person_specialnecessity_description, 
       A.ref_turno, 
       A.courseverion 
  FROM resultado_avaliacao A 
LEFT JOIN ava_questoes_opcoes B
        ON (A.id_questoes = B.ref_questoes)
     WHERE A.tipo IN (2,3,4));]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[drop view if exists resultado_avaliacao_peso;
                CREATE VIEW resultado_avaliacao_peso AS (SELECT *, (CASE WHEN resposta = '5' THEN 1 ELSE (CASE WHEN resposta = '4' THEN 2 ELSE (CASE WHEN resposta = '2' THEN 4 ELSE (CASE WHEN resposta = '1' THEN 5 ELSE 3 END) END) END) END) as resposta_com_peso FROM resultado_avaliacao);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ INSERT INTO acdstatecontract (description, inouttransition, needsreason, isclosecontract) VALUES('AJUSTE DE MATRÍCULA', 'T', 'f', 'f');]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
INSERT INTO basconfig (moduleconfig,parameter,value,description,type,label) VALUES ('ACADEMIC','STATE_CONTRACT_ID_ADJUSTMENT', (SELECT statecontractid FROM acdstatecontract WHERE description ILIKE 'AJUSTE DE MATR%' LIMIT 1), 'Estado contratual de ajuste de matrícula', 'INTEGER','Estado contratual de ajuste de matrícula');]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
INSERT INTO acdstatetransition(beginstateid, endstateid) values ((SELECT statecontractid FROM acdstatecontract WHERE description ILIKE 'AJUSTE DE MATR%' LIMIT 1), 4);]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
INSERT INTO acdstatetransition(beginstateid, endstateid) values ((SELECT statecontractid FROM acdstatecontract WHERE description ILIKE 'AJUSTE DE MATR%' LIMIT 1), 5);]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
INSERT INTO acdstatetransition(beginstateid, endstateid) values ((SELECT statecontractid FROM acdstatecontract WHERE description ILIKE 'AJUSTE DE MATR%' LIMIT 1), (SELECT statecontractid FROM acdstatecontract WHERE description ILIKE 'PRÉ-MATR%' LIMIT 1));]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[
CREATE OR REPLACE FUNCTION acdobtemdisciplinasmatriculado(p_contractid integer, p_learningperiodid integer)
   RETURNS TABLE (disciplina text) AS
$BODY$
/*************************************************************************************
  NAME: acdobtemdisciplinasmatriculado
  PURPOSE: Retorna em forma de string todas as disciplinas que o aluno está matriculado,
           funcao utilizada na inserção de movimentação contratual.

  REVISIONS:
  Ver       Date       Author             Description
  --------- ---------- -----------------  ------------------------------------
  1.0       01/09/14   ftomasini          1. FUNÇÃO criada.
**************************************************************************************/

SELECT 'Disciplina:'|| b.groupid ||'-'||e.name || '   Horas acadêmicas: ' || E.academicnumberhours || ' h   Número de créditos: '|| e.academiccredits || ' cr ' || 'Semestre: ' || c.semester
      FROM unit_acdEnroll A
INNER JOIN unit_acdcurriculum C
        ON C.curriculumId = A.curriculumId
INNER JOIN acdCurricularComponent E
        ON (E.curricularComponentId = C.curricularComponentId AND
            E.curricularComponentVersion = C.curricularComponentVersion)
INNER JOIN acdGroup B
        ON A.groupId = B.groupId 
INNER JOIN unit_acdlearningperiod D
        ON D.learningPeriodId = B.learningPeriodId
     WHERE A.contractId = $1
       AND D.periodId = (SELECT periodId
                           FROM unit_acdlearningperiod
                          WHERE learningPeriodId = $2)
       AND A.statusId NOT IN (getParameter('ACADEMIC', 'ENROLL_STATUS_CANCELLED')::INT, getParameter('ACADEMIC', 'ENROLL_STATUS_EXCUSED')::INT, getParameter('ACADEMIC', 'ENROLL_STATUS_DESISTING')::INT ) 
       AND B.regimenId <> GETPARAMETER('ACADEMIC', 'REGIME_DE_FERIAS')::integer order by c.semester asc;

$BODY$
  LANGUAGE sql VOLATILE
  COST 100; 
             ]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdmovementcontract add column disciplinas text;]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>7</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN acdmovementcontract.disciplinas IS 'Armazena as disciplinas onde o aluno está matriculado, essa coluna é preenchida apenas se o estado contratual for de matrícula, pré-matricula ou ajuste de matrícula.';]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>8</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
DROP TRIGGER IF EXISTS trg_matricula_nova_oferta ON acpofertacomponentecurricular;
]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>17</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
DROP FUNCTION IF EXISTS matricula_nova_oferta();
]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>18</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE OR REPLACE FUNCTION matricula_nova_oferta()
  RETURNS trigger AS
$BODY$
	BEGIN

		INSERT INTO acpmatricula (ofertacomponentecurricularid, 
		                          personid, 
		                          situacao, 
		                          datamatricula, 
					  unitid, 
					  inscricaoturmagrupoid,
					  aproveitamento,
					  aproveitamento_interno, 
					  centerid )
				SELECT DISTINCT NEW.ofertacomponentecurricularid as ofertacomponentecurricularid, 
						acpinscricao.personid, 
						case when acpinscricao.situacao = 'I' then 'M' else 'C' end as situacao, 
						date(now()) as datamatricula,
						acpinscricao.unitid, 
						acpinscricaoturmagrupo.inscricaoturmagrupoid, 
						false as aproveitamento,
						false as aproveitamento_interno, 
						acpinscricao.centerid
				FROM acpinscricao 
				LEFT JOIN acpinscricaoturmagrupo using (inscricaoid)
                LEFT JOIN acpofertaturma on acpinscricaoturmagrupo.ofertaturmaid = acpofertaturma.ofertaturmaid
				WHERE acpinscricaoturmagrupo.ofertaturmaid = NEW.ofertaturmaid
                  AND acpofertaturma.situacao = 'A'
                  AND acpinscricao.situacao <> 'P';
		
		RETURN NEW;

	END 
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>19</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE TRIGGER trg_matricula_nova_oferta
  AFTER INSERT   ON acpofertacomponentecurricular
  FOR EACH ROW   EXECUTE PROCEDURE matricula_nova_oferta();
  
]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>20</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE OR REPLACE FUNCTION matricula_delete_oferta()
  RETURNS trigger AS
$BODY$
	DECLARE
		_matricula acpmatricula%rowtype;
		_tem_frequencia integer;
		_tem_nota integer;
	BEGIN

		FOR _matricula IN SELECT * FROM acpmatricula where ofertacomponentecurricularid=OLD.ofertacomponentecurricularid LOOP

			select into _tem_frequencia count(*) from acpfrequencia
			 inner join acpmatricula using (matriculaid) 
			      where ofertacomponentecurricularid=OLD.ofertacomponentecurricularid;

			select into _tem_nota count(*) from acpavaliacao
			 inner join acpmatricula using (matriculaid) 
			      where ofertacomponentecurricularid=OLD.ofertacomponentecurricularid;

			if (_tem_frequencia>0) then
				raise notice 'A as matriculas desta oferta não podem ser excluídas pois já existem frequencias.';
			else
				if (_tem_nota>0) then
					raise notice 'A as matriculas desta oferta não podem ser excluídas pois já existem notas digitadas.';
				else
					delete from acpmatricula where ofertacomponentecurricularid=OLD.ofertacomponentecurricularid;
				end if;
			end if;
		END LOOP;
		
		RETURN OLD;

	END 
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>8</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
DROP TRIGGER IF EXISTS trg_matricula_delete_oferta ON acpofertacomponentecurricular;
]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>7</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE TRIGGER trg_matricula_delete_oferta
  BEFORE DELETE  ON acpofertacomponentecurricular
  FOR EACH ROW   EXECUTE PROCEDURE matricula_delete_oferta();
]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>8</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ CREATE TABLE finocorrenciadoconvenio(
ocorrenciadoconvenioid SERIAL PRIMARY KEY NOT NULL,
convenantid INTEGER NOT NULL REFERENCES finconvenant(convenantid),
courseid VARCHAR NOT NULL,
courseversion INTEGER NOT NULL,
turnid INTEGER NOT NULL,
unitid INTEGER NOT NULL
)INHERITS (baslog);]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE finocorrenciasdoconvenio ADD constraint fk_ocorrenciacurso foreign key (courseid, courseversion, turnid,unitid) references acdcourseoccurrence(courseid, courseversion, turnid, unitid);]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE finconvenant ADD COLUMN acumulativo BOOLEAN NOT NULL DEFAULT TRUE;]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE finconvenant ADD COLUMN condicional BOOLEAN NOT NULL DEFAULT FALSE;]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE finconvenant ADD COLUMN todasdisciplinas BOOLEAN NOT NULL DEFAULT FALSE;]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE finconvenant ADD COLUMN aplicaveteranos BOOLEAN NOT NULL DEFAULT TRUE;]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE finconvenant ADD COLUMN aplicacalouros BOOLEAN NOT NULL DEFAULT TRUE;]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>7</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE finconvenant ADD COLUMN concederPeriodo CHAR(1) NOT NULL DEFAULT 'O';]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>8</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE finconvenant ADD COLUMN crmaximo FLOAT;]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>9</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE finconvenant ADD COLUMN crminimo FLOAT;]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>10</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN finconvenant.acumulativo IS 'Indica se o desconto é acumulativo, caso seja o valor pode ser somado a outro desconto';]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>11</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN finconvenant.condicional IS 'Indica se o desconto é condiciona, caso seja o aluno só recebera se o número de créditos matriculado estiver no intervalo determinado';]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>12</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN finconvenant.todasdisciplinas IS 'Indica que o aluno só receberá o desconto caso se matricular em todas as disciplinas de um período do curso';]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>13</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN finconvenant.aplicaveteranos IS 'Indica que o desconto só será aplicado para os veteranos do curso';]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>14</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN finconvenant.aplicacalouros IS 'Indica que o desconto só será aplicado para os calouros do curso';]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>15</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN finconvenant.crmaximo IS 'Limite máximo de créditos para conceder o desconto ao aluno';]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>16</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN finconvenant.crminimo IS 'Limite mínimo de créditos para conceder o desconto ao aluno';]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>17</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN finconvenant.concederPeriodo IS 'Conceder automaticamente em períodos M= matricula A= ajuste O=Ambos';]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>18</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE EXTENSION tablefunc;]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdFinalExaminationExaminingBoard ADD COLUMN note VARCHAR(50);]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE TABLE basFilaDeEspera (
    filaDeEsperaId SERIAL PRIMARY KEY NOT NULL,
    usuario VARCHAR NOT NULL,
    autenticadoEm TIMESTAMP NOT NULL DEFAULT NOW(),
    autorizadoEm TIMESTAMP,
    registroDeAtividade TIMESTAMP NOT NULL DEFAULT NOW()
) INHERITS (basLog);]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

ALTER TABLE basFilaDeEspera ADD CONSTRAINT cons_id_login UNIQUE (filaDeEsperaId, usuario);]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE miolo_audit ALTER COLUMN action_timestamp_utc set default now();]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX idx_finincentive_incentivetypeid on finincentive(incentivetypeid);]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>7</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdStateContract ADD COLUMN stateContractIsActive BOOLEAN DEFAULT TRUE NOT NULL;]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>8</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE sproptionofertaturma ADD COLUMN codigo varchar(255);
]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>8</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE OR REPLACE VIEW resultado_avaliacao AS (
 SELECT A.id_respostas, E.ref_avaliacao, G.nome as nome_avaliacao, E.id_formulario, E.nome as nome_formulario, E.ref_perfil, H.descricao as nome_perfil, D.id_bloco, D.nome as nome_bloco, F.id_granularidade, F.descricao as nome_granularidade, 
F.tipo_granularidade, C.id_questoes, C.descricao as nome_questoes, C.tipo, A.valor as resposta, I.descricao as nome_resposta, I.legenda as legenda_resposta, J.*
      FROM ava_respostas A
INNER JOIN ava_bloco_questoes B
        ON (A.ref_bloco_questoes = B.id_bloco_questoes)
INNER JOIN ava_questoes C
        ON (B.ref_questao = C.id_questoes)
INNER JOIN ava_bloco D
        ON (B.ref_bloco = D.id_bloco)
INNER JOIN ava_formulario E
        ON (D.ref_formulario = E.id_formulario)
INNER JOIN ava_granularidade F
        ON (F.id_granularidade = D.ref_granularidade)
INNER JOIN ava_avaliacao G
        ON (E.ref_avaliacao = G.id_avaliacao)
INNER JOIN ava_perfil H
        ON (E.ref_perfil = H.id_perfil)
LEFT JOIN ava_questoes_opcoes I
        ON (C.id_questoes = I.ref_questoes AND A.valor = I.codigo)
LEFT JOIN (
SELECT *
  FROM crosstab('SELECT ref_resposta, 
                        chave,
                        valor
                   FROM ava_atributos ORDER BY ref_resposta, chave', 
               'SELECT unnest(ARRAY[''course_name'', ''ref_curso'', ''ref_unit'', ''ref_course'', ''person_maritalstatus_description'', ''groupid'', ''curricularcomponentversion'', ''ref_sector'', ''formation_level'', ''ref_group'', ''ref_curricular_component'', ''person_cityid'', ''person_employee_description'', ''ref_curriculum'', ''course'', ''turn'', ''course_centerid'', ''person_sex'', ''professor_name'', ''person_employee_typeid'', ''person_stateid'', ''person_state_description'', ''person_maritalstatusid'', ''totalenrolled'', ''person_weeklyhours'', ''person_city_description'', ''sector'', ''ref_turn'', ''curricular_component'', ''professorid'', ''ref_formation_level'', ''ref_curriculum_version'', ''course_center_description'', ''person_datebirth'', ''course_version'', ''person_specialnecessityid'', ''ref_unidade'', ''person_regimetrabalho'', ''unit'', ''ref_curricular_component_version'', ''person_specialnecessity_description'', ''ref_turno'', ''courseverion''])')
AS ct (ref_resposta int, course_name text, 
      ref_curso text, ref_unit text, ref_course text, 
      person_maritalstatus_description text, groupid text, 
      curricularcomponentversion text, ref_sector text, 
      formation_level text, ref_group text, ref_curricular_component text, 
      person_cityid text, person_employee_description text, ref_curriculum text, 
      course text, turn text, course_centerid text, person_sex text, professor_name text, 
      person_employee_typeid text, person_stateid text, person_state_description text, 
      person_maritalstatusid text, totalenrolled text, person_weeklyhours text, 
      person_city_description text, sector text, ref_turn text, 
      curricular_component text, professorid text, ref_formation_level text, 
      ref_curriculum_version text, course_center_description text, 
      person_datebirth text, course_version text, person_specialnecessityid text, 
      ref_unidade text, person_regimetrabalho text, unit text, ref_curricular_component_version text, 
      person_specialnecessity_description text, ref_turno text, courseverion text)) J

ON (A.id_respostas = J.ref_resposta));
]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE finconvenantperson ADD inscricaoid integer;
]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>7</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE finconvenantperson ADD constraint finconvenantperson_inscricaoid_fkey FOREIGN KEY (inscricaoid) references acpinscricao;
]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>8</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE miolo_custom_field ADD COLUMN possible_parameters VARCHAR(255);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdcondition ADD COLUMN consideraDiscMatriculadas BOOLEAN DEFAULT FALSE NOT NULL;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE TABLE sproptionofertaturma (
    optionofertaturmaid serial primary key,
    ofertaturmaid INTEGER NOT NULL,
    unitid INTEGER, 
    centerid INTEGER, 
    optionid INTEGER NOT NULL, 
    codigo VARCHAR (255),
    CONSTRAINT fkoptionofertaturma104431 FOREIGN KEY (optionid) REFERENCES spr.option (optionid),
    CONSTRAINT fkoptionofertaturma104432 FOREIGN KEY (ofertaturmaid) REFERENCES acpofertaturma(ofertaturmaid),
    CONSTRAINT fkoptionofertaturma104433 FOREIGN KEY (unitid) REFERENCES basunit(unitid),
    CONSTRAINT fkoptionofertaturma104434 FOREIGN KEY (centerid) REFERENCES acdcenter(centerid)
) INHERITS (baslog);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE spr.selectiveprocess ADD COLUMN periodoinicial DATE;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE spr.selectiveprocess ADD COLUMN periodofinal DATE;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdContract ADD COLUMN coeficienteDeClassificacao FLOAT DEFAULT 0.00;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

ALTER TABLE acdEnrollConfig ADD COLUMN preMatriculaChecaClassificacao CHAR(1) DEFAULT 'N' NOT NULL;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>7</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdEnrollConfig ADD COLUMN preMatriculaCancelamentoDeInadimplentesNaClassificacao BOOLEAN DEFAULT FALSE NOT NULL;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>8</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdEnrollConfig ADD COLUMN preMatriculaTipoDeCalculoDoCoeficiente INT DEFAULT 0 NOT NULL;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>9</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE TABLE acdAlunoProcessadoNaClassificacaoDaDisciplina (
    alunoProcessadoNaClassificacaoDaDisciplinaId SERIAL PRIMARY KEY NOT NULL,
    processoDeClassificacaoDeMatriculaId INT REFERENCES acdProcessoDeClassificacaoDeMatricula(processoDeClassificacaoDeMatriculaId) NOT NULL,
    contractId INT REFERENCES acdContract(contractId) NOT NULL,
    groupId INT REFERENCES acdGroup(groupId) NOT NULL,
    posicaoDoAlunoNoProcessoDaDisciplina INT NOT NULL,
    statusDeMatriculaInicial INT NOT NULL REFERENCES acdEnrollStatus(statusId),
    disciplinaEDoCursoDoAluno BOOLEAN DEFAULT TRUE,
    coeficienteDeClassificacaoNoProcesso FLOAT NOT NULL,
    dataDaMatriculaNaDisciplina DATE NOT NULL,
    statusDeMatriculaFinal INT NOT NULL REFERENCES acdEnrollStatus(statusId),
    classificado BOOLEAN NOT NULL DEFAULT FALSE
) INHERITS (basLog); ]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>11</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE TABLE acdProcessoDeClassificacaoDeMatricula (
    processoDeClassificacaoDeMatriculaId SERIAL PRIMARY KEY NOT NULL,
    periodId VARCHAR(10) REFERENCES acdPeriod(periodId) NOT NULL,
    courseId VARCHAR(10) REFERENCES acdCourse(courseId) NOT NULL
) INHERITS (basLog); ]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>10</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE finentry ADD COLUMN cielotransactionid INTEGER REFERENCES fincielotransaction(cielotransactionid);]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpinscricao ADD subscriptionId int;
]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>11</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpinscricao ADD CONSTRAINT acpinscricao_subscriptionId FOREIGN KEY (subscriptionId) REFERENCES spr.subscription(subscriptionId);
]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>11</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ CREATE TABLE ptcCampoCustomizavelDoAssunto (
    campoCustomizavelDoAssuntoId SERIAL PRIMARY KEY NOT NULL,
    subjectId INT REFERENCES ptcsubject(subjectId) NOT NULL,
    campoCustomizavelId VARCHAR REFERENCES miolo_custom_field(id) NOT NULL,
    UNIQUE (subjectId, campoCustomizavelId)
) INHERITS (basLog);]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

CREATE TABLE finTomadorRps (
    tomadorRpsId BIGINT PRIMARY KEY REFERENCES basLegalPerson(personId) NOT NULL,
    cnpjTomador INT NOT NULL,
    ccmTomador INT,
    tipo INT NOT NULL,
    nome VARCHAR(75) NOT NULL,
    tipoEndereco VARCHAR(3) NOT NULL,
    endereco VARCHAR(50) NOT NULL,
    enderecoNumero VARCHAR(10),
    complemento VARCHAR(30),
    bairro VARCHAR(30) NOT NULL,
    cidade VARCHAR(50) NOT NULL,
    estado VARCHAR(2) NOT NULL, --Avaliar se não deve ser substituído por UF
    cep INT NOT NULL,
    email VARCHAR(75) NOT NULL
) INHERITS (basLog);]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

CREATE TABLE finRps (
    rpsId SERIAL PRIMARY KEY NOT NULL, --Referente ao registro 'numero' do rps
    tomadorRpsId INT REFERENCES finTomadorRps(tomadorRpsId) NOT NULL,
    ccm INT, --Inscrição municipal da empresa 'unidade'
    serie VARCHAR(5),
    tipo VARCHAR(5) NOT NULL,
    dataEmissao VARCHAR(8) NOT NULL, --AAAAMMDD
    status CHAR(1) NOT NULL,
    tributacao CHAR(1) NOT NULL,
    valorServicos INT NOT NULL,
    valorDeducoes INT NOT NULL,
    codigoServico INT NOT NULL,
    aliquotaServicos INT NOT NULL,
    comIssRetido INT NOT NULL,
    discriminacao TEXT NOT NULL --validar tamanho do campo 10000
)INHERITS (basLog);]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

ALTER TABLE finEntry ADD COLUMN rpsId INT REFERENCES finRps(rpsId);]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

CREATE TABLE finNfe (
    nfeId BIGINT PRIMARY KEY NOT NULL,
    unitId INT REFERENCES basUnit(unitId),
    estaCancelada BOOLEAN DEFAULT FALSE NOT NULL,
    valorTotal NUMERIC(14,4),
    valorIss NUMERIC(14,4)
) INHERITS (basLog);]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

ALTER TABLE finEntry ADD COLUMN nfeId INT REFERENCES finNfe(nfeId);]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

ALTER TABLE baslegalperson ADD COLUMN aliquota NUMERIC;]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>7</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

ALTER TABLE baslegalperson ADD COLUMN codigoServicoPrestado TEXT;]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>8</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

ALTER TABLE finconvenantperson ADD COLUMN tipoconcessao CHAR(1) DEFAULT 'M';]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>9</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[
alter table acpmatricula add obs text;]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>9</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ CREATE TABLE acdCalculoClassificacaoTemp (
    contractId INT NOT NULL REFERENCES acdContract(contractId),
    mediaNotas FLOAT DEFAULT 0 ,
    pontuacaoSemestral FLOAT,
    coeficienteDeClassificacao FLOAT
) INHERITS (basLog);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

ALTER TABLE acdCalculoClassificacaoTemp ADD CONSTRAINT contractId_pk UNIQUE (contractId);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

CREATE TABLE acdLogCalculoClassificacao (
    logCalculoClassificacaoId SERIAL PRIMARY KEY,
    courseId CHARACTER VARYING(10) REFERENCES acdCourse(courseId)
) INHERITS (basLog);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

CREATE TABLE acdDetalhamentoCalculoClassificacao (
    detalhamentoCalculoClassificacaoId SERIAL PRIMARY KEY,
    logCalculoClassificacaoId INTEGER NOT NULL REFERENCES acdLogCalculoClassificacao(logCalculoClassificacaoId),
    contractId INTEGER REFERENCES acdContract(contractId),
    coeficienteDeClassificacao FLOAT
) INHERITS (basLog);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE miolo_custom_value ALTER COLUMN id SET DEFAULT nextval('miolo_custom_value_id_seq'::regclass);]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

SELECT setval('miolo_custom_value_id_seq', (SELECT max(id) FROM miolo_custom_value));]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

    INSERT INTO acdstatetransition
            (beginstateid, 
             endstateid)
         SELECT ( SELECT stateContractId
                FROM acdStateContract
               WHERE description = 'TRANSFERÊNCIA DE TURMA DE' ),
                    endstateid
               FROM acdstatetransition
          WHERE beginstateid = GETPARAMETER('ACADEMIC', 'STATE_CONTRACT_ID_INTERNAL_TRANSFER_FROM')::INTEGER;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>7</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

    INSERT INTO acdstatetransition
            (beginstateid, 
             endstateid)
         SELECT beginstateid,
            ( SELECT stateContractId
                FROM acdStateContract
               WHERE description = 'TRANSFERÊNCIA DE TURMA DE' )
               FROM acdstatetransition
          WHERE endstateid = GETPARAMETER('ACADEMIC', 'STATE_CONTRACT_ID_INTERNAL_TRANSFER_FROM')::INTEGER;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>8</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

    INSERT INTO acdstatetransition
            (beginstateid, 
             endstateid)
         SELECT ( SELECT stateContractId
                FROM acdStateContract
               WHERE description = 'TRANSFERÊNCIA DE TURMA PARA' ),
                    endstateid
               FROM acdstatetransition
          WHERE beginstateid = GETPARAMETER('ACADEMIC', 'STATE_CONTRACT_ID_INTERNAL_TRANSFER_TO')::INTEGER;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>9</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

    INSERT INTO acdstatetransition
            (beginstateid, 
             endstateid)
         SELECT beginstateid,
            ( SELECT stateContractId
                FROM acdStateContract
               WHERE description = 'TRANSFERÊNCIA DE TURMA PARA' )
               FROM acdstatetransition
          WHERE endstateid = GETPARAMETER('ACADEMIC', 'STATE_CONTRACT_ID_INTERNAL_TRANSFER_TO')::INTEGER;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>10</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

INSERT INTO basConfig
                (moduleconfig,
             parameter,
             value,
             description,
             type,
             label)
         VALUES ('ACADEMIC',
             'ESTADO_CONTRATUAL_TRANSFERENCIA_DE_TURMA_DE',
             (SELECT stateContractId
                FROM acdStateContract
               WHERE description = 'TRANSFERÊNCIA DE TURMA DE'
               LIMIT 1),
             'Recebe o código da movimentação contratual utilizada para transferência de turma para o novo contrato',
                     'INTEGER',
             'Recebe o código da movimentação contratual utilizada para transferência de turma para o novo contrato');]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>11</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

    INSERT INTO basConfig
                (moduleconfig,
             parameter,
             value,
             description,
             type,
             label)
         VALUES ('ACADEMIC',
             'ESTADO_CONTRATUAL_TRANSFERENCIA_DE_TURMA_PARA',
             (SELECT stateContractId
                FROM acdStateContract
               WHERE description = 'TRANSFERÊNCIA DE TURMA PARA'
               LIMIT 1),
             'Recebe o código da movimentação contratual utilizada para transferência de turma para o contrato antigo.',
                     'INTEGER',
             'Recebe o código da movimentação contratual utilizada para transferência de turma para o contrato antigo.');]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>12</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
INSERT INTO acdstatecontract (description,inouttransition) VALUES ('TRANSFERÊNCIA DE TURMA DE', 'I');]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>13</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
INSERT INTO acdstatecontract (description,inouttransition) VALUES ('TRANSFERÊNCIA DE TURMA PARA', 'O');]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>14</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acpmatricula add obs text;]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>15</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table acpmatricula alter column datamatricula set default now();]]>
             </change>
             <applicationversion>31601</applicationversion>
             <orderchange>16</orderchange>
        </item>
        <item>
        <change>
             <![CDATA[ 
CREATE TABLE basDocumentosPortal (documentoportalid serial primary key not null, titulo varchar(255) not null, disponivel_usuario_basico boolean not null default true, disponivel_aluno boolean not null default false, disponivel_professor boolean not null default false, disponivel_coordenador boolean not null default false, disponivel_gestor boolean not null default false, habilitado boolean not null default true, fileid integer not null references basfile(fileid)) INHERITS (baslog); ]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
        <change>
             <![CDATA[ 
CREATE TABLE acpTipoDeObservacao (
  tipodeobservacaoid  SERIAL NOT NULL, 
  descricao          varchar(255) NOT NULL, 
  PRIMARY KEY (tipodeobservacaoid)) INHERITS (baslog); 
CREATE TABLE acpObservacoesDoAluno (
  observacaodoalunoid  SERIAL NOT NULL, 
  tipodeobservacaoid  int4 NOT NULL REFERENCES acpTipoDeObservacao(tipodeobservacaoid), 
  personid            int4 NOT NULL REFERENCES basPhysicalPersonStudent(personid), 
  observacao          text NOT NULL,
  dataobservacao      timestamp NOT NULL DEFAULT NOW(),
  PRIMARY KEY (observacaodoalunoid)) INHERITS (baslog); ]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE prcdiadevencimento ADD ativo boolean DEFAULT true;]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpDocumentoPerfilCurso 
  ADD COLUMN consultasdiversas bool DEFAULT 'false' NOT NULL;
ALTER TABLE acpDocumentoPerfilCurso 
  ADD COLUMN portaldoaluno bool DEFAULT 'false' NOT NULL;]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpdocumentoperfilcurso ADD COLUMN documento TEXT;]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
UPDATE acpdocumentoperfilcurso SET documento = (SELECT uploadfilename FROM  basfile WHERE fileid = acpdocumentoperfilcurso.fileid);
ALTER TABLE acpdocumentoperfilcurso DROP COLUMN fileid;]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[
ALTER TABLE prcprecocurso ADD gerarmensalidadeinicioaulas boolean default false;]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ drop table acpTccBanca;]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>0</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
drop table acpTccOrientador;]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>0</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
drop table acpTcc;]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>0</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
drop table apcTccBanca;]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>0</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
drop table apcTccOrientador;]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>0</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
drop table apcTcc;]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>0</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ CREATE TABLE acpTcc (
  Tccid                        SERIAL NOT NULL, 
  ofertaComponenteCurricularId int4 not null, 
  matriculaId                  int4 not null, 
  Tema                         text , 
  Dataentregatrabalho          date , 
  Databanca                    date , 
  DatadivulgacaoResultado      date , 
  PRIMARY KEY (Tccid)
 ) INHERITS (baslog);]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

CREATE TABLE acpTccOrientador (
  Orientadorid    SERIAL NOT NULL, 
  Tccid    int4 not null, 
  personId       int4 not null, 
  Tipoorientador char(1), 
  PRIMARY KEY (Orientadorid),
  CHECK (tipoorientador = 'O' or tipoorientador = 'C')
 ) INHERITS (baslog);]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

CREATE TABLE acpTccBanca (
  TccBancaid   SERIAL NOT NULL, 
  Tccid int4 not null, 
  personId    int4 not null, 
  PRIMARY KEY (TccBancaid)
 ) INHERITS (baslog);]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

ALTER TABLE acpAvaliacao  ADD COLUMN TccBancaid int4;]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>4</orderchange>
        </item>

        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpTccOrientador drop CONSTRAINT FKacpTccOrie985463 ;]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>5</orderchange>
        </item>


        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpTccOrientador ADD CONSTRAINT FKacpTccOrie985463 FOREIGN KEY (personId) REFERENCES basPhysicalPerson (personId);]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>7</orderchange>
        </item>

        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpTccBanca drop CONSTRAINT FKacpTccBanc662222 ;]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpTccBanca ADD CONSTRAINT FKacpTccBanc662222 FOREIGN KEY (personId) REFERENCES basPhysicalPerson (personId);]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>7</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpAvaliacao ADD CONSTRAINT FKacpAvaliac559663 FOREIGN KEY (TccBancaid) REFERENCES acpTccBanca (TccBancaid);]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>7</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpTcc ADD CONSTRAINT FKacpTcc642040 FOREIGN KEY (matriculaId) REFERENCES acpMatricula (matriculaId);]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>8</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpTcc ADD CONSTRAINT FKacpTcc593521 FOREIGN KEY (ofertaComponenteCurricularId) REFERENCES acpOfertaComponenteCurricular (ofertaComponenteCurricularId);]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>9</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpTccOrientador ADD CONSTRAINT FKacpTccOrie747166 FOREIGN KEY (acpTccTccid) REFERENCES acpTcc (Tccid);]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>10</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpTccBanca ADD CONSTRAINT FKacpTccBanc900519 FOREIGN KEY (Tccid) REFERENCES acpTcc (Tccid);]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>11</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acptccorientador ALTER COLUMN tipoorientador SET NOT NULL;
]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>11</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE findefaultoperations ADD COLUMN operacaodevolucao integer REFERENCES finoperation(operationid);]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
INSERT INTO finoperation (description, operationtypeid, isextinct,iscountermovement ,operationgroupid , receivableorpayable,useindiscounts, useininterests, useinfines) VALUES ('DEVOLUÇÃO DE INCENTIVOS', 'D', 'f', 'f', 'N', 'R', 'f', 't','t');]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
UPDATE findefaultoperations set operacaodevolucao = (select operationid from finoperation where description = 'DEVOLUÇÃO DE INCENTIVOS');]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpcomponentedeavaliacao DROP COLUMN habilitacor;]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpcomponentedeavaliacao DROP COLUMN coraprovado;]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpcomponentedeavaliacao DROP COLUMN correprovado;]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
DROP TRIGGER IF EXISTS trg_atualizavinculoprofessor ON basphysicalpersonprofessor;]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE finResumoMatriculaLog ALTER COLUMN detalhe DROP NOT NULL;]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE fin.bankmovement ADD COLUMN tituloid INT REFERENCES captitulo(tituloid);]]>
             </change>
             <applicationversion>31801</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE rccregistroemail ALTER COLUMN mensagem TYPE text;]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE rcccontato ALTER COLUMN mensagem TYPE text;]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE rcccontato ALTER COLUMN operador TYPE character(255);]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE rcccontato ALTER COLUMN interesseid DROP NOT NULL;]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE rcccontato ALTER COLUMN orientacao DROP NOT NULL;]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
            <change>
                <![CDATA[
                UPDATE pg_attribute SET atttypmod = 30+4 WHERE attrelid = 'acddegreeenroll'::regclass AND attname = 'concept';
                ]]>
            </change>
            <applicationversion>31701</applicationversion>
            <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE basreport ADD COLUMN parameterorder VARCHAR (50);]]>
             </change>
             <applicationversion>31901</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE ptcsubject ADD COLUMN taxaPrimeiraSolicitacao BOOLEAN DEFAULT TRUE;]]>
             </change>
             <applicationversion>31801</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN ptcsubject.taxaPrimeiraSolicitacao IS 'Indica se deve cobrar a taxa na primeira solicitação dentro do mesmo período letivo';]]>
             </change>
             <applicationversion>31801</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdLearningPeriod ADD COLUMN blockFinalExaminationGradesTyping BOOLEAN NOT NULL DEFAULT TRUE;]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN acdLearningPeriod.blockFinalExaminationGradesTyping IS 'Indica se bloqueia tela de digitação de Notas para disciplinas do tipo Trabalho de Conclusão, obrigando o usuário a utilizar a interface de detalhamento de TCC';]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
UPDATE acdLearningPeriod SET blockFinalExaminationGradesTyping = false;]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
DROP VIEW IF EXISTS view_pedagogico_oficio_anac;]]>
             </change>
             <applicationversion>31801</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
DROP VIEW IF EXISTS view_acp_turmas; ]]>
             </change>
             <applicationversion>31801</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
DROP VIEW IF EXISTS view_acp_pedagogico;]]>
             </change>
             <applicationversion>31801</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
DROP VIEW IF EXISTS rptDisciplinaAluno;]]>
             </change>
             <applicationversion>31801</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
DROP VIEW IF EXISTS rptmatriculas;]]>
             </change>
             <applicationversion>31801</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
DROP FUNCTION IF EXISTS obterNotaOuConceitoFinal(integer); ]]>
             </change>
             <applicationversion>31801</applicationversion>
             <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
DROP VIEW IF EXISTS unit_view_email;]]>
             </change>
             <applicationversion>31801</applicationversion>
             <orderchange>7</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
DROP VIEW IF EXISTS unit_acpmatricula;]]>
             </change>
             <applicationversion>31801</applicationversion>
             <orderchange>8</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpmatricula ALTER COLUMN notafinal TYPE numeric(7,2); ]]>
             </change>
             <applicationversion>31801</applicationversion>
             <orderchange>9</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
INSERT INTO finstatuscheque (statuschequeid, considerapago, descricao) VALUES (7, 'f', 'SOB CUSTÓDIA');]]>
             </change>
             <applicationversion>31900</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE finmovimentacaocheque ADD bankaccountid integer REFERENCES finbankaccount;]]>
             </change>
             <applicationversion>31900</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE finBankAccount ADD COLUMN geracaoDoNossoNumeroPeloBanco BOOLEAN DEFAULT FALSE;]]>
             </change>
             <applicationversion>31900</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE fininvoice ADD COLUMN tituloDeReferencia INTEGER REFERENCES fininvoice(invoiceid);
COMMENT ON COLUMN fininvoice.tituloDeReferencia IS 'Recebe o invoiceid referente ao titulo gerado para o financiador, quando o financiamento for do tipo patrocinador ou financiador.';]]>
             </change>
             <applicationversion>31900</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE finLoan ADD COLUMN geraTituloDeCobranca BOOLEAN DEFAULT FALSE;
COMMENT ON COLUMN finLoan.geraTituloDeCobranca IS 'Indica se deve gerar titulo para o beneficiador.';]]>
             </change>
             <applicationversion>31900</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE finSupport ADD COLUMN geraTituloDeCobranca BOOLEAN DEFAULT FALSE;
COMMENT ON COLUMN finSupport.geraTituloDeCobranca IS 'Indica se deve gerar titulo para o beneficiador.';]]>
             </change>
             <applicationversion>31900</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE finentry ADD COLUMN tituloDeReferencia INTEGER REFERENCES fininvoice(invoiceid);
COMMENT ON COLUMN finentry.tituloDeReferencia IS 'Recebe o invoiceid referente ao titulo do aluno, quando existir um título gerado para o beneficiador e o financiamento for do tipo patrocinador ou financiador.';]]>
             </change>
             <applicationversion>31900</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE finincentive ADD COLUMN pagamentoValorFinanciado DATE;
COMMENT ON COLUMN finincentive.pagamentoValorFinanciado IS 'Recebe a data de vencimento que o titulo atribuido para o financiador deve ser gerado, quando o incentivo for do tipo financiamento.';]]>
             </change>
             <applicationversion>31900</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE finoperation ADD accountschemeid_opposite varchar(30) references accaccountscheme;]]>
             </change>
             <applicationversion>31900</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE prcdiadevencimento ADD COLUMN precocursoid INTEGER REFERENCES prcprecocurso(precocursoid);]]>
             </change>
             <applicationversion>31800</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
INSERT INTO prcdiadevencimento (dia, precocursoid) (
SELECT prcdiadevencimento.dia, prcprecocurso.precocursoid from prcdiadevencimento left join prcprecocurso ON 1=1 
WHERE prcprecocurso.tipo = 'M' and prcdiadevencimento.precocursoid IS NULL AND prcdiadevencimento.ativo IS TRUE);]]>
             </change>
             <applicationversion>31800</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
DELETE FROM prcdiadevencimento WHERE precocursoid IS NULL;]]>
             </change>
             <applicationversion>31800</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE prcdiadevencimento ALTER COLUMN precocursoid SET NOT NULL;]]>
             </change>
             <applicationversion>31800</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
INSERT INTO finincentivetype (incentivetypeid,description,operationid,needadjustauthorization,sendinvoices,isextinct,generatecredits,paymentoperation,repaymentoperation,applydiscounts,percentrenovacao,aditarincentivo)
     SELECT x.incentivetypeid,x.description,x.operationid,x.needadjustauthorization,x.sendinvoices,x.isextinct,x.generatecredits,x.paymentoperation,x.repaymentoperation,x.applydiscounts,x.percentrenovacao,x.aditarincentivo
       FROM finfinancialaid x
      WHERE x.incentivetypeid not in (select incentivetypeid from only finincentivetype);]]>
             </change>
             <applicationversion>31900</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
INSERT INTO finincentivetype
        (incentivetypeid,description,operationid,needadjustauthorization,sendinvoices,isextinct,generatecredits,paymentoperation,repaymentoperation,applydiscounts,percentrenovacao,aditarincentivo)
     SELECT x.incentivetypeid,x.description,x.operationid,x.needadjustauthorization,x.sendinvoices,x.isextinct,x.generatecredits,x.paymentoperation,x.repaymentoperation,x.applydiscounts,x.percentrenovacao,x.aditarincentivo
       FROM finsupport x
      WHERE x.incentivetypeid not in (select incentivetypeid from only finincentivetype);]]>
             </change>
             <applicationversion>31900</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
INSERT INTO finincentivetype
        (incentivetypeid,description,operationid,needadjustauthorization,sendinvoices,isextinct,generatecredits,paymentoperation,repaymentoperation,applydiscounts,percentrenovacao,aditarincentivo)
     SELECT x.incentivetypeid,x.description,x.operationid,x.needadjustauthorization,x.sendinvoices,x.isextinct,x.generatecredits,x.paymentoperation,x.repaymentoperation,x.applydiscounts,x.percentrenovacao,x.aditarincentivo
       FROM finloan x
      WHERE x.incentivetypeid not in (select incentivetypeid from only finincentivetype);]]>
             </change>
             <applicationversion>31900</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpofertaturma ADD localid int references baslocation(locationid);]]>
             </change>
             <applicationversion>31800</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE TABLE accFechamentoDePeriodoContabil (
    fechamentoDePeriodoContabilId SERIAL PRIMARY KEY NOT NULL,
    dataDeFechamento DATE NOT NULL DEFAULT NOW(),
    estaFechado BOOLEAN DEFAULT TRUE
) INHERITS (basLog); ]]>
             </change>
             <applicationversion>31900</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE TABLE accFechamentoDePeriodoContabilLog (
    fechamentoDePeriodoContabilLogId SERIAL PRIMARY KEY NOT NULL,
    fechamentoDePeriodoContabilId INTEGER REFERENCES accFechamentoDePeriodoContabil(fechamentoDePeriodoContabilId) NOT NULL,
    estaFechado BOOLEAN NOT NULL
) INHERITS (basLog); ]]>
             </change>
             <applicationversion>31900</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE TABLE basconstrutorderelatorios (
    relatorioid SERIAL,
    nome text NOT NULL,
    viewbaseada text NOT NULL,
    consulta text NOT NULL,
    dados text NOT NULL,
    username varchar(20) DEFAULT "current_user"(),
    ipaddress inet,
    datetime timestamp DEFAULT now()
); ]]>
             </change>
             <applicationversion>31900</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE TABLE acdMensagemDeAvaliacaoDosAlunos(
    mensagemDeAvaliacaoDosAlunosId SERIAL PRIMARY KEY NOT NULL,
    mensagem TEXT NOT NULL
) INHERITS (basLog); ]]>
             </change>
             <applicationversion>32000</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
INSERT INTO basEmail
            (emailid,description,"from",subject, body)
     VALUES (-1, 'E-mail de confirmação de matrícula', 'ajustar@instituicao.edu.br', 'Confirmação de matrícula', '<p>Caro(a): <strong>$NOME_DO_ALUNO ($CODIGO_DO_ALUNO)</strong><br><br>
Sua matrícula foi confirmada nas seguintes disciplinas do curso $CURSO, câmpus $UNIDADE, do período $PERIODO:<br><br>
$DISCIPLINAS_MATRICULADAS<br><br>
Atenciosamente<br>
Secretaría acadêmica.</p>'); ]]>
             </change>
             <applicationversion>32000</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdEnrollConfig ADD COLUMN habilitaEmailDeConfirmacao BOOLEAN NOT NULL DEFAULT FALSE; ]]>
             </change>
             <applicationversion>32000</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdEnrollConfig ADD COLUMN emaildeconfirmacaoid INT REFERENCES basemail(emailid) DEFAULT -1; ]]>
             </change>
             <applicationversion>32000</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
 ALTER TABLE acdTestEndCourseContract ADD COLUMN mensagemDeAvaliacaoDosAlunosId INT REFERENCES acdMensagemDeAvaliacaoDosAlunos(mensagemDeAvaliacaoDosAlunosId); ]]>
             </change>
             <applicationversion>32000</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdTestEndCourseContract ADD COLUMN notaDoAluno FLOAT; ]]>
             </change>
             <applicationversion>32000</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE TABLE basPendenciaDeEmail(
    pendenciaDeEmailId SERIAL PRIMARY KEY NOT NULL,
    personId BIGINT REFERENCES basPerson(personId) NOT NULL,
    emailId INT REFERENCES basEmail(emailId) NOT NULL,
    contractId INT REFERENCES acdContract(contractId)
) INHERITS (basLog); ]]>
             </change>
             <applicationversion>32000</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE spr.stepDocument ADD COLUMN eObrigatorio BOOLEAN NOT NULL DEFAULT FALSE;]]>
             </change>
             <applicationversion>32000</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
	SELECT setval('miolo_transaction_idtransaction_seq', (select max(idtransaction) from miolo_transaction));]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE TABLE res.tipoDePenalidade (
  tipoPenalidadeId SERIAL NOT NULL PRIMARY KEY, 
  descricao varchar not null,
  emailid integer REFERENCES basemail(emailid))
INHERITS (baslog);]]>
             </change>
             <applicationversion>32001</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ CREATE TABLE res.penalidade (
  penalidadeId SERIAL NOT NULL PRIMARY KEY, 
  residenteId integer REFERENCES res.residente(residenteid),
  preceptorid integer REFERENCES res.preceptoria(preceptorid), 
  tipoDePenalidadeId integer NOT NULL REFERENCES res.tipoDePenalidade(tipoPenalidadeId), 
  data date, 
  hora varchar, 
  observacoes varchar(255),
  notificado char)
INHERITS (baslog);]]>
             </change>
             <applicationversion>32001</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE TABLE res.turma (
  turmaId SERIAL PRIMARY KEY,
  codigoTurma varchar(50) UNIQUE NOT NULL, 
  enfaseId integer REFERENCES res.enfase(enfaseid), 
  nucleoProfissionalId integer REFERENCES res.nucleoprofissional(nucleoProfissionalId), 
  descricao varchar NOT NULL, 
  dataInicio date, 
  dataFim date, 
  quantidadePeriodo integer NOT NULL, 
  vagas integer NOT NULL, 
  tipoAvaliacaoTCR char(1) NOT NULL 
)
INHERITS (baslog);]]>
             </change>
             <applicationversion>32001</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN res.turma.tipoAvaliacaoTCR IS 'Tipo de avaliação do trabalho de conclusão de residente, conceito(C) ou nota(N)';]]>
             </change>
             <applicationversion>32001</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[  
ALTER TABLE res.residente ADD COLUMN turmaId integer REFERENCES res.turma(turmaid);]]>
             </change>
             <applicationversion>32001</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE res.residente ADD COLUMN instituicaoformadora bigint REFERENCES baslegalperson(personid);]]>
             </change>
             <applicationversion>32001</applicationversion>
             <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE res.residente ADD COLUMN NotaPeriodo3Semestre1 float;]]>
             </change>
             <applicationversion>32001</applicationversion>
             <orderchange>7</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE res.residente ADD COLUMN ParecerPeriodo3Semestre1 varchar(255);]]>
             </change>
             <applicationversion>32001</applicationversion>
             <orderchange>8</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[  
ALTER TABLE res.residente ADD COLUMN NotaPeriodo3Semestre2 float;]]>
             </change>
             <applicationversion>32001</applicationversion>
             <orderchange>9</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE res.residente ADD COLUMN ParecerPeriodo3Semestre2 varchar(255);]]>
             </change>
             <applicationversion>32001</applicationversion>
             <orderchange>10</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[  
ALTER TABLE res.residente ADD COLUMN MediaPeriodo3 float;]]>
             </change>
             <applicationversion>32001</applicationversion>
             <orderchange>11</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[  
ALTER TABLE res.residente ADD COLUMN ParecerMediaPeriodo3 varchar(255);]]>
             </change>
             <applicationversion>32001</applicationversion>
             <orderchange>12</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[  
ALTER TABLE res.trabalhodeconclusao ADD COLUMN nota float;]]>
             </change>
             <applicationversion>32001</applicationversion>
             <orderchange>13</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE res.ofertadeunidadetematica ADD COLUMN instituicaoexecutora bigint REFERENCES baslegalperson(personid);]]>
             </change>
             <applicationversion>32001</applicationversion>
             <orderchange>14</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE res.ofertadeunidadetematica ADD COLUMN equipe varchar;]]>
             </change>
             <applicationversion>32001</applicationversion>
             <orderchange>15</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE hur.realizedactivity ADD COLUMN location text;]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acddegreeenroll ADD alteradopeloexame boolean default FALSE;]]>
             </change>
             <applicationversion>31701</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE SEQUENCE rcccontato_contatoid_seq;]]>
             </change>
             <applicationversion>32001</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE rcccontato ALTER COLUMN contatoid SET DEFAULT nextval('rcccontato_contatoid_seq');]]>
             </change>
             <applicationversion>32001</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT setval('rcccontato_contatoid_seq', (SELECT MAX(contatoid) FROM rcccontato));]]>
             </change>
             <applicationversion>32001</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpControleDeFrequencia ADD COLUMN permiteMeiaPresenca bool DEFAULT 'false' NOT NULL;]]>
             </change>
             <applicationversion>32001</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpPerfilCurso ADD COLUMN alternativaAcaoMeiaPresenca char(1);
COMMENT ON COLUMN acpPerfilCurso.alternativaAcaoMeiaPresenca IS 'Alternativa de frequência para opção Meia presença para modelos de avaliação que não utilizam registro de meia presença.';]]>
             </change>
             <applicationversion>32001</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpPerfilCurso  ADD COLUMN alternativaAcaoFaltaJustificada char(1);
COMMENT ON COLUMN acpPerfilCurso.alternativaAcaoFaltaJustificada IS 'Alternativa de frequência para opção Falta justificada para modelos de avaliação que não utilizam a opção.';]]>
             </change>
             <applicationversion>32001</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
DROP INDEX idx_miolo_audit_detail_original_value;]]>
             </change>
             <applicationversion>32001</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX ON miolo_audit_detail((left(original_value, 600)));]]>
             </change>
             <applicationversion>32001</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT miolo_audit_upgrade('DROP INDEX idx_miolo_audit_detail_original_value');]]>
             </change>
             <applicationversion>32001</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT miolo_audit_upgrade('CREATE INDEX ON miolo_audit_detail((left(original_value, 600)))');]]>
             </change>
             <applicationversion>32001</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdEnrollConfig ADD COLUMN bloqueiaMatriculaWebSemestreCheio CHAR(1) NOT NULL DEFAULT 'N';]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE acdCurriculumLink ADD COLUMN utilizaVinculoParaMatricula BOOLEAN NOT NULL DEFAULT FALSE;]]>
             </change>
             <applicationversion>32000</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdGroup ALTER financecredits DROP NOT NULL;]]>
             </change>
             <applicationversion>32000</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
drop rule acp_fechamatriculacancelada on acpmatricula;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
drop rule executa_fechamento on acpmatricula;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE TABLE acpTransferenciaDeTurma (
  transferenciadeturmaid   SERIAL NOT NULL PRIMARY KEY,
  personId                int NOT NULL REFERENCES basPerson(personid),  
  ofertaturmadestino      int NOT NULL REFERENCES acpOfertaTurma (ofertaTurmaId), 
  ofertaturmaorigem       int NOT NULL REFERENCES acpOfertaTurma (ofertaTurmaId), 
  aproveitarfrequencias   boolean NOT NULL DEFAULT 'true', 
  naoajustarfinanceiro    boolean NOT NULL DEFAULT 'true', 
  ajustarparcelasemaberto boolean NOT NULL DEFAULT 'false', 
  gerarnovaparcela        boolean NOT NULL DEFAULT 'false'
) INHERITS(basLog);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE TABLE acpTransferenciaDeTurmaDisciplinas (
  transferenciadeturmadisciplinaid  SERIAL NOT NULL PRIMARY KEY, 
  transferenciadeturmaid           int NOT NULL REFERENCES acpTransferenciaDeTurma (transferenciadeturmaid),
  matriculaid                      int NOT NULL REFERENCES acpMatricula(matriculaId), 
  nota                             numeric(6, 2), 
  conceito                         char(1), 
  parecer                          text, 
  situacao                         char(1) NOT NULL, --Situação da matricula
  tipo                             char(1) NOT NULL, --(O) Origem, (D) Destino
  frequencia                       numeric(10,2)
) INHERITS(basLog);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ CREATE SCHEMA med;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>10</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

CREATE TABLE med.atividadeextra (
    atividadeextraid integer NOT NULL,
    descricao character varying(255) NOT NULL,
    conteudo text,
    inicio timestamp without time zone NOT NULL,
    fim timestamp without time zone NOT NULL,
    cargahoraria real NOT NULL
)
INHERITS (public.baslog);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>11</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.atividadeextra OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>12</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


CREATE SEQUENCE med.atividadeextra_atividadeextraid_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>13</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.atividadeextra_atividadeextraid_seq OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>14</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER SEQUENCE med.atividadeextra_atividadeextraid_seq OWNED BY med.atividadeextra.atividadeextraid;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>15</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



CREATE TABLE med.cargahorariacomplementar (
    cargahorariacomplementarid integer NOT NULL,
    tipodecargahorariacomplementarid integer NOT NULL,
    unidadetematicaid integer NOT NULL,
    residenteid integer NOT NULL,
    cargahoraria real NOT NULL,
    justificativa character varying(255),
    centerid integer
)
INHERITS (public.baslog);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>16</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.cargahorariacomplementar OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>17</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


CREATE SEQUENCE med.cargahorariacomplementar_cargahorariacomplementarid_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>18</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.cargahorariacomplementar_cargahorariacomplementarid_seq OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>19</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER SEQUENCE med.cargahorariacomplementar_cargahorariacomplementarid_seq OWNED BY med.cargahorariacomplementar.cargahorariacomplementarid;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>20</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



CREATE TABLE med.coorientador (
    personid bigint NOT NULL,
    trabalhodeconclusaoid integer NOT NULL,
    centerid integer
)
INHERITS (public.baslog);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>21</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.coorientador OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>22</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


CREATE TABLE med.encontro (
    encontroid integer NOT NULL,
    temaid integer,
    ofertadeunidadetematicaid integer NOT NULL,
    inicio timestamp without time zone NOT NULL,
    fim timestamp without time zone NOT NULL,
    cargahoraria real NOT NULL,
    conteudoministrado text,
    ministrante character varying(255) NOT NULL
)
INHERITS (public.baslog);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>23</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.encontro OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>24</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


CREATE SEQUENCE med.encontro_encontroid_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>25</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.encontro_encontroid_seq OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>26</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER SEQUENCE med.encontro_encontroid_seq OWNED BY med.encontro.encontroid;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>27</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



CREATE TABLE med.ofertadeunidadetematica (
    ofertadeunidadetematicaid integer NOT NULL,
    personid bigint NOT NULL,
    unidadetematicaid integer NOT NULL,
    inicio date NOT NULL,
    fim date NOT NULL,
    encerramento timestamp without time zone,
    encerradopor integer,
    instituicaoexecutora bigint,
    equipe character varying
)
INHERITS (public.baslog);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>28</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.ofertadeunidadetematica OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>29</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


CREATE TABLE med.tema (
    temaid integer NOT NULL,
    descricao character varying(255) NOT NULL
)
INHERITS (public.baslog);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>30</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.tema OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>31</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


CREATE TABLE med.unidadetematica (
    unidadetematicaid integer NOT NULL,
    periodo character varying(10) NOT NULL,
    descricao character varying(255) NOT NULL,
    sumula text,
    cargahoraria real NOT NULL,
    frequenciaminima real NOT NULL,
    tipo character(1) NOT NULL
)
INHERITS (public.baslog);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>32</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.unidadetematica OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>33</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


CREATE VIEW encontrosofertadeunidadetematica AS
    SELECT a.ofertadeunidadetematicaid, e.personid AS personidpreceptor_oferta, e.name AS nomepreceptor_oferta, a.inicio AS inicio_oferta, a.fim AS fim_oferta, a.encerramento AS dataencerramento_oferta, a.encerradopor AS encerradopor_oferta, a.unidadetematicaid, b.descricao AS descricao_unidadetematica, b.periodo AS periodo_unidadetematica, b.sumula AS sumula_unidadetematica, b.cargahoraria AS cargahoraria_unidadetematica, b.frequenciaminima AS frequenciaminima_unidadetematica, b.tipo AS tipo_unidadetematica, CASE WHEN (b.tipo = 'T'::bpchar) THEN 'TEÓRICA'::text ELSE 'PRÁTICA'::text END AS descricaotipo_unidadetematica, f.encontroid AS codigo_encontro, f.temaid AS codigotema_encontro, g.descricao AS descricaotema_encontro, (f.inicio)::date AS datainicio_encontro, (f.fim)::date AS datafim_encontro, (f.inicio)::time without time zone AS horainicio_encontro, (f.fim)::time without time zone AS horafim_encontro, f.cargahoraria AS cargahoraria_encontro, f.conteudoministrado AS conteudoministrado_encontro, f.ministrante AS ministrante_encontro FROM ((((ofertadeunidadetematica a JOIN unidadetematica b ON ((a.unidadetematicaid = b.unidadetematicaid))) JOIN ONLY public.basphysicalperson e ON ((e.personid = a.personid))) JOIN encontro f ON ((f.ofertadeunidadetematicaid = a.ofertadeunidadetematicaid))) LEFT JOIN tema g ON ((f.temaid = g.temaid)));]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>34</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.encontrosofertadeunidadetematica OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>35</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


CREATE TABLE med.enfase (
    enfaseid integer NOT NULL,
    descricao character varying(255) NOT NULL,
    abreviatura character varying(30) NOT NULL,
    centerid integer
)
INHERITS (public.baslog);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>36</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.enfase OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>37</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


CREATE SEQUENCE med.enfase_enfaseid_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>38</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.enfase_enfaseid_seq OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>39</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER SEQUENCE med.enfase_enfaseid_seq OWNED BY med.enfase.enfaseid;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>40</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



CREATE TABLE med.enfasedaunidadetematica (
    unidadetematicaid integer NOT NULL,
    enfaseid integer NOT NULL,
    centerid integer
)
INHERITS (public.baslog);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>41</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.enfasedaunidadetematica OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>42</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


CREATE TABLE med.frequencia (
    encontroid integer NOT NULL,
    residenteid integer NOT NULL,
    presenca character(1) NOT NULL,
    justificativa character varying(255),
    centerid integer
)
INHERITS (public.baslog);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>43</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.frequencia OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>44</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


CREATE TABLE med.membrodabanca (
    personid bigint NOT NULL,
    trabalhodeconclusaoid integer NOT NULL,
    centerid integer
)
INHERITS (public.baslog);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>45</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.membrodabanca OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>46</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


CREATE TABLE med.nucleodaunidadetematica (
    unidadetematicaid integer NOT NULL,
    nucleoprofissionalid integer NOT NULL
)
INHERITS (public.baslog);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>47</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.nucleodaunidadetematica OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>48</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


CREATE TABLE med.nucleoprofissional (
    nucleoprofissionalid integer NOT NULL,
    descricao character varying(255) NOT NULL,
    abreviatura character varying(30) NOT NULL
)
INHERITS (public.baslog);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>49</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.nucleoprofissional OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>50</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


CREATE SEQUENCE med.nucleoprofissional_nucleoprofissionalid_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>51</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.nucleoprofissional_nucleoprofissionalid_seq OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>52</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER SEQUENCE med.nucleoprofissional_nucleoprofissionalid_seq OWNED BY med.nucleoprofissional.nucleoprofissionalid;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>53</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



CREATE TABLE med.ocorrenciadecontrato (
    ocorrenciadecontratoid integer NOT NULL,
    statusdaocorrenciadecontratoid integer NOT NULL,
    residenteid integer,
    datahora timestamp without time zone NOT NULL,
    observacoes text,
    centerid integer
)
INHERITS (public.baslog);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>54</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.ocorrenciadecontrato OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>55</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


CREATE SEQUENCE med.ocorrenciadecontrato_ocorrenciadecontratoid_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>56</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.ocorrenciadecontrato_ocorrenciadecontratoid_seq OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>57</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER SEQUENCE med.ocorrenciadecontrato_ocorrenciadecontratoid_seq OWNED BY med.ocorrenciadecontrato.ocorrenciadecontratoid;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>58</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



CREATE TABLE med.ocorrenciadeoferta (
    ocorrenciadeofertaid integer NOT NULL,
    ofertadoresidenteid integer NOT NULL,
    datahora timestamp without time zone NOT NULL,
    status integer NOT NULL,
    observacoes text,
    centerid integer
)
INHERITS (public.baslog);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>59</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.ocorrenciadeoferta OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>60</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


CREATE SEQUENCE med.ocorrenciadeoferta_ocorrenciadeofertaid_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>61</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.ocorrenciadeoferta_ocorrenciadeofertaid_seq OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>62</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER SEQUENCE med.ocorrenciadeoferta_ocorrenciadeofertaid_seq OWNED BY med.ocorrenciadeoferta.ocorrenciadeofertaid;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>63</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



CREATE SEQUENCE med.ofertadeunidadetematica_ofertadeunidadetematicaid_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>64</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.ofertadeunidadetematica_ofertadeunidadetematicaid_seq OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>65</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER SEQUENCE med.ofertadeunidadetematica_ofertadeunidadetematicaid_seq OWNED BY med.ofertadeunidadetematica.ofertadeunidadetematicaid;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>66</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



CREATE TABLE med.ofertadoresidente (
    ofertadoresidenteid integer NOT NULL,
    residenteid integer NOT NULL,
    ofertadeunidadetematicaid integer NOT NULL,
    centerid integer
)
INHERITS (public.baslog);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>67</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.ofertadoresidente OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>68</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


CREATE SEQUENCE med.ofertadoresidente_ofertadoresidenteid_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>69</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.ofertadoresidente_ofertadoresidenteid_seq OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>70</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER SEQUENCE med.ofertadoresidente_ofertadoresidenteid_seq OWNED BY med.ofertadoresidente.ofertadoresidenteid;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>71</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



CREATE TABLE med.participacaoematividadeextra (
    atividadeextraid integer NOT NULL,
    residenteid integer NOT NULL,
    cargahoraria real NOT NULL,
    centerid integer
)
INHERITS (public.baslog);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>72</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.participacaoematividadeextra OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>73</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


CREATE TABLE med.penalidade (
    penalidadeid integer NOT NULL,
    residenteid integer,
    preceptorid integer,
    tipodepenalidadeid integer NOT NULL,
    data date,
    hora character varying,
    observacoes character varying(255),
    notificado character(1)
)
INHERITS (public.baslog);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>74</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.penalidade OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>75</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


CREATE SEQUENCE med.penalidade_penalidadeid_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>76</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.penalidade_penalidadeid_seq OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>77</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER SEQUENCE med.penalidade_penalidadeid_seq OWNED BY med.penalidade.penalidadeid;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>78</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



CREATE VIEW periodounidadetematica AS
    (SELECT 'P1'::character varying AS periodoid, 'Primeiro ano'::character varying AS descricao UNION SELECT 'P2'::character varying AS periodoid, 'Segundo ano'::character varying AS descricao) UNION SELECT 'P3'::character varying AS periodoid, 'Terceiro ano'::character varying AS descricao;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>79</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.periodounidadetematica OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>80</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


CREATE TABLE med.preceptoria (
    preceptorid integer NOT NULL,
    personid bigint NOT NULL,
    enfaseid integer,
    nucleoprofissionalid integer,
    inicio date NOT NULL,
    fim date,
    responsavel boolean DEFAULT false,
    titulacao character varying,
    chsemanal double precision,
    chmensal double precision,
    referencia boolean DEFAULT false,
    centerid integer
)
INHERITS (public.baslog);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>81</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.preceptoria OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>82</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


COMMENT ON COLUMN med.preceptoria.referencia IS 'Define que o preceptor é responsavel pela sua enfase';]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>83</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



CREATE SEQUENCE med.preceptoria_preceptorid_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>84</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.preceptoria_preceptorid_seq OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>85</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER SEQUENCE med.preceptoria_preceptorid_seq OWNED BY med.preceptoria.preceptorid;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>86</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



CREATE TABLE med.residente (
    residenteid integer NOT NULL,
    enfaseid integer NOT NULL,
    nucleoprofissionalid integer NOT NULL,
    inicio date NOT NULL,
    fimprevisto date NOT NULL,
    notaperiodo1semestre1 real,
    parecerperiodo1semestre1 text,
    notaperiodo1semestre2 real,
    parecerperiodo1semestre2 text,
    mediaperiodo1 real,
    parecermediaperiodo1 text,
    notaperiodo2semestre1 real,
    parecerperiodo2semestre1 text,
    notaperiodo2semestre2 real,
    parecerperiodo2semestre2 text,
    mediaperiodo2 real,
    parecermediaperiodo2 text,
    notafinal real,
    parecerfinal text,
    personid bigint NOT NULL,
    subscriptionid integer,
    unidade2 integer,
    unidade1 integer,
    descricao text,
    centerid integer,
    turmaid integer,
    instituicaoformadora bigint,
    notaperiodo3semestre1 double precision,
    parecerperiodo3semestre1 character varying(255),
    notaperiodo3semestre2 double precision,
    parecerperiodo3semestre2 character varying(255),
    mediaperiodo3 double precision,
    parecermediaperiodo3 character varying(255)
)
INHERITS (public.baslog);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>87</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.residente OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>88</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


CREATE SEQUENCE med.residente_residenteid_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>89</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.residente_residenteid_seq OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>90</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER SEQUENCE med.residente_residenteid_seq OWNED BY med.residente.residenteid;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>91</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



CREATE TABLE med.statusdaocorrenciadecontrato (
    statusdaocorrenciadecontratoid integer NOT NULL,
    descricao character varying(255) NOT NULL,
    bloqueiaresidencia boolean NOT NULL,
    concluiresidencia boolean DEFAULT false
)
INHERITS (public.baslog);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>92</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.statusdaocorrenciadecontrato OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>93</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


CREATE SEQUENCE med.statusdaocorrenciadecontrato_statusdaocorrenciadecontratoid_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>94</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.statusdaocorrenciadecontrato_statusdaocorrenciadecontratoid_seq OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>95</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER SEQUENCE med.statusdaocorrenciadecontrato_statusdaocorrenciadecontratoid_seq OWNED BY med.statusdaocorrenciadecontrato.statusdaocorrenciadecontratoid;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>96</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



CREATE SEQUENCE med.tema_temaid_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>97</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.tema_temaid_seq OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>98</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER SEQUENCE med.tema_temaid_seq OWNED BY med.tema.temaid;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>99</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



CREATE TABLE med.temadaunidadetematica (
    temaid integer NOT NULL,
    cargahoraria real NOT NULL,
    ofertadeunidadetematicaid integer
)
INHERITS (public.baslog);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>100</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.temadaunidadetematica OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>101</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


CREATE VIEW temasofertadeunidadetematica AS
    SELECT a.ofertadeunidadetematicaid, e.personid AS personidpreceptor_oferta, e.name AS nomepreceptor_oferta, a.inicio AS inicio_oferta, a.fim AS fim_oferta, a.encerramento AS dataencerramento_oferta, a.encerradopor AS encerradopor_oferta, a.unidadetematicaid, b.descricao AS descricao_unidadetematica, b.periodo AS periodo_unidadetematica, b.sumula AS sumula_unidadetematica, b.cargahoraria AS cargahoraria_unidadetematica, b.frequenciaminima AS frequenciaminima_unidadetematica, b.tipo AS tipo_unidadetematica, CASE WHEN (b.tipo = 'T'::bpchar) THEN 'TEÓRICA'::text ELSE 'PRÁTICA'::text END AS descricaotipo_unidadetematica, d.temaid, c.cargahoraria AS cargahoraria_temaoferta, d.descricao FROM ((((ofertadeunidadetematica a JOIN unidadetematica b ON ((a.unidadetematicaid = b.unidadetematicaid))) JOIN temadaunidadetematica c ON ((c.ofertadeunidadetematicaid = a.ofertadeunidadetematicaid))) JOIN tema d ON ((c.temaid = d.temaid))) JOIN ONLY public.basphysicalperson e ON ((e.personid = a.personid)));]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>102</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.temasofertadeunidadetematica OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>103</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


CREATE TABLE med.tipodecargahorariacomplementar (
    tipodecargahorariacomplementarid integer NOT NULL,
    descricao character varying(255) NOT NULL
)
INHERITS (public.baslog);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>104</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.tipodecargahorariacomplementar OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>105</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


CREATE SEQUENCE med.tipodecargahorariacomplementa_tipodecargahorariacomplementa_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>106</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.tipodecargahorariacomplementa_tipodecargahorariacomplementa_seq OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>107</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER SEQUENCE med.tipodecargahorariacomplementa_tipodecargahorariacomplementa_seq OWNED BY med.tipodecargahorariacomplementar.tipodecargahorariacomplementarid;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>108</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



CREATE TABLE med.tipodepenalidade (
    tipopenalidadeid integer NOT NULL,
    descricao character varying NOT NULL,
    emailid integer
)
INHERITS (public.baslog);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>109</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.tipodepenalidade OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>110</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


CREATE SEQUENCE med.tipodepenalidade_tipopenalidadeid_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>111</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.tipodepenalidade_tipopenalidadeid_seq OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>112</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER SEQUENCE med.tipodepenalidade_tipopenalidadeid_seq OWNED BY med.tipodepenalidade.tipopenalidadeid;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>113</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



CREATE VIEW tipounidadetematica AS
    (SELECT 'T'::character varying AS tipoid, 'Teórica'::character varying AS descricao UNION SELECT 'P'::character varying AS tipoid, 'Prática'::character varying AS descricao) UNION SELECT 'C'::character varying AS tipoid, 'Teórica conceitual'::character varying AS descricao;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>114</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.tipounidadetematica OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>115</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


CREATE TABLE med.trabalhodeconclusao (
    trabalhodeconclusaoid integer NOT NULL,
    orientadorid integer,
    residenteid integer NOT NULL,
    titulo character varying(255) NOT NULL,
    tema text,
    apto boolean,
    centerid integer,
    nota double precision
)
INHERITS (public.baslog);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>116</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.trabalhodeconclusao OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>117</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


CREATE SEQUENCE med.trabalhodeconclusao_trabalhodeconclusaoid_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>118</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.trabalhodeconclusao_trabalhodeconclusaoid_seq OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>119</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER SEQUENCE med.trabalhodeconclusao_trabalhodeconclusaoid_seq OWNED BY med.trabalhodeconclusao.trabalhodeconclusaoid;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>120</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



CREATE TABLE med.turma (
    turmaid integer NOT NULL,
    codigoturma character varying(50) NOT NULL,
    enfaseid integer,
    nucleoprofissionalid integer,
    descricao character varying NOT NULL,
    datainicio date,
    datafim date,
    quantidadeperiodo integer NOT NULL,
    vagas integer NOT NULL,
    tipoavaliacaotcr character(1) NOT NULL
)
INHERITS (public.baslog);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>121</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.turma OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>122</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


COMMENT ON COLUMN med.turma.tipoavaliacaotcr IS 'Tipo de avaliação do trabalho de conclusão de residente, conceito(C) ou nota(N)';]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>123</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



CREATE SEQUENCE med.turma_turmaid_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>124</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.turma_turmaid_seq OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>125</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER SEQUENCE med.turma_turmaid_seq OWNED BY med.turma.turmaid;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>126</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



CREATE SEQUENCE med.unidadetematica_unidadetematicaid_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>127</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE med.unidadetematica_unidadetematicaid_seq OWNER TO postgres;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>128</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER SEQUENCE med.unidadetematica_unidadetematicaid_seq OWNED BY med.unidadetematica.unidadetematicaid;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>129</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.atividadeextra ALTER COLUMN username SET DEFAULT "current_user"();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>130</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.atividadeextra ALTER COLUMN datetime SET DEFAULT now();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>131</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.atividadeextra ALTER COLUMN atividadeextraid SET DEFAULT nextval('med.atividadeextra_atividadeextraid_seq'::regclass);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>132</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.cargahorariacomplementar ALTER COLUMN username SET DEFAULT "current_user"();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>133</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.cargahorariacomplementar ALTER COLUMN datetime SET DEFAULT now();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>134</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.cargahorariacomplementar ALTER COLUMN cargahorariacomplementarid SET DEFAULT nextval('med.cargahorariacomplementar_cargahorariacomplementarid_seq'::regclass);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>135</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.coorientador ALTER COLUMN username SET DEFAULT "current_user"();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>136</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.coorientador ALTER COLUMN datetime SET DEFAULT now();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>137</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.encontro ALTER COLUMN username SET DEFAULT "current_user"();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>138</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.encontro ALTER COLUMN datetime SET DEFAULT now();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>139</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.encontro ALTER COLUMN encontroid SET DEFAULT nextval('med.encontro_encontroid_seq'::regclass);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>140</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.enfase ALTER COLUMN username SET DEFAULT "current_user"();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>141</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.enfase ALTER COLUMN datetime SET DEFAULT now();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>142</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.enfase ALTER COLUMN enfaseid SET DEFAULT nextval('med.enfase_enfaseid_seq'::regclass);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>143</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.enfasedaunidadetematica ALTER COLUMN username SET DEFAULT "current_user"();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>144</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.enfasedaunidadetematica ALTER COLUMN datetime SET DEFAULT now();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>145</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.frequencia ALTER COLUMN username SET DEFAULT "current_user"();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>146</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.frequencia ALTER COLUMN datetime SET DEFAULT now();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>147</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.membrodabanca ALTER COLUMN username SET DEFAULT "current_user"();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>148</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.membrodabanca ALTER COLUMN datetime SET DEFAULT now();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>149</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.nucleodaunidadetematica ALTER COLUMN username SET DEFAULT "current_user"();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>150</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.nucleodaunidadetematica ALTER COLUMN datetime SET DEFAULT now();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>151</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.nucleoprofissional ALTER COLUMN username SET DEFAULT "current_user"();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>152</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.nucleoprofissional ALTER COLUMN datetime SET DEFAULT now();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>153</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.nucleoprofissional ALTER COLUMN nucleoprofissionalid SET DEFAULT nextval('med.nucleoprofissional_nucleoprofissionalid_seq'::regclass);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>154</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.ocorrenciadecontrato ALTER COLUMN username SET DEFAULT "current_user"();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>155</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.ocorrenciadecontrato ALTER COLUMN datetime SET DEFAULT now();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>156</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.ocorrenciadecontrato ALTER COLUMN ocorrenciadecontratoid SET DEFAULT nextval('med.ocorrenciadecontrato_ocorrenciadecontratoid_seq'::regclass);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>157</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.ocorrenciadeoferta ALTER COLUMN username SET DEFAULT "current_user"();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>158</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.ocorrenciadeoferta ALTER COLUMN datetime SET DEFAULT now();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>159</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.ocorrenciadeoferta ALTER COLUMN ocorrenciadeofertaid SET DEFAULT nextval('med.ocorrenciadeoferta_ocorrenciadeofertaid_seq'::regclass);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>160</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.ofertadeunidadetematica ALTER COLUMN username SET DEFAULT "current_user"();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>161</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.ofertadeunidadetematica ALTER COLUMN datetime SET DEFAULT now();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>162</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.ofertadeunidadetematica ALTER COLUMN ofertadeunidadetematicaid SET DEFAULT nextval('med.ofertadeunidadetematica_ofertadeunidadetematicaid_seq'::regclass);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>163</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.ofertadoresidente ALTER COLUMN username SET DEFAULT "current_user"();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>164</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.ofertadoresidente ALTER COLUMN datetime SET DEFAULT now();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>165</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.ofertadoresidente ALTER COLUMN ofertadoresidenteid SET DEFAULT nextval('med.ofertadoresidente_ofertadoresidenteid_seq'::regclass);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>166</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.participacaoematividadeextra ALTER COLUMN username SET DEFAULT "current_user"();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>167</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.participacaoematividadeextra ALTER COLUMN datetime SET DEFAULT now();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>168</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.penalidade ALTER COLUMN username SET DEFAULT "current_user"();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>169</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.penalidade ALTER COLUMN datetime SET DEFAULT now();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>170</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.penalidade ALTER COLUMN penalidadeid SET DEFAULT nextval('med.penalidade_penalidadeid_seq'::regclass);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>171</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.preceptoria ALTER COLUMN username SET DEFAULT "current_user"();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>172</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.preceptoria ALTER COLUMN datetime SET DEFAULT now();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>173</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.preceptoria ALTER COLUMN preceptorid SET DEFAULT nextval('med.preceptoria_preceptorid_seq'::regclass);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>174</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.residente ALTER COLUMN username SET DEFAULT "current_user"();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>175</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.residente ALTER COLUMN datetime SET DEFAULT now();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>176</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.residente ALTER COLUMN residenteid SET DEFAULT nextval('med.residente_residenteid_seq'::regclass);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>177</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.statusdaocorrenciadecontrato ALTER COLUMN username SET DEFAULT "current_user"();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>178</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.statusdaocorrenciadecontrato ALTER COLUMN datetime SET DEFAULT now();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>179</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.statusdaocorrenciadecontrato ALTER COLUMN statusdaocorrenciadecontratoid SET DEFAULT nextval('med.statusdaocorrenciadecontrato_statusdaocorrenciadecontratoid_seq'::regclass);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>180</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.tema ALTER COLUMN username SET DEFAULT "current_user"();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>181</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.tema ALTER COLUMN datetime SET DEFAULT now();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>182</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.tema ALTER COLUMN temaid SET DEFAULT nextval('med.tema_temaid_seq'::regclass);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>183</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.temadaunidadetematica ALTER COLUMN username SET DEFAULT "current_user"();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>184</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.temadaunidadetematica ALTER COLUMN datetime SET DEFAULT now();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>185</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.tipodecargahorariacomplementar ALTER COLUMN username SET DEFAULT "current_user"();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>186</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.tipodecargahorariacomplementar ALTER COLUMN datetime SET DEFAULT now();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>187</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.tipodecargahorariacomplementar ALTER COLUMN tipodecargahorariacomplementarid SET DEFAULT nextval('med.tipodecargahorariacomplementa_tipodecargahorariacomplementa_seq'::regclass);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>188</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.tipodepenalidade ALTER COLUMN username SET DEFAULT "current_user"();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>189</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.tipodepenalidade ALTER COLUMN datetime SET DEFAULT now();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>190</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.tipodepenalidade ALTER COLUMN tipopenalidadeid SET DEFAULT nextval('med.tipodepenalidade_tipopenalidadeid_seq'::regclass);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>191</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.trabalhodeconclusao ALTER COLUMN username SET DEFAULT "current_user"();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>192</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.trabalhodeconclusao ALTER COLUMN datetime SET DEFAULT now();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>193</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.trabalhodeconclusao ALTER COLUMN trabalhodeconclusaoid SET DEFAULT nextval('med.trabalhodeconclusao_trabalhodeconclusaoid_seq'::regclass);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>194</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.turma ALTER COLUMN username SET DEFAULT "current_user"();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>195</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.turma ALTER COLUMN datetime SET DEFAULT now();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>196</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.turma ALTER COLUMN turmaid SET DEFAULT nextval('med.turma_turmaid_seq'::regclass);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>197</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.unidadetematica ALTER COLUMN username SET DEFAULT "current_user"();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>198</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.unidadetematica ALTER COLUMN datetime SET DEFAULT now();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>199</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.unidadetematica ALTER COLUMN unidadetematicaid SET DEFAULT nextval('med.unidadetematica_unidadetematicaid_seq'::regclass);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>200</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 






SELECT pg_catalog.setval('med.atividadeextra_atividadeextraid_seq', 1, false);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>201</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


SELECT pg_catalog.setval('med.cargahorariacomplementar_cargahorariacomplementarid_seq', 1, false);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>202</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



SELECT pg_catalog.setval('med.encontro_encontroid_seq', 1, false);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>203</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 






SELECT pg_catalog.setval('med.enfase_enfaseid_seq', 1, false);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>204</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



SELECT pg_catalog.setval('med.nucleoprofissional_nucleoprofissionalid_seq', 1, false);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>205</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


SELECT pg_catalog.setval('med.ocorrenciadecontrato_ocorrenciadecontratoid_seq', 1, false);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>206</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


SELECT pg_catalog.setval('med.ocorrenciadeoferta_ocorrenciadeofertaid_seq', 1, false);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>207</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


SELECT pg_catalog.setval('med.ofertadeunidadetematica_ofertadeunidadetematicaid_seq', 1, false);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>208</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


SELECT pg_catalog.setval('med.ofertadoresidente_ofertadoresidenteid_seq', 1, false);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>209</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


SELECT pg_catalog.setval('med.penalidade_penalidadeid_seq', 1, false);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>210</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


SELECT pg_catalog.setval('med.preceptoria_preceptorid_seq', 1, false);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>211</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


SELECT pg_catalog.setval('med.residente_residenteid_seq', 1, false);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>212</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



INSERT INTO med.statusdaocorrenciadecontrato VALUES ('postgres', '2011-08-10 07:17:21.842654-03', NULL, 1, 'ATIVO', false, false);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>213</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
INSERT INTO med.statusdaocorrenciadecontrato VALUES ('postgres', '2011-08-10 07:17:21.847784-03', NULL, 2, 'SUSPENSO', true, false);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>214</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
INSERT INTO med.statusdaocorrenciadecontrato VALUES ('postgres', '2011-08-10 07:17:21.84952-03', NULL, 3, 'LICENÇA MATERNIDADE E PATERNIDADE', false, false);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>215</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
INSERT INTO med.statusdaocorrenciadecontrato VALUES ('postgres', '2011-08-10 07:17:21.850379-03', NULL, 4, 'DESLIGADO', true, false);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>216</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
INSERT INTO med.statusdaocorrenciadecontrato VALUES ('postgres', '2011-08-10 07:17:21.851166-03', NULL, 5, 'AFASTAMENTO INSS', false, false);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>217</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
INSERT INTO med.statusdaocorrenciadecontrato VALUES ('postgres', '2011-08-10 07:17:21.852122-03', NULL, 6, 'CONCLUÍDO', true, true);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>218</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



SELECT pg_catalog.setval('med.statusdaocorrenciadecontrato_statusdaocorrenciadecontratoid_seq', 1, false);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>219</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


SELECT pg_catalog.setval('med.tema_temaid_seq', 1, false);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>220</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


SELECT pg_catalog.setval('med.tipodecargahorariacomplementa_tipodecargahorariacomplementa_seq', 1, false);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>221</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



INSERT INTO med.tipodecargahorariacomplementar VALUES ('postgres', '2011-08-10 07:17:21.853069-03', NULL, 1, 'APROVEITAMENTO');]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>222</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
INSERT INTO med.tipodecargahorariacomplementar VALUES ('postgres', '2011-08-10 07:17:21.855378-03', NULL, 2, 'PARTICIPAÇÃO EM EVENTOS');]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>223</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


SELECT pg_catalog.setval('med.tipodepenalidade_tipopenalidadeid_seq', 1, false);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>224</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


SELECT pg_catalog.setval('med.trabalhodeconclusao_trabalhodeconclusaoid_seq', 1, false);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>225</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


SELECT pg_catalog.setval('med.turma_turmaid_seq', 1, false);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>226</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


SELECT pg_catalog.setval('med.unidadetematica_unidadetematicaid_seq', 1, false);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>227</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 


ALTER TABLE ONLY med.atividadeextra
    ADD CONSTRAINT atividadeextra_pkey PRIMARY KEY (atividadeextraid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>228</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.cargahorariacomplementar
    ADD CONSTRAINT cargahorariacomplementar_pkey PRIMARY KEY (cargahorariacomplementarid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>229</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.coorientador
    ADD CONSTRAINT coorientador_pkey PRIMARY KEY (personid, trabalhodeconclusaoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>230</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.encontro
    ADD CONSTRAINT encontro_pkey PRIMARY KEY (encontroid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>231</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.enfase
    ADD CONSTRAINT enfase_pkey PRIMARY KEY (enfaseid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>232</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.enfasedaunidadetematica
    ADD CONSTRAINT enfasedaunidadetematica_pkey PRIMARY KEY (unidadetematicaid, enfaseid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>233</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.frequencia
    ADD CONSTRAINT frequencia_pkey PRIMARY KEY (encontroid, residenteid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>234</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.membrodabanca
    ADD CONSTRAINT membrodabanca_pkey PRIMARY KEY (personid, trabalhodeconclusaoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>235</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.nucleodaunidadetematica
    ADD CONSTRAINT nucleodaunidadetematica_pkey PRIMARY KEY (unidadetematicaid, nucleoprofissionalid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>236</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.nucleoprofissional
    ADD CONSTRAINT nucleoprofissional_pkey PRIMARY KEY (nucleoprofissionalid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>237</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.ocorrenciadecontrato
    ADD CONSTRAINT ocorrenciadecontrato_pkey PRIMARY KEY (ocorrenciadecontratoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>238</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.ocorrenciadeoferta
    ADD CONSTRAINT ocorrenciadeoferta_pkey PRIMARY KEY (ocorrenciadeofertaid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>239</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.ofertadeunidadetematica
    ADD CONSTRAINT ofertadeunidadetematica_pkey PRIMARY KEY (ofertadeunidadetematicaid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>240</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.ofertadoresidente
    ADD CONSTRAINT ofertadoresidente_pkey PRIMARY KEY (ofertadoresidenteid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>241</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.participacaoematividadeextra
    ADD CONSTRAINT participacaoematividadeextra_pkey PRIMARY KEY (atividadeextraid, residenteid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>242</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.penalidade
    ADD CONSTRAINT penalidade_pkey PRIMARY KEY (penalidadeid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>243</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.preceptoria
    ADD CONSTRAINT preceptoria_pkey PRIMARY KEY (preceptorid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>244</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.residente
    ADD CONSTRAINT residente_pkey PRIMARY KEY (residenteid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>245</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.statusdaocorrenciadecontrato
    ADD CONSTRAINT statusdaocorrenciadecontrato_pkey PRIMARY KEY (statusdaocorrenciadecontratoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>246</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.tema
    ADD CONSTRAINT tema_pkey PRIMARY KEY (temaid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>247</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.tipodecargahorariacomplementar
    ADD CONSTRAINT tipodecargahorariacomplementar_pkey PRIMARY KEY (tipodecargahorariacomplementarid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>248</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.tipodepenalidade
    ADD CONSTRAINT tipodepenalidade_pkey PRIMARY KEY (tipopenalidadeid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>249</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.trabalhodeconclusao
    ADD CONSTRAINT trabalhodeconclusao_pkey PRIMARY KEY (trabalhodeconclusaoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>250</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.turma
    ADD CONSTRAINT turma_codigoturma_key UNIQUE (codigoturma);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>251</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.turma
    ADD CONSTRAINT turma_pkey PRIMARY KEY (turmaid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>252</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.unidadetematica
    ADD CONSTRAINT unidadetematica_pkey PRIMARY KEY (unidadetematicaid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>253</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



CREATE INDEX "cargaHorariaComplementar_residenteid" ON med.cargahorariacomplementar USING btree (residenteid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>254</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



CREATE INDEX "cargaHorariaComplementar_unidadetematicaid" ON med.cargahorariacomplementar USING btree (unidadetematicaid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>255</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



CREATE INDEX "encontro_ofertadeunidadetematicaid" ON med.encontro USING btree (ofertadeunidadetematicaid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>256</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



CREATE INDEX "frequencia_encontroid" ON med.frequencia USING btree (encontroid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>257</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



CREATE INDEX "frequencia_presenca" ON med.frequencia USING btree (presenca);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>258</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



CREATE INDEX "frequencia_residenteid" ON med.frequencia USING btree (residenteid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>259</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



CREATE INDEX "ocorrenciaDeOferta_ofertadoresidenteid" ON med.ocorrenciadeoferta USING btree (ofertadoresidenteid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>260</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



CREATE INDEX "ocorrenciaDeoferta_status" ON med.ocorrenciadeoferta USING btree (status);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>261</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



CREATE INDEX "ofertadeunidadetematica_unidadetematicaid" ON med.ofertadeunidadetematica USING btree (unidadetematicaid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>262</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



CREATE INDEX "ofertadoresidente_ofertadeunidadetematicaid" ON med.ofertadoresidente USING btree (ofertadeunidadetematicaid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>263</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



CREATE INDEX "ofertadoresidente_residenteid" ON med.ofertadoresidente USING btree (residenteid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>264</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.cargahorariacomplementar
    ADD CONSTRAINT centeridfk_78 FOREIGN KEY (centerid) REFERENCES public.acdcenter(centerid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>265</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.coorientador
    ADD CONSTRAINT centeridfk_79 FOREIGN KEY (centerid) REFERENCES public.acdcenter(centerid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>266</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.enfase
    ADD CONSTRAINT centeridfk_80 FOREIGN KEY (centerid) REFERENCES public.acdcenter(centerid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>267</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.enfasedaunidadetematica
    ADD CONSTRAINT centeridfk_81 FOREIGN KEY (centerid) REFERENCES public.acdcenter(centerid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>268</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.frequencia
    ADD CONSTRAINT centeridfk_82 FOREIGN KEY (centerid) REFERENCES public.acdcenter(centerid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>269</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.membrodabanca
    ADD CONSTRAINT centeridfk_83 FOREIGN KEY (centerid) REFERENCES public.acdcenter(centerid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>270</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.ocorrenciadecontrato
    ADD CONSTRAINT centeridfk_84 FOREIGN KEY (centerid) REFERENCES public.acdcenter(centerid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>271</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.ocorrenciadeoferta
    ADD CONSTRAINT centeridfk_85 FOREIGN KEY (centerid) REFERENCES public.acdcenter(centerid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>272</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.ofertadoresidente
    ADD CONSTRAINT centeridfk_86 FOREIGN KEY (centerid) REFERENCES public.acdcenter(centerid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>273</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.participacaoematividadeextra
    ADD CONSTRAINT centeridfk_87 FOREIGN KEY (centerid) REFERENCES public.acdcenter(centerid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>274</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.preceptoria
    ADD CONSTRAINT centeridfk_88 FOREIGN KEY (centerid) REFERENCES public.acdcenter(centerid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>275</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.residente
    ADD CONSTRAINT centeridfk_89 FOREIGN KEY (centerid) REFERENCES public.acdcenter(centerid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>276</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.trabalhodeconclusao
    ADD CONSTRAINT centeridfk_90 FOREIGN KEY (centerid) REFERENCES public.acdcenter(centerid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>277</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.coorientador
    ADD CONSTRAINT coorientador_personid_fkey FOREIGN KEY (personid) REFERENCES public.basperson(personid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>278</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.cargahorariacomplementar
    ADD CONSTRAINT fkcargahorar134326 FOREIGN KEY (tipodecargahorariacomplementarid) REFERENCES med.tipodecargahorariacomplementar(tipodecargahorariacomplementarid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>279</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.cargahorariacomplementar
    ADD CONSTRAINT fkcargahorar597456 FOREIGN KEY (unidadetematicaid) REFERENCES med.unidadetematica(unidadetematicaid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>280</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.cargahorariacomplementar
    ADD CONSTRAINT fkcargahorar871031 FOREIGN KEY (residenteid) REFERENCES med.residente(residenteid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>281</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.coorientador
    ADD CONSTRAINT fkcoorientad838498 FOREIGN KEY (personid) REFERENCES public.basphysicalperson(personid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>282</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.coorientador
    ADD CONSTRAINT fkcoorientad87962 FOREIGN KEY (trabalhodeconclusaoid) REFERENCES med.trabalhodeconclusao(trabalhodeconclusaoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>283</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.encontro
    ADD CONSTRAINT fkencontro647754 FOREIGN KEY (temaid) REFERENCES med.tema(temaid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>284</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.encontro
    ADD CONSTRAINT fkencontro767294 FOREIGN KEY (ofertadeunidadetematicaid) REFERENCES med.ofertadeunidadetematica(ofertadeunidadetematicaid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>285</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.enfasedaunidadetematica
    ADD CONSTRAINT fkenfasedaun277432 FOREIGN KEY (unidadetematicaid) REFERENCES med.unidadetematica(unidadetematicaid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>286</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.enfasedaunidadetematica
    ADD CONSTRAINT fkenfasedaun546785 FOREIGN KEY (enfaseid) REFERENCES med.enfase(enfaseid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>287</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.frequencia
    ADD CONSTRAINT fkfrequencia125239 FOREIGN KEY (encontroid) REFERENCES med.encontro(encontroid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>288</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.frequencia
    ADD CONSTRAINT fkfrequencia967830 FOREIGN KEY (residenteid) REFERENCES med.residente(residenteid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>289</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.membrodabanca
    ADD CONSTRAINT fkmembrodaba339099 FOREIGN KEY (trabalhodeconclusaoid) REFERENCES med.trabalhodeconclusao(trabalhodeconclusaoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>290</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.membrodabanca
    ADD CONSTRAINT fkmembrodaba412638 FOREIGN KEY (personid) REFERENCES public.basphysicalperson(personid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>291</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.nucleodaunidadetematica
    ADD CONSTRAINT fknucleodaun298548 FOREIGN KEY (nucleoprofissionalid) REFERENCES med.nucleoprofissional(nucleoprofissionalid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>292</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.nucleodaunidadetematica
    ADD CONSTRAINT fknucleodaun507563 FOREIGN KEY (unidadetematicaid) REFERENCES med.unidadetematica(unidadetematicaid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>293</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.ocorrenciadecontrato
    ADD CONSTRAINT fkocorrencia52742 FOREIGN KEY (statusdaocorrenciadecontratoid) REFERENCES med.statusdaocorrenciadecontrato(statusdaocorrenciadecontratoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>294</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.ocorrenciadeoferta
    ADD CONSTRAINT fkocorrencia585881 FOREIGN KEY (ofertadoresidenteid) REFERENCES med.ofertadoresidente(ofertadoresidenteid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>295</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.ocorrenciadecontrato
    ADD CONSTRAINT fkocorrencia797792 FOREIGN KEY (residenteid) REFERENCES med.residente(residenteid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>296</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.ofertadeunidadetematica
    ADD CONSTRAINT fkofertadeun725745 FOREIGN KEY (personid) REFERENCES public.basphysicalperson(personid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>297</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.ofertadeunidadetematica
    ADD CONSTRAINT fkofertadeun855386 FOREIGN KEY (unidadetematicaid) REFERENCES med.unidadetematica(unidadetematicaid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>298</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.ofertadeunidadetematica
    ADD CONSTRAINT fkofertadeun947021 FOREIGN KEY (encerradopor) REFERENCES public.miolo_user(iduser);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>299</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.ofertadoresidente
    ADD CONSTRAINT fkofertadore401370 FOREIGN KEY (ofertadeunidadetematicaid) REFERENCES med.ofertadeunidadetematica(ofertadeunidadetematicaid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>300</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.ofertadoresidente
    ADD CONSTRAINT fkofertadore672250 FOREIGN KEY (residenteid) REFERENCES med.residente(residenteid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>301</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.participacaoematividadeextra
    ADD CONSTRAINT fkparticipac217110 FOREIGN KEY (atividadeextraid) REFERENCES med.atividadeextra(atividadeextraid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>302</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.participacaoematividadeextra
    ADD CONSTRAINT fkparticipac563015 FOREIGN KEY (residenteid) REFERENCES med.residente(residenteid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>303</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.preceptoria
    ADD CONSTRAINT fkpreceptori184605 FOREIGN KEY (personid) REFERENCES public.basphysicalperson(personid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>304</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.preceptoria
    ADD CONSTRAINT fkpreceptori387991 FOREIGN KEY (enfaseid) REFERENCES med.enfase(enfaseid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>305</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.preceptoria
    ADD CONSTRAINT fkpreceptori448329 FOREIGN KEY (nucleoprofissionalid) REFERENCES med.nucleoprofissional(nucleoprofissionalid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>306</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.residente
    ADD CONSTRAINT fkresidente378258 FOREIGN KEY (unidade1) REFERENCES public.basunit(unitid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>307</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.residente
    ADD CONSTRAINT fkresidente378259 FOREIGN KEY (unidade2) REFERENCES public.basunit(unitid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>308</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.residente
    ADD CONSTRAINT fkresidente562142 FOREIGN KEY (nucleoprofissionalid) REFERENCES med.nucleoprofissional(nucleoprofissionalid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>309</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.residente
    ADD CONSTRAINT fkresidente622480 FOREIGN KEY (enfaseid) REFERENCES med.enfase(enfaseid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>310</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.residente
    ADD CONSTRAINT fkresidente776513 FOREIGN KEY (personid) REFERENCES public.basphysicalperson(personid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>311</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.residente
    ADD CONSTRAINT fkresidente866505 FOREIGN KEY (subscriptionid) REFERENCES spr.subscription(subscriptionid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>312</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.temadaunidadetematica
    ADD CONSTRAINT fktemadaunid130944 FOREIGN KEY (ofertadeunidadetematicaid) REFERENCES med.ofertadeunidadetematica(ofertadeunidadetematicaid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>313</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.temadaunidadetematica
    ADD CONSTRAINT fktemadaunid644952 FOREIGN KEY (temaid) REFERENCES med.tema(temaid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>314</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.trabalhodeconclusao
    ADD CONSTRAINT fktrabalhode119803 FOREIGN KEY (residenteid) REFERENCES med.residente(residenteid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>315</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.trabalhodeconclusao
    ADD CONSTRAINT fktrabalhode610562 FOREIGN KEY (orientadorid) REFERENCES public.basphysicalperson(personid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>316</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.membrodabanca
    ADD CONSTRAINT membrodabanca_personid_fkey FOREIGN KEY (personid) REFERENCES public.basperson(personid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>317</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.ofertadeunidadetematica
    ADD CONSTRAINT ofertadeunidadetematica_instituicaoexecutora_fkey FOREIGN KEY (instituicaoexecutora) REFERENCES public.baslegalperson(personid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>318</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.ofertadeunidadetematica
    ADD CONSTRAINT ofertadeunidadetematica_personid_fkey FOREIGN KEY (personid) REFERENCES public.basperson(personid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>319</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.penalidade
    ADD CONSTRAINT penalidade_preceptorid_fkey FOREIGN KEY (preceptorid) REFERENCES med.preceptoria(preceptorid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>320</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.penalidade
    ADD CONSTRAINT penalidade_residenteid_fkey FOREIGN KEY (residenteid) REFERENCES med.residente(residenteid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>321</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.penalidade
    ADD CONSTRAINT penalidade_tipodepenalidadeid_fkey FOREIGN KEY (tipodepenalidadeid) REFERENCES med.tipodepenalidade(tipopenalidadeid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>322</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.preceptoria
    ADD CONSTRAINT preceptoria_personid_fkey FOREIGN KEY (personid) REFERENCES public.basperson(personid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>323</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.residente
    ADD CONSTRAINT residente_instituicaoformadora_fkey FOREIGN KEY (instituicaoformadora) REFERENCES public.baslegalperson(personid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>324</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 



ALTER TABLE ONLY med.residente
    ADD CONSTRAINT residente_personid_fkey FOREIGN KEY (personid) REFERENCES public.basperson(personid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>325</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE ONLY med.residente
    ADD CONSTRAINT residente_turmaid_fkey FOREIGN KEY (turmaid) REFERENCES med.turma(turmaid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>326</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE ONLY med.tipodepenalidade
    ADD CONSTRAINT tipodepenalidade_emailid_fkey FOREIGN KEY (emailid) REFERENCES public.basemail(emailid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>327</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE ONLY med.turma
    ADD CONSTRAINT turma_enfaseid_fkey FOREIGN KEY (enfaseid) REFERENCES med.enfase(enfaseid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>328</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE ONLY med.turma
    ADD CONSTRAINT turma_nucleoprofissionalid_fkey FOREIGN KEY (nucleoprofissionalid) REFERENCES med.nucleoprofissional(nucleoprofissionalid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>329</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
             insert INTO miolo_module (idmodule, name) values('resmedica', 'Residência médica');
             ]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ CREATE INDEX index_acpatoregulatorio_centerid ON acpatoregulatorio (centerid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpatoregulatorio_ocorrenciacursoid ON acpatoregulatorio (ocorrenciacursoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpavaliacao_componentedeavaliacaoid ON acpavaliacao (componentedeavaliacaoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpavaliacao_tccbancaid ON acpavaliacao (tccbancaid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpavaliacao_conceitodeavaliacaoid ON acpavaliacao (conceitodeavaliacaoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpavaliacao_matriculaid ON acpavaliacao (matriculaid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpavaliacao_centerid ON acpavaliacao (centerid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>7</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpavaliacao_unitid ON acpavaliacao (unitid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>8</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpcamposadicionaiscurso_unitid ON acpcamposadicionaiscurso (unitid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>9</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpcamposadicionaiscurso_centerid ON acpcamposadicionaiscurso (centerid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>10</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpcamposadicionaiscurso_perfilcursocamposadicionaisid ON acpcamposadicionaiscurso (perfilcursocamposadicionaisid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>11</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpcamposadicionaiscurso_cursoid ON acpcamposadicionaiscurso (cursoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>12</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpcomponentecurricular_centerid ON acpcomponentecurricular (centerid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>13</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpcomponentecurricular_matrizcurriculargrupoid ON acpcomponentecurricular (matrizcurriculargrupoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>14</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpcomponentecurricular_tipocomponentecurricularid ON acpcomponentecurricular (tipocomponentecurricularid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>15</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpcomponentecurricular_matrizcurricularid ON acpcomponentecurricular (matrizcurricularid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>16</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpcomponentecurricular_professorresponsavelid ON acpcomponentecurricular (professorresponsavelid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>17</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpcomponentecurricular_unitid ON acpcomponentecurricular (unitid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>18</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpcomponentecurricularbibliografia_unitid ON acpcomponentecurricularbibliografia (unitid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>19</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpcomponentecurriculardisciplina_centerid ON acpcomponentecurriculardisciplina (centerid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>20</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpcomponentecurriculardisciplina_unitid ON acpcomponentecurriculardisciplina (unitid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>21</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpcomponentecurriculardisciplina_componentecurricularid ON acpcomponentecurriculardisciplina (componentecurricularid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>22</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpcomponentecurricularmatriz_matrizcurriculargrupoid ON acpcomponentecurricularmatriz (matrizcurriculargrupoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>23</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpcomponentecurricularmatriz_componentecurricularid ON acpcomponentecurricularmatriz (componentecurricularid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>24</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpcomponentecurriculartrabalhoconclusao_unitid ON acpcomponentecurriculartrabalhoconclusao (unitid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>25</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpcomponentecurriculartrabalhoconclusao_centerid ON acpcomponentecurriculartrabalhoconclusao (centerid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>26</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpcomponentedeavaliacao_modelodeavaliacaoid ON acpcomponentedeavaliacao (modelodeavaliacaoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>27</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpcomponentedeavaliacaoconceito_conjuntodeconceitosid ON acpcomponentedeavaliacaoconceito (conjuntodeconceitosid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>28</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpcomponentedeavaliacaoconceito_componentedeavaliacaoid ON acpcomponentedeavaliacaoconceito (componentedeavaliacaoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>29</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpcomponentedeavaliacaonota_componentedeavaliacaoid ON acpcomponentedeavaliacaonota (componentedeavaliacaoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>30</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpconceitosdeavaliacao_conjuntodeconceitosid ON acpconceitosdeavaliacao (conjuntodeconceitosid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>31</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpcontroledefrequencia_modelodeavaliacaoid ON acpcontroledefrequencia (modelodeavaliacaoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>32</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpcontroledefrequencia_unitid ON acpcontroledefrequencia (unitid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>33</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpcontroledefrequencia_estadodematriculaid ON acpcontroledefrequencia (estadodematriculaid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>34</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpcoordenadores_ocorrenciacursoid ON acpcoordenadores (ocorrenciacursoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>35</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpcoordenadores_unitid ON acpcoordenadores (unitid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>36</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpcoordenadores_personid ON acpcoordenadores (personid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>37</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpcoordenadores_centerid ON acpcoordenadores (centerid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>38</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpcoordenadores_cursoid ON acpcoordenadores (cursoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>39</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpcurso_unitid ON acpcurso (unitid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>40</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpcurso_grauacademicoid ON acpcurso (grauacademicoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>41</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpcurso_cursorepresentanteid ON acpcurso (cursorepresentanteid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>42</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpcurso_perfilcursoid ON acpcurso (perfilcursoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>43</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpcurso_centerid ON acpcurso (centerid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>44</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpcursodocente_unitid ON acpcursodocente (unitid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>45</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpcursodocente_centerid ON acpcursodocente (centerid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>46</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpcursodocente_personid ON acpcursodocente (personid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>47</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpdocumentoperfilcurso_perfilcursoid ON acpdocumentoperfilcurso (perfilcursoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>48</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpdocumentoperfilcurso_tiposdocumentosperfilcursoid ON acpdocumentoperfilcurso (tiposdocumentosperfilcursoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>49</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpfrequencia_unitid ON acpfrequencia (unitid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>50</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpfrequencia_horarioofertacomponentecurricularid ON acpfrequencia (horarioofertacomponentecurricularid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>51</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpfrequencia_matriculaid ON acpfrequencia (matriculaid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>52</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpfrequencia_ocorrenciahorarioofertaid ON acpfrequencia (ocorrenciahorarioofertaid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>53</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpfrequencia_centerid ON acpfrequencia (centerid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>54</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acphorario_gradehorarioid ON acphorario (gradehorarioid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>55</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acphorarioofertacomponentecurricular_horarioid ON acphorarioofertacomponentecurricular (horarioid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>56</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acphorarioofertacomponentecurricular_unitid ON acphorarioofertacomponentecurricular (unitid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>57</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acphorarioofertacomponentecurricular_personid ON acphorarioofertacomponentecurricular (personid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>58</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpinscricao_ofertacursoid ON acpinscricao (ofertacursoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>59</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpinscricao_precocondicaoinscricaoid ON acpinscricao (precocondicaoinscricaoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>60</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpinscricao_centerid ON acpinscricao (centerid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>61</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpinscricao_subscriptionid ON acpinscricao (subscriptionid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>62</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpinscricao_unitid ON acpinscricao (unitid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>63</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpinscricao_diadevencimentoid ON acpinscricao (diadevencimentoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>64</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpinscricao_convenantid ON acpinscricao (convenantid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>65</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpinscricao_personid ON acpinscricao (personid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>66</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpinscricaoturmagrupo_ofertaturmaid ON acpinscricaoturmagrupo (ofertaturmaid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>67</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpinscricaoturmagrupo_matrizcurriculargrupoid ON acpinscricaoturmagrupo (matrizcurriculargrupoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>68</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpinscricaoturmagrupo_inscricaoid ON acpinscricaoturmagrupo (inscricaoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>69</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpinscricaoturmagrupo_unitid ON acpinscricaoturmagrupo (unitid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>70</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpinscricaoturmagrupo_precocondicaomatriculaid ON acpinscricaoturmagrupo (precocondicaomatriculaid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>71</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpinscricaoturmagrupo_centerid ON acpinscricaoturmagrupo (centerid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>72</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpmatricula_inscricaoturmagrupoid ON acpmatricula (inscricaoturmagrupoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>73</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpmatricula_unitid ON acpmatricula (unitid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>74</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpmatricula_centerid ON acpmatricula (centerid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>75</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpmatricula_ofertacomponentecurricularid ON acpmatricula (ofertacomponentecurricularid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>76</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpmatricula_personid ON acpmatricula (personid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>77</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpmatricula_estadodematriculaid ON acpmatricula (estadodematriculaid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>78</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpmatricula_precocondicaoid ON acpmatricula (precocondicaoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>79</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpmatrizcurricular_cursoid ON acpmatrizcurricular (cursoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>80</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpmatrizcurricular_centerid ON acpmatrizcurricular (centerid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>81</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpmatrizcurricular_unitid ON acpmatrizcurricular (unitid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>82</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpmatrizcurriculargrupo_centerid ON acpmatrizcurriculargrupo (centerid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>83</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpmatrizcurriculargrupo_matrizcurricularid ON acpmatrizcurriculargrupo (matrizcurricularid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>84</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpmatrizcurriculargrupo_unitid ON acpmatrizcurriculargrupo (unitid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>85</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpmodelodeavaliacao_estadodematriculareprovacaoid ON acpmodelodeavaliacao (estadodematriculareprovacaoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>86</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpmodelodeavaliacao_estadodematriculaaprovacaoid ON acpmodelodeavaliacao (estadodematriculaaprovacaoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>87</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpmovimentoinscricao_unitid ON acpmovimentoinscricao (unitid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>88</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpmovimentomatricula_unitid ON acpmovimentomatricula (unitid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>89</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpobservacoesdoaluno_tipodeobservacaoid ON acpobservacoesdoaluno (tipodeobservacaoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>90</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpobservacoesdoaluno_personid ON acpobservacoesdoaluno (personid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>91</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpocorrenciacurso_cursoid ON acpocorrenciacurso (cursoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>92</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpocorrenciacurso_turnid ON acpocorrenciacurso (turnid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>93</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpocorrenciacurso_centerid ON acpocorrenciacurso (centerid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>94</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpocorrenciacurso_unitid ON acpocorrenciacurso (unitid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>95</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpocorrenciahorariooferta_horarioid ON acpocorrenciahorariooferta (horarioid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>96</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpocorrenciahorariooferta_centerid ON acpocorrenciahorariooferta (centerid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>97</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpocorrenciahorariooferta_professorid ON acpocorrenciahorariooferta (professorid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>98</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpocorrenciahorariooferta_ofertacomponentecurricularid ON acpocorrenciahorariooferta (ofertacomponentecurricularid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>99</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpocorrenciahorariooferta_unitid ON acpocorrenciahorariooferta (unitid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>100</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpofertacomponentecurricular_centerid ON acpofertacomponentecurricular (centerid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>101</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpofertacomponentecurricular_ofertaturmaid ON acpofertacomponentecurricular (ofertaturmaid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>102</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpofertacomponentecurricular_unitid ON acpofertacomponentecurricular (unitid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>103</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpofertacurso_ocorrenciacursoid ON acpofertacurso (ocorrenciacursoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>104</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpofertacurso_unitid ON acpofertacurso (unitid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>105</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpofertacurso_centerid ON acpofertacurso (centerid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>106</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpofertaturma_ofertacursoid ON acpofertaturma (ofertacursoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>107</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpofertaturma_localid ON acpofertaturma (localid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>108</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpofertaturma_centerid ON acpofertaturma (centerid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>109</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpofertaturma_gradehorarioid ON acpofertaturma (gradehorarioid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>110</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpofertaturma_ofertaturmaanteriorid ON acpofertaturma (ofertaturmaanteriorid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>111</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpofertaturma_unitid ON acpofertaturma (unitid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>112</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpperfilcurso_modelodeavaliacaoseriado ON acpperfilcurso (modelodeavaliacaoseriado);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>113</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpperfilcurso_unitid ON acpperfilcurso (unitid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>114</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpperfilcurso_modelodeavaliacaogeral ON acpperfilcurso (modelodeavaliacaogeral);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>115</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpperfilcursocamposadicionais_unitid ON acpperfilcursocamposadicionais (unitid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>116</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpperfilcursocamposadicionais_perfilcursoid ON acpperfilcursocamposadicionais (perfilcursoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>117</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpperfilcursocomponentecurricular_perfilcursoid ON acpperfilcursocomponentecurricular (perfilcursoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>118</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpperfilcursocomponentecurricular_modelodeavaliacaoid ON acpperfilcursocomponentecurricular (modelodeavaliacaoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>119</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpperfilcursocomponentecurricular_unitid ON acpperfilcursocomponentecurricular (unitid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>120</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acprecuperacao_componentedeavaliacaoid ON acprecuperacao (componentedeavaliacaoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>121</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpregrasmatriculaperfilcurso_perfilcursoid ON acpregrasmatriculaperfilcurso (perfilcursoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>122</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acpregrasmatriculaperfilcurso_unitid ON acpregrasmatriculaperfilcurso (unitid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>123</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acprelacionamentodecomponentes_componentedeavaliacaopai ON acprelacionamentodecomponentes (componentedeavaliacaopai);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>124</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acprelacionamentodecomponentes_componentedeavaliacaofilho ON acprelacionamentodecomponentes (componentedeavaliacaofilho);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>125</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acptcc_matriculaid ON acptcc (matriculaid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>126</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acptcc_ofertacomponentecurricularid ON acptcc (ofertacomponentecurricularid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>127</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acptccbanca_personid ON acptccbanca (personid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>128</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acptccbanca_tccid ON acptccbanca (tccid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>129</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acptccorientador_personid ON acptccorientador (personid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>130</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acptipodocumento_perfilcursoid ON acptipodocumento (perfilcursoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>131</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acptipodocumento_documenttypeid ON acptipodocumento (documenttypeid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>132</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acptransferenciadeturma_ofertaturmaorigem ON acptransferenciadeturma (ofertaturmaorigem);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>133</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acptransferenciadeturma_ofertaturmadestino ON acptransferenciadeturma (ofertaturmadestino);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>134</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acptransferenciadeturma_personid ON acptransferenciadeturma (personid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>135</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acptransferenciadeturmadisciplinas_transferenciadeturmaid ON acptransferenciadeturmadisciplinas (transferenciadeturmaid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>136</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_acptransferenciadeturmadisciplinas_matriculaid ON acptransferenciadeturmadisciplinas (matriculaid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>137</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_prccentrocustoocorrenciacurso_costcenterid ON prccentrocustoocorrenciacurso (costcenterid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>138</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_prccentrocustoocorrenciacurso_ocorrenciacursoid ON prccentrocustoocorrenciacurso (ocorrenciacursoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>139</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_prccondicaodepagamento_unitid ON prccondicaodepagamento (unitid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>140</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_prcdiadevencimento_precocursoid ON prcdiadevencimento (precocursoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>141</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_prcformadepagamentodopreco_precocursoid ON prcformadepagamentodopreco (precocursoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>142</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_prcmovimentoprecocurso_unitid ON prcmovimentoprecocurso (unitid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>143</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_prcprecocondicao_precocursogrupoid ON prcprecocondicao (precocursogrupoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>144</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_prcprecocondicao_condicaodepagamentoid ON prcprecocondicao (condicaodepagamentoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>145</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_prcprecocondicao_operationid ON prcprecocondicao (operationid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>146</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_prcprecocondicao_unitid ON prcprecocondicao (unitid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>147</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_prcprecocondicao_precocursoid ON prcprecocondicao (precocursoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>148</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_prcprecocurso_centerid ON prcprecocurso (centerid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>149</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_prcprecocurso_policyid ON prcprecocurso (policyid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>150</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_prcprecocurso_incomesourceid ON prcprecocurso (incomesourceid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>151</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_prcprecocurso_ofertacursoid ON prcprecocurso (ofertacursoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>152</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_prcprecocurso_ocorrenciacursoid ON prcprecocurso (ocorrenciacursoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>153</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_prcprecocurso_operationid ON prcprecocurso (operationid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>154</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_prcprecocurso_ofertaturmaid ON prcprecocurso (ofertaturmaid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>155</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_prcprecocurso_bankaccountid ON prcprecocurso (bankaccountid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>156</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_prcprecocurso_unitid ON prcprecocurso (unitid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>157</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_prcprecocursogrupo_precocursoid ON prcprecocursogrupo (precocursoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>158</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_prcprecocursogrupo_matrizcurriculargrupoid ON prcprecocursogrupo (matrizcurriculargrupoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>159</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_prctituloinscricao_invoiceid ON prctituloinscricao (invoiceid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>160</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_prctituloinscricao_inscricaoid ON prctituloinscricao (inscricaoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>161</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_prctituloinscricao_centerid ON prctituloinscricao (centerid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>162</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_prctituloinscricao_unitid ON prctituloinscricao (unitid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>163</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX index_prctituloinscricao_precocondicaoid ON prctituloinscricao (precocondicaoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>164</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpmatricula ADD COLUMN frequenciasregistradas boolean;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE OR REPLACE FUNCTION acp_verificaregistrofrequencias()
RETURNS TRIGGER AS 
$BODY$
DECLARE

BEGIN

    --POr padrão assume que todos devem tem frequencia registrada
    UPDATE acpmatricula SET frequenciasregistradas = true WHERE matriculaid in ( select distinct MO.matriculaid
                                                                                            from acpmatricula M 
                                                                                      INNER JOIN acpocorrenciahorariooferta OHO 
                                                                                              ON (M.ofertacomponentecurricularid = OHO.ofertacomponentecurricularid) 
                                                                                      INNER JOIN acpmatricula MO 
                                                                                              ON MO.ofertacomponentecurricularid = M.ofertacomponentecurricularid AND MO.situacao = 'M'
                                                                                       LEFT JOIN acpfrequencia F
                                                                                              ON (F.ocorrenciahorarioofertaid = OHO.ocorrenciahorarioofertaid AND M.matriculaid = M.matriculaid)
                                                                                           WHERE M.matriculaid = NEW.matriculaid  
                                                                                             AND M.situacao = 'M' )

                                                            --para performance
                                                            AND matriculaid not in (select distinct MO.matriculaid 
                                                                                            from acpmatricula M 
                                                                                      INNER JOIN acpocorrenciahorariooferta OHO 
                                                                                              ON (M.ofertacomponentecurricularid = OHO.ofertacomponentecurricularid) 
                                                                                      INNER JOIN acpmatricula MO 
                                                                                              ON MO.ofertacomponentecurricularid = M.ofertacomponentecurricularid AND MO.situacao = 'M'
                                                                                       LEFT JOIN acpfrequencia F
                                                                                              ON (F.ocorrenciahorarioofertaid = OHO.ocorrenciahorarioofertaid AND M.matriculaid = M.matriculaid)
                                                                                           WHERE M.matriculaid = NEW.matriculaid  
                                                                                             AND M.situacao = 'M' 
                                                                                             AND F.frequencia is null);    

    --Adiciona falso para os alunos que não tem todas as frenquencias registradas
    UPDATE acpmatricula SET frequenciasregistradas = false WHERE matriculaid in (select distinct MO.matriculaid 
                                                                                            from acpmatricula M 
                                                                                      INNER JOIN acpocorrenciahorariooferta OHO 
                                                                                              ON (M.ofertacomponentecurricularid = OHO.ofertacomponentecurricularid) 
                                                                                      INNER JOIN acpmatricula MO 
                                                                                              ON MO.ofertacomponentecurricularid = M.ofertacomponentecurricularid AND MO.situacao = 'M'
                                                                                       LEFT JOIN acpfrequencia F
                                                                                              ON (F.ocorrenciahorarioofertaid = OHO.ocorrenciahorarioofertaid AND M.matriculaid = M.matriculaid)
                                                                                           WHERE M.matriculaid = NEW.matriculaid  
                                                                                             AND M.situacao = 'M' 
                                                                                             AND F.frequencia is null);

    RETURN NEW;
END;
$BODY$
LANGUAGE plpgsql;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>2</orderchange>
        </item>
	<item>
             <change>
             <![CDATA[ 
DROP TRIGGER IF EXISTS trg_verificaregistrofrequencias ON acpfrequencia;
CREATE TRIGGER trg_verificaregistrofrequencias AFTER UPDATE OR INSERT ON acpfrequencia FOR EACH ROW EXECUTE PROCEDURE acp_verificaregistrofrequencias();]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>3</orderchange>
        </item>
	<item>
             <change>
             <![CDATA[ 
UPDATE acpfrequencia SET frequencia=frequencia WHERE matriculaid IN 
(
    SELECT X.matriculaid FROM
    (select acpofertacomponentecurricular.ofertacomponentecurricularid, 
    acpofertacomponentecurricular.ofertaturmaid,
            min(acpmatricula.matriculaid) as matriculaid
       from acpofertacomponentecurricular 
  left join acpmatricula on acpmatricula.ofertacomponentecurricularid = acpofertacomponentecurricular.ofertacomponentecurricularid 
      where exists (select 1 from acpmatricula xx
                    where xx.situacao = 'M' 
                      and xx.ofertacomponentecurricularid = acpofertacomponentecurricular.ofertacomponentecurricularid) 
        and exists (SELECT 1 from acpocorrenciahorariooferta where cancelada is false and ofertacomponentecurricularid = acpofertacomponentecurricular.ofertacomponentecurricularid)
      group by 1,2) AS X
);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>4</orderchange>
        </item>
	<item>
             <change>
             <![CDATA[ 
-- Tabela para vincular o aluno a um curso, será útil em caso de cursos que mais de 1 turma
-- para verificar o status final do aluno no curso.
CREATE TABLE acpCursoInscricao (
  cursoInscricaoId              SERIAL NOT NULL, 
  personId                      int4 not null, 
  ofertaCursoId                 int4 not null, 
  situacao                      char(1) not null, --M:Matriculado --C:Cancelado --A:Aprovado --R:Reprovado --F:Reprovado por Faltas
  aprovadoTodasDisciplinas      boolean default false,
  DataFechamento                date, 
  DataFormatura                 date, 
  DataEmissaoDocumentoConclusao date, 
  Frequencia                    numeric(10,2), 
  Faltas                        numeric(10,2), 
  PRIMARY KEY (CursoInscricaoId));]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>1</orderchange>
        </item>
	<item>
             <change>
             <![CDATA[ 
--Todos os modelos de avaliação envolvidos nas turmas deste curso, para consolidação.
-- A origem desta informação é no cadastro de perfil de curso, modelos de avaliação, 
-- vem para esta tabela tudo que for cadastrado lá no momento da inscrição. 
CREATE TABLE acpCursoInscricaoAvaliacao (
  cursoInscricaoAvaliacaoId SERIAL NOT NULL, 
  cursoInscricaoId          int4 not null, 
  modeloDeAvaliacaoId       int4 not null, 
  tipoComponenteCurricularId int4,
  nota                      numeric(7,2), 
  conceito                  char(1), 
  parecer                   text,
  PRIMARY KEY (CursoInscricaoAvaliacaoId));

ALTER TABLE acpCursoInscricaoAvaliacao ADD CONSTRAINT FKacpCursoIn940345 FOREIGN KEY (CursoInscricaoId) REFERENCES acpCursoInscricao (CursoInscricaoId);
ALTER TABLE acpCursoInscricaoAvaliacao ADD CONSTRAINT FKacpCursoIn590210 FOREIGN KEY (modeloDeAvaliacaoId) REFERENCES acpModeloDeAvaliacao (modeloDeAvaliacaoId);
ALTER TABLE acpCursoInscricaoAvaliacao ADD CONSTRAINT FKacpCursoIn590211 FOREIGN KEY (tipoComponenteCurricularId) REFERENCES acpTipoComponenteCurricular (tipoComponenteCurricularId);

ALTER TABLE acpInscricao ADD COLUMN CursoInscricaoId INTEGER REFERENCES acpCursoInscricao (CursoInscricaoId);
ALTER TABLE acpcursoinscricao ALTER COLUMN situacao DROP NOT NULL;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>2</orderchange>
        </item>
	<item>
             <change>
             <![CDATA[ 
ALTER TABLE acpinscricaoturmagrupo ADD COLUMN observacoes TEXT;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>1</orderchange>
        </item>
	<item>
             <change>
             <![CDATA[ 
CREATE TABLE basDocumentosPortalCurso (
    documentosPortalCursoId SERIAL PRIMARY KEY NOT NULL,
    documentoPortalId INT REFERENCES basDocumentosPortal(documentoPortalId) NOT NULL,
    idModule VARCHAR(40) REFERENCES miolo_module(idModule) NOT NULL,
    cursoId INT REFERENCES acpCurso(cursoId),
    courseId VARCHAR(10) REFERENCES acdCourse(courseId)
) INHERITS (basLog);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>1</orderchange>
        </item>
	<item>
             <change>
             <![CDATA[ 
ALTER TABLE rccinteresse ALTER COLUMN curso DROP NOT NULL;
ALTER TABLE rccinteresse ALTER COLUMN curso TYPE text;
ALTER TABLE rccinteresse ALTER COLUMN contrato DROP NOT NULL;]]>
             </change>
             <applicationversion>32000</applicationversion>
             <orderchange>1</orderchange>
        </item>
	   <item>
             <change>
             <![CDATA[ 
CREATE INDEX idx_fincounter_iscountertreasury ON fincounter(iscountertreasury);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
 ALTER TABLE acpCursoInscricao ADD cursoid int references acpcurso(cursoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
 ALTER TABLE acpCursoInscricao DROP COLUMN ofertaCursoId;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpCursoInscricao ALTER COLUMN CursoId set NOT NULL;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>3</orderchange>
        </item>
	    <item>
             <change>
             <![CDATA[ 
 ALTER TABLE acpCursoInscricao DROP COLUMN ofertaCursoId;]]>
             </change>
             <applicationversion>32101</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
DROP TRIGGER trg_unidade_acdenrollconfig ON acdenrollconfig;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
UPDATE acdEnrollConfig X
   SET unitId = null
  FROM ( SELECT enrollConfigId
           FROM acdEnrollConfig
          WHERE courseId IS NULL
            AND courseVersion IS NULL
            AND turnId IS NULL
            AND unitId IS NOT NULL ) A
 WHERE X.enrollConfigId = A.enrollConfigId;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[
ALTER TABLE spr.step ADD COLUMN digitacaoNotasSomenteAprovados BOOLEAN DEFAULT FALSE; 
	     ]]>
             </change>
             <applicationversion>32200</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[
CREATE TABLE logFrequenciaPortal(
	personid bigint REFERENCES basperson(personid),
	groupId INT REFERENCES acdgroup(groupId),
	navegador CHARACTER VARYING,        
	enrollid INT REFERENCES acdEnroll(enrollid),
	scheduleid INT REFERENCES acdSchedule(scheduleid),
	frequencydate DATE,
	frequency DOUBLE PRECISION,
	timeid INT  REFERENCES acdtime(timeid),
	salvou BOOLEAN	
) INHERITS (basLog);
             ]]>
             </change>
             <applicationversion>32000</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ SELECT setval('med.atividadeextra_atividadeextraid_seq', COALESCE((SELECT MAX(atividadeextraid) FROM med.atividadeextra), 1));]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT setval('med.cargahorariacomplementar_cargahorariacomplementarid_seq', COALESCE((SELECT MAX(cargahorariacomplementarid) FROM med.cargahorariacomplementar), 1));]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT setval('med.encontro_encontroid_seq', COALESCE((SELECT MAX(encontroid) FROM med.encontro), 1));]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT setval('med.enfase_enfaseid_seq', COALESCE((SELECT MAX(enfaseid) FROM med.enfase), 1));]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT setval('med.nucleoprofissional_nucleoprofissionalid_seq', COALESCE((SELECT MAX(nucleoprofissionalid) FROM med.nucleoprofissional), 1));]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT setval('med.ocorrenciadecontrato_ocorrenciadecontratoid_seq', COALESCE((SELECT MAX(ocorrenciadecontratoid) FROM med.ocorrenciadecontrato), 1));]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT setval('med.ocorrenciadeoferta_ocorrenciadeofertaid_seq', COALESCE((SELECT MAX(ocorrenciadeofertaid) FROM med.ocorrenciadeoferta), 1));]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>7</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT setval('med.ofertadeunidadetematica_ofertadeunidadetematicaid_seq', COALESCE((SELECT MAX(ofertadeunidadetematicaid) FROM med.ofertadeunidadetematica), 1));]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>8</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT setval('med.ofertadoresidente_ofertadoresidenteid_seq', COALESCE((SELECT MAX(ofertadoresidenteid) FROM med.ofertadoresidente), 1));]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>9</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT setval('med.penalidade_penalidadeid_seq', COALESCE((SELECT MAX(penalidadeid) FROM med.penalidade), 1));]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>10</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT setval('med.preceptoria_preceptorid_seq', COALESCE((SELECT MAX(preceptorid) FROM med.preceptoria), 1));]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>11</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT setval('med.residente_residenteid_seq', COALESCE((SELECT MAX(residenteid) FROM med.residente), 1));]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>12</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT setval('med.statusdaocorrenciadecontrato_statusdaocorrenciadecontratoid_seq', COALESCE((SELECT MAX(statusdaocorrenciadecontratoid) FROM med.statusdaocorrenciadecontrato), 1));]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>13</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT setval('med.tema_temaid_seq', COALESCE((SELECT MAX(temaid) FROM med.tema), 1));]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>14</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT setval('med.tipodecargahorariacomplementa_tipodecargahorariacomplementa_seq', COALESCE((SELECT MAX(tipodecargahorariacomplementarid) FROM med.tipodecargahorariacomplementar), 1));]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>15</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT setval('med.tipodepenalidade_tipopenalidadeid_seq', COALESCE((SELECT MAX(tipopenalidadeid) FROM med.tipodepenalidade), 1));]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>16</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT setval('med.trabalhodeconclusao_trabalhodeconclusaoid_seq', COALESCE((SELECT MAX(trabalhodeconclusaoid) FROM med.trabalhodeconclusao), 1));]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>17</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT setval('med.turma_turmaid_seq', COALESCE((SELECT MAX(turmaid) FROM med.turma), 1));]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>18</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT setval('med.unidadetematica_unidadetematicaid_seq', COALESCE((SELECT MAX(unidadetematicaid) FROM med.unidadetematica), 1));]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>19</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT setval('seq_documenttypeid', (SELECT MAX(documenttypeid) FROM basdocumenttype));]]>
             </change>
             <applicationversion>32000</applicationversion>
             <orderchange>19</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdMoodleSubscription ADD COLUMN idmodule VARCHAR(40) REFERENCES miolo_module(idmodule) NOT NULL DEFAULT 'academic';]]>
             </change>
             <applicationversion>32200</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdMoodleSubscription DROP CONSTRAINT acdmoodlesubscription_groupid_fkey;]]>
             </change>
             <applicationversion>32200</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN acdMoodleSubscription.groupid IS 'groupid é a coluna responsável por armazenar o identificador do registro, independente módulo';]]>
             </change>
             <applicationversion>32200</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
UPDATE ptcrequeststatus SET description = 'AGUARDANDO PAGAMENTO' WHERE requeststatusid = 1;]]>
             </change>
             <applicationversion>32000</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
 ALTER TABLE acpcursoinscricao ADD COLUMN cargahorariaoferecida NUMERIC(10,2);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpcursoinscricao DROP COLUMN frequencia;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpcursoinscricao ADD COLUMN cargahorariacursada NUMERIC(10,2);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE acpCurso ALTER datafim DROP NOT NULL;]]>
             </change>
             <applicationversion>32200</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpMatrizCurricular ALTER datafinal DROP NOT NULL;]]>
             </change>
             <applicationversion>32200</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE basimportacaofrequenciasmovimentacao ALTER COLUMN pis TYPE varchar(16);]]>
             </change>
             <applicationversion>32200</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE finreceivableinvoice ADD COLUMN aglutinado BOOLEAN DEFAULT FALSE;]]>
             </change>
             <applicationversion>32200</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE fininvoice ADD COLUMN aglutinado BOOLEAN DEFAULT FALSE;]]>
             </change>
             <applicationversion>32200</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
UPDATE basconfig SET value = '0' WHERE parameter ilike 'DEFAULT_IMPORT_VALUE_DISCARTED';]]>
             </change>
             <applicationversion>32000</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE ptcrequest ALTER COLUMN currentsectorid SET NOT NULL ;]]>
             </change>
             <applicationversion>32000</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE rccinteresse ALTER COLUMN curso DROP NOT NULL ;]]>
             </change>
             <applicationversion>32000</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE rccinteresse ALTER COLUMN contrato DROP NOT NULL ;]]>
             </change>
             <applicationversion>32000</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE rccinteresse ALTER COLUMN telefone DROP NOT NULL ;]]>
             </change>
             <applicationversion>32000</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE rccinteresse ALTER COLUMN cpf DROP NOT NULL ;]]>
             </change>
             <applicationversion>32000</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE rccinteresse ALTER COLUMN rcccontatocontatoid DROP NOT NULL ;]]>
             </change>
             <applicationversion>32000</applicationversion>
             <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdTransferencia ADD COLUMN aproveitoumatriculadasdodestino BOOLEAN;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdTransferencia ADD COLUMN aproveitoumatriculadasdooriginal BOOLEAN;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
UPDATE basConfig SET value = value || $$,t$$, label = $$Habilita o checkbox de aproveitamento de disciplinas matriculadas e o deixa readonly, no processo de transferência de ocorrência de curso. E também deixa o padrão do uso de oferecidas.$$, description = $$O primeiro parametro 't' ou 'f' marca/desmarca o checkbox e o segundo parametro 't' ou 'f' seta o checkbox como readonly, e por fim, o terceiro parâmetro 't' ou 'f' específica qual será o padrão de uso para aproveitar as matriculadas oferecidas, 't' é o padrão (busca da nova ocorrência) e 'f' (busca da ocorrência original).$$ WHERE moduleConfig = 'ACADEMIC' AND parameter = 'TRANSFERENCIA_APROVEITAR_MATRICULADAS';]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX idx_finincentivetype_operationid ON finincentivetype(operationid);]]>
             </change>
             <applicationversion>32000</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX idx_acdlearningperiod_courseoccurrence_period ON acdLearningPeriod(periodid,courseid,courseversion,turnid,unitid);]]>
             </change>
             <applicationversion>32000</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX idx_convenantperson_convenantid ON finconvenantperson(convenantid);]]>
             </change>
             <applicationversion>32000</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ CREATE TABLE finperfilnegociacao(
perfilnegociacaoid SERIAL PRIMARY KEY,
descricao varchar not null,
permiterenegociacao boolean) 
Inherits(baslog);]]>
             </change>
             <applicationversion>32200</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE TABLE fincondicoesdepagamentoperfil(
condicoesdepagamentoperfilid SERIAL PRIMARY KEY,
perfilnegociacaoid integer not null REFERENCES finperfilnegociacao(perfilnegociacaoid) ON DELETE CASCADE,
operationid integer not null REFERENCES finoperation(operationid),
bankaccountid integer not null REFERENCES finbankaccount(bankaccountid),
costcenterid varchar(30) not null REFERENCES acccostcenter(costcenterid),
policyid integer not null REFERENCES finpolicy(policyid),
tipo char(1) not null,
taxanegociacao numeric,
percentualentrada numeric not null,
numeroparcelas integer not null,
juros numeric,
ordemcondicao integer not null,
diavencimento integer not null,
liberarjuros boolean,
liberarmulta boolean) 
Inherits(baslog);]]>
             </change>
             <applicationversion>32200</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create table finperfilnegociacaogrupo(
perfilnegociacaogrupoid SERIAL PRIMARY KEY,
perfilnegociacaoid integer REFERENCES finperfilnegociacao(perfilnegociacaoid) ON DELETE CASCADE,
idgroup integer REFERENCES miolo_group(idgroup))
Inherits(baslog);]]>
             </change>
             <applicationversion>32200</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpocorrenciahorariooferta ADD COLUMN assunto TEXT;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN acpocorrenciahorariooferta.assunto IS 'Assunto da aula';]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN acpocorrenciahorariooferta.conteudo IS 'Conteúdo ministrado pelo professor';]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN acpocorrenciahorariooferta.dataaula IS 'Data da aula';]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN acpocorrenciahorariooferta.possuifrequencia IS 'Indica se a aula possui alguma frequência 
registrada';]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN acpocorrenciahorariooferta.cancelada IS 'Indica se a aula foi cancelada';]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN acpocorrenciahorariooferta.motivo_cancelamento IS 'Motivo do cancelamento da aula';]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>7</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN acpocorrenciahorariooferta.horarioid IS 'Código do horário da aula';]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>8</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN acpocorrenciahorariooferta.ofertacomponentecurricularid IS 'Código da oferta do componente curricular';]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>9</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN acpocorrenciahorariooferta.professorid IS 'Código do professor';]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>10</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN acpocorrenciahorariooferta.physicalresourceid IS 'Código do recurso físico';]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>11</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN acpocorrenciahorariooferta.physicalresourceversion IS 'Versão do recurso físico';]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>12</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN acpocorrenciahorariooferta.repete IS 'Indica se a aula se repete';]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>13</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE tra.request ADD column place character varying;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE finoperation DROP COLUMN accountschemeid_opposite;]]>
             </change>
             <applicationversion>32200</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE med.unidadetematica ADD COLUMN notaMaxima REAL;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE med.unidadetematica ADD COLUMN notaMinimaParaAprovacao REAL;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE TABLE med.notaDoResidenteNaOfertaDeUnidadeTematica (
    notaDoResidenteNaOfertaDeUnidadeTematicaId SERIAL PRIMARY KEY NOT NULL,
    residenteId INT REFERENCES med.residente(residenteId) NOT NULL,
    ofertaDeUnidadeTematicaId INT REFERENCES med.ofertaDeUnidadeTematica(ofertaDeUnidadeTematicaId) NOT NULL,
    nota REAL
) INHERITS(basLog);]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX idx_notaDoResidenteNaOfertaDeUnidadeTematica_notaDoResidenteNaOfertaDeUnidadeTematicaId ON med.notaDoResidenteNaOfertaDeUnidadeTematica(notaDoResidenteNaOfertaDeUnidadeTematicaId);]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX idx_notaDoResidenteNaOfertaDeUnidadeTematica_residenteId ON med.notaDoResidenteNaOfertaDeUnidadeTematica(residenteId);]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX idx_notaDoResidenteNaOfertaDeUnidadeTematica_ofertaDeUnidadeTematicaId ON med.notaDoResidenteNaOfertaDeUnidadeTematica(ofertaDeUnidadeTematicaId);]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE TABLE med.periodo (
    periodoId SERIAL PRIMARY KEY NOT NULL,
    periodo VARCHAR(10) NOT NULL,
    descricao VARCHAR(255) NOT NULL,
    anosDeDuracao INT NOT NULL
) INHERITS(basLog);]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
INSERT INTO med.periodo
            (periodo, descricao, anosDeDuracao)
     VALUES ('P1', 'PRIMEIRO ANO', 1),
            ('P2', 'SEGUNDO ANO', 2),
            ('P3', 'TERCEIRO ANO', 3),
            ('P4', 'QUARTO ANO', 4),
            ('P5', 'QUINTO ANO', 5);]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE TABLE med.tipoDeUnidadeTematica (
    tipoDeUnidadeTematicaId CHAR(1) PRIMARY KEY NOT NULL,
    descricao VARCHAR(45) NOT NULL,
    UNIQUE(tipoDeUnidadeTematicaId)
) INHERITS(basLog);]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE TABLE res.tipoDeUnidadeTematica (
    tipoDeUnidadeTematicaId CHAR(1) PRIMARY KEY NOT NULL,
    descricao VARCHAR(45) NOT NULL,
    UNIQUE(tipoDeUnidadeTematicaId)
) INHERITS(basLog);]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
INSERT INTO med.tipoDeUnidadeTematica
            (tipoDeUnidadeTematicaId, descricao)
     VALUES ('P', 'PRÁTICA'),
            ('T', 'TEÓRICA'),
            ('C', 'TEÓRICA CONCEITUAL');]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
INSERT INTO res.tipoDeUnidadeTematica
            (tipoDeUnidadeTematicaId, descricao)
     VALUES ('P', 'PRÁTICA'),
            ('T', 'TEÓRICA'),
            ('C', 'TEÓRICA CONCEITUAL');]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE med.enfase ADD COLUMN enfaseDePreRequisitoId INTEGER REFERENCES med.enfase(enfaseId);]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE med.residente ADD COLUMN registroDeConclusaoDoPreRequisito VARCHAR;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
    CREATE TABLE med.notaDoResidenteNoTrimestreDoPeriodo (
    notaDoResidenteNoTrimestreDoPeriodoId SERIAL PRIMARY KEY NOT NULL,
    residenteId INT REFERENCES med.residente(residenteId) NOT NULL,
    periodoId INT REFERENCES med.periodo(periodoId) NOT NULL,
    trimestre INT NOT NULL,
    tipoDeNota CHAR(1) DEFAULT 'T', --T(Trimestral), M(Média)
    nota REAL,
    parecer TEXT,
    UNIQUE (residenteId, periodoId, trimestre)
) INHERITS(basLog);]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE med.residente DROP COLUMN notaperiodo1semestre1;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE med.residente DROP COLUMN parecerperiodo1semestre1;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE med.residente DROP COLUMN notaperiodo1semestre2;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE med.residente DROP COLUMN parecerperiodo1semestre2;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE med.residente DROP COLUMN mediaperiodo1;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE med.residente DROP COLUMN parecermediaperiodo1;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>7</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE med.residente DROP COLUMN notaperiodo2semestre1;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>8</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE med.residente DROP COLUMN parecerperiodo2semestre1;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>9</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE med.residente DROP COLUMN notaperiodo2semestre2;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>10</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE med.residente DROP COLUMN parecerperiodo2semestre2;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>11</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE med.residente DROP COLUMN mediaperiodo2;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>12</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE med.residente DROP COLUMN parecermediaperiodo2;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>13</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE med.residente DROP COLUMN notaperiodo3semestre1;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>14</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE med.residente DROP COLUMN parecerperiodo3semestre1;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>15</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE med.residente DROP COLUMN notaperiodo3semestre2;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>16</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE med.residente DROP COLUMN parecerperiodo3semestre2;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>17</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE med.residente DROP COLUMN mediaperiodo3;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>18</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE med.residente DROP COLUMN parecermediaperiodo3;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>19</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE acpofertaturma DROP COLUMN datainicialrematricula;]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpofertaturma DROP COLUMN datafinalrematricula;]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpofertaturma DROP COLUMN datainicialajustes;]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpofertaturma DROP COLUMN datafinalajustes;]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpofertaturma DROP COLUMN datainicialcancelamentos;]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpofertaturma DROP COLUMN datafinalcancelamentos;]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpofertaturma DROP COLUMN datainicialtrancamentos;]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>7</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpofertaturma DROP COLUMN datafinaltrancamentos;]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>8</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpofertaturma DROP COLUMN datainicialtransferencia;]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>9</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpofertaturma DROP COLUMN datafinaltransferencia;]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>10</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpofertaturma DROP COLUMN datainicialreingressos;]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>11</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpofertaturma DROP COLUMN datafinalreingressos;]]>
             </change>
             <applicationversion>31401</applicationversion>
             <orderchange>12</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
INSERT INTO acpCursoInscricao (personId, cursoId, situacao,cargahorariaoferecida, cargahorariacursada) 
SELECT pessoas.personId, 
pessoas.cursoId, 
CASE WHEN (SELECT COUNT(situacao)
FROM acpMatricula
WHERE personId = pessoas.personId
AND situacao = 'M') >0 THEN 'M'
WHEN (SELECT COUNT(situacao)
FROM acpMatricula
WHERE personId = pessoas.personId
AND situacao = 'A') >= (select count(distinct ofertacomponentecurricularid) from acpocorrenciahorariooferta inner join acphorario using(horarioid) where ofertacomponentecurricularid in (select ofertacomponentecurricularid from acpofertacomponentecurricular A inner join acpcomponentecurricularmatriz using(componentecurricularmatrizid) where A.ofertaturmaid in (SELECT distinct ofertaturmaid FROM acpinscricao A inner join acpinscricaoturmagrupo B using(ofertaturmaid) inner join acpofertaturma C using (ofertaturmaid) inner join acpofertacurso D on C.ofertacursoid=D.ofertacursoid inner join acpocorrenciacurso using (ocorrenciacursoid) where personid=pessoas.personId and cursoid=pessoas.cursoId))) THEN 'A'
ELSE 'X'
END AS situacao,
( (select sum(minutosfrequencia) from acpocorrenciahorariooferta inner join acphorario using(horarioid) where ofertacomponentecurricularid in (select ofertacomponentecurricularid from acpofertacomponentecurricular A inner join acpcomponentecurricularmatriz using(componentecurricularmatrizid) where A.ofertaturmaid in (SELECT distinct ofertaturmaid FROM acpinscricao A inner join acpinscricaoturmagrupo B using(ofertaturmaid) inner join acpofertaturma C using (ofertaturmaid) inner join acpofertacurso D on C.ofertacursoid=D.ofertacursoid inner join acpocorrenciacurso using (ocorrenciacursoid) where personid=pessoas.personId and cursoid=pessoas.cursoId)))/60)::numeric(10,2) as cargahorariaoferecida,
((select sum(minutosfrequencia) from acpocorrenciahorariooferta inner join acphorario using(horarioid) where ofertacomponentecurricularid in (select ofertacomponentecurricularid from acpofertacomponentecurricular A inner join acpcomponentecurricularmatriz using(componentecurricularmatrizid) where A.ofertaturmaid in (SELECT distinct ofertaturmaid FROM acpinscricao A inner join acpinscricaoturmagrupo B using(ofertaturmaid) inner join acpofertaturma C using (ofertaturmaid) inner join acpofertacurso D on C.ofertacursoid=D.ofertacursoid inner join acpocorrenciacurso using (ocorrenciacursoid) where personid=pessoas.personId and cursoid=pessoas.cursoId)) and ocorrenciahorarioofertaid in (select distinct ocorrenciahorarioofertaid from acpfrequencia inner join acpmatricula using (matriculaid) where personid=pessoas.personId and acpfrequencia.frequencia in ('J','A')))/60)::numeric(10,2) as cargahorariacursada
FROM
(SELECT M.personId, 
C.cursoId, 
M.situacao
FROM acpMatricula M
LEFT JOIN acpInscricaoTurmaGrupo G
ON (M.inscricaoTurmaGrupoId = G.inscricaoTurmaGrupoId)
LEFT JOIN acpOfertaTurma T
ON (T.ofertaTurmaId = G.ofertaTurmaId)
LEFT JOIN acpOfertaCurso O
ON (T.ofertaCursoId = O.ofertaCursoId)
LEFT JOIN acpOcorrenciaCurso OC
ON (O.ocorrenciaCursoId = OC.ocorrenciaCursoId)
LEFT JOIN acpCurso C
ON (C.cursoId = OC.cursoId)
WHERE NOT EXISTS (SELECT 1
FROM acpCursoInscricao
WHERE personId = M.personId
AND cursoId = C.cursoId)) AS pessoas
GROUP BY 1,2,3
ORDER BY 1;]]>
             </change>
             <applicationversion>32101</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE finincentive add COLUMN opcaodeajuste CHAR(1) DEFAULT 'D';]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN finincentive.opcaodeajuste IS 'Opção de ajuste para aplicar o incentivo em matrículas já realizadas, ponde ser D - Diluir valor em parcelas restantes ou A - Abater parcelas sequentes com valor pago. Valor padrão E - Diluir em parcelas restantes.';]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ create index idx_finresumomatriculalog_categoria on finresumomatriculalog(categoria);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index idx_finresumomatriculalog_detalhe on finresumomatriculalog(detalhe);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index idx_finresumomatriculalog_resumomatriculaid on finresumomatriculalog(resumomatriculaid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
DROP SEQUENCE IF EXISTS finnfe_nfeid_seq CASCADE;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
DROP TABLE finNfe CASCADE;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE TABLE finEmissaoLoteNfe (
    emissaoLoteNfeId SERIAL PRIMARY KEY NOT NULL,
    codigoLoteRetornado INT NOT NULL,
    pagamentosEntre DATE NOT NULL,
    pagamentosAte DATE NOT NULL,
    unitId INT REFERENCES basUnit(unitId) NOT NULL,
    valorMinimoDosPagamentos NUMERIC(14,4),
    discriminacao TEXT 
) INHERITS (basLog);]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE TABLE finNfe (
    nfeId SERIAL PRIMARY KEY NOT NULL,
    rpsId INT REFERENCES finEntry(entryId) NOT NULL,
    emissaoLoteNfeId INT REFERENCES finEmissaoLoteNfe(emissaoLoteNfeId) NOT NULL,
    estaCancelada BOOLEAN DEFAULT FALSE NOT NULL,
    numeroNotaFiscal INT NOT NULL
) INHERITS (basLog);]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE finentry DROP COLUMN rpsid;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>7</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE finentry DROP COLUMN nfeid;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>8</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE finincentive add COLUMN opcaodeajuste CHAR(1) DEFAULT 'D';]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>9</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN finincentive.opcaodeajuste IS 'Opção de ajuste para aplicar o incentivo em matrículas já realizadas, ponde ser D - Diluir valor em parcelas restantes ou A - Abater parcelas sequentes com valor pago. Valor padrão E - Diluir em parcelas restantes.';]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>10</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE finNfe ADD COLUMN codigoVerificacao TEXT NOT NULL;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE finNfe ADD COLUMN inscricaoPrestador INT NOT NULL;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ DROP FUNCTION IF EXISTS isdefaulter(bigint);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE finincentive ADD COLUMN concedersobre CHAR(1) DEFAULT 'N';]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN finincentive.concedersobre IS 'Indica sobre qual o valor a ser concedido o incentivo. Valor nominal (N) ou Saldo em aberto (S)';]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE finincentive ADD COLUMN prioridade INTEGER;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE accCourseAccount ALTER COLUMN accountSchemeId DROP NOT NULL;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaCurso   DROP COLUMN datafinalajustes CASCADE;
 
              ]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>4</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaCurso   DROP COLUMN datainicialtransferencia CASCADE;
 
              ]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>5</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaCurso   DROP COLUMN datainicialaulas CASCADE;
 
              ]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>6</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaCurso   DROP COLUMN datafinalcancelamentos CASCADE;
 
              ]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>7</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaCurso   DROP COLUMN datafinaloferta CASCADE;
 
              ]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>8</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaCurso   DROP COLUMN datainicialajustes CASCADE;
 
              ]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>9</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaCurso   DROP COLUMN datafinalreingressos CASCADE;
 
              ]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>10</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaCurso   DROP COLUMN datafinalinscricao CASCADE;
 
              ]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>11</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaCurso   DROP COLUMN datainicialinscricao CASCADE;
 
              ]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>12</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaCurso   DROP COLUMN datainicialtrancamentos CASCADE;
 
              ]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>13</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaCurso   DROP COLUMN datafinalaulas CASCADE;
 
              ]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>14</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaCurso   DROP COLUMN datafinalmatricula CASCADE;
 
              ]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>15</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaCurso   DROP COLUMN datainicialcancelamentos CASCADE;
 
              ]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>16</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaCurso   DROP COLUMN datafinaltrancamentos CASCADE;
 
              ]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>17</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaCurso   DROP COLUMN datavencimentotaxainscricao CASCADE;
 
              ]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>18</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaCurso   DROP COLUMN datainicialmatricula CASCADE;
 
              ]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>19</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaCurso   DROP COLUMN datainicialoferta CASCADE;
 
              ]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>20</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaCurso   DROP COLUMN datainicialrematricula CASCADE;
 
              ]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>21</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaCurso   DROP COLUMN datafinalrematricula CASCADE;
 
              ]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>22</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaCurso   DROP COLUMN datainicialreingressos CASCADE;
 
              ]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>23</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaCurso   DROP COLUMN datafinaltransferencia CASCADE;
 
              ]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>24</orderchange>
        </item>
         <item>
             <change>
             <![CDATA[
                ALTER TABLE acpOfertaTurma   ADD COLUMN gradeHorarioId int4;
 
              ]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>25</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE accCourseAccount ALTER COLUMN accountSchemeId DROP NOT NULL;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

CREATE TABLE med.diariodecampo(
   diariodecampoid SERIAL PRIMARY KEY,
   inicio TIMESTAMP NOT NULL,
   fim TIMESTAMP NOT NULL,
   cargahoraria REAL NOT NULL,
   conteudoabordado TEXT,
   ministrante TEXT,
   ofertadeunidadetematicaid INTEGER REFERENCES med.ofertadeunidadetematica(ofertadeunidadetematicaid),
   residenteid INTEGER REFERENCES med.residente(residenteid)
) INHERITS(baslog);]]>
             </change>
             <applicationversion>32400</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
             DROP TABLE finNfe  CASCADE; 
             ]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>20</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE TABLE finNfe (
    nfeId SERIAL PRIMARY KEY NOT NULL,
    rpsId INT REFERENCES finEntry(entryId) NOT NULL,
    emissaoLoteNfeId INT REFERENCES finEmissaoLoteNfe(emissaoLoteNfeId) NOT NULL,
    estaCancelada BOOLEAN DEFAULT FALSE NOT NULL,
    numeroNotaFiscal INT NOT NULL,
    codigoVerificacao TEXT NOT NULL,
    inscricaoPrestador INT NOT NULL
) INHERITS (basLog);]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>21</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[
            UPDATE basconfig set value = 'APOS_MES_VENCIMENTO' WHERE parameter = 'GERAR_PARCELAS_RESTANTES' AND value = 'YES';
             ]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE acdenrollconfig DROP disapprovementstoblocktimetocoursedisapproved CASCADE ;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdenrollconfig ADD disapprovementstoblocktimetocoursedisapproved BOOLEAN NOT NULL DEFAULT FALSE ;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdperiod ADD COLUMN prevPeriodId VARCHAR(10) REFERENCES acdPeriod(periodId);
ALTER TABLE acdperiod ADD CONSTRAINT const_acdperiod_prevperiodid CHECK (periodid <> prevperiodid);
CREATE INDEX idx_acdperiod_prevperiodid ON acdperiod(prevperiodid);]]>
             </change>
             <applicationversion>32400</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE med.frequencia ADD fileid INTEGER REFERENCES basfile(fileid);]]>
             </change>
             <applicationversion>32400</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE finCondicoesDePagamentoPerfil ADD COLUMN percentualDeDesconto NUMERIC;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpcurso ADD COLUMN lancarvalordecancelamento BOOLEAN DEFAULT TRUE;
COMMENT ON COLUMN acpcurso.lancarvalordecancelamento IS 'Define se lança valor credor ou devedor do aluno no ato do cancelamento.';]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ create index idx_finlancamentosemvinculo_datadecaixa on finlancamentosemvinculo(datadecaixa );]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index idx_finlancamentosemvinculo_datadecompetencia on finlancamentosemvinculo(datadecompetencia );]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index idx_caplancamento_datalancamento on caplancamento(datalancamento);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpFrequencia DROP COLUMN horarioofertacomponentecurricularid CASCADE;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpCursoInscricao ADD cursoid int references acpcurso(cursoid) NOT NULL ;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ create index idx_finreceivableinvoice_competencydate on finreceivableinvoice(competencydate);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index idx_finbankmovement_tituloid on fin.bankmovement(tituloid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index index_acpmatricula_situacao on acpmatricula(situacao);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index idx_acpcursoinscricao_personid on acpcursoinscricao(personid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index idx_acpcursoinscricao_cursoid on acpcursoinscricao(cursoid);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[
UPDATE acpocorrenciacurso SET centerid = X.centerid FROM (SELECT cursoid,centerid FROM acpcurso) AS X WHERE X.cursoid = acpocorrenciacurso.cursoid AND acpocorrenciacurso.centerid IS NULL;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[
UPDATE acpofertacurso SET centerid = X.centerid FROM (SELECT ocorrenciacursoid,centerid FROM acpocorrenciacurso) AS X WHERE X.ocorrenciacursoid = acpofertacurso.ocorrenciacursoid AND acpofertacurso.centerid IS NULL;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[
UPDATE acpofertaturma SET centerid = X.centerid FROM (SELECT ofertacursoid,centerid FROM acpofertacurso) AS X WHERE X.ofertacursoid = acpofertaturma.ofertacursoid AND acpofertaturma.centerid IS NULL;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[
UPDATE acpmatrizcurricular SET centerId = X.centerId FROM (SELECT centerId, cursoId FROM acpCurso) X WHERE X.cursoId = acpmatrizcurricular.cursoId AND acpmatrizcurricular.centerId IS NULL;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[
UPDATE acpmatrizcurriculargrupo SET centerId = X.centerId FROM (SELECT centerId, matrizcurricularid FROM acpmatrizcurricular) X WHERE X.matrizcurricularid = acpmatrizcurriculargrupo.matrizcurricularid AND acpmatrizcurriculargrupo.centerId IS NULL;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[
UPDATE acpinscricaoturmagrupo SET centerId = X.centerId FROM (SELECT centerId, ofertaTurmaId FROM acpofertaturma) X WHERE X.ofertaTurmaId = acpinscricaoturmagrupo.ofertaTurmaId AND acpinscricaoturmagrupo.centerId IS NULL;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[
UPDATE acpcomponentecurricular SET centerId = X.centerId FROM (SELECT B.centerId, A.componentecurricularid FROM acpMatrizCurricularGrupo B INNER JOIN acpComponenteCurricularMatriz A ON (B.matrizCurricularGrupoId = A.matrizCurricularGrupoId)) X WHERE X.componentecurricularid = acpcomponentecurricular.componentecurricularid AND acpcomponentecurricular.centerId IS NULL;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>7</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[
UPDATE acpofertacomponentecurricular SET centerId = X.centerId FROM (SELECT centerId, ofertaTurmaId FROM acpofertaturma) X WHERE X.ofertaTurmaId = acpofertacomponentecurricular.ofertaTurmaId AND acpofertacomponentecurricular.centerId IS NULL;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>8</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[
UPDATE acpmatricula SET centerId = X.centerId FROM (SELECT centerId, ofertaComponenteCurricularId FROM acpOfertaComponenteCurricular) X WHERE X.ofertaComponenteCurricularId = acpmatricula.ofertaComponenteCurricularId AND acpmatricula.centerId IS NULL;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>9</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[
UPDATE acpocorrenciahorariooferta SET centerId = X.centerId FROM (SELECT centerId, ofertaComponenteCurricularId FROM acpOfertaComponenteCurricular) X WHERE X.ofertaComponenteCurricularId = acpocorrenciahorariooferta.ofertaComponenteCurricularId AND acpocorrenciahorariooferta.centerId IS NULL;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>10</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE med.penalidade ADD column arquivo1 integer references basfile(fileid);]]>
             </change>
             <applicationversion>32400</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE med.penalidade ADD column arquivo2 integer references basfile(fileid);]]>
             </change>
             <applicationversion>32400</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE med.preceptoria ADD column arquivo1 integer references basfile(fileid);]]>
             </change>
             <applicationversion>32400</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE med.preceptoria ADD column arquivo2 integer references basfile(fileid);]]>
             </change>
             <applicationversion>32400</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ CREATE SEQUENCE seq_gtcoperation_operationid;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT SETVAL('seq_gtcoperation_operationid', (SELECT max(operationid) FROM gtcoperation));]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE gtcoperation ALTER COLUMN operationid SET DEFAULT nextval('seq_gtcoperation_operationid');]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>3</orderchange>
        </item>
                <item>
             <change>
             <![CDATA[ CREATE SEQUENCE seq_trasubscription_subscriptionid;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT SETVAL('seq_trasubscription_subscriptionid', (SELECT max(subscriptionid) FROM tra.subscription));]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE tra.subscription ALTER COLUMN subscriptionid SET DEFAULT nextval('seq_trasubscription_subscriptionid');]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE SEQUENCE seq_medatividadeextra_atividadeextraid;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT SETVAL('seq_medatividadeextra_atividadeextraid', (SELECT max(atividadeextraid) FROM med.atividadeextra));]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE med.atividadeextra ALTER COLUMN atividadeextraid SET DEFAULT nextval('seq_medatividadeextra_atividadeextraid');]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE SEQUENCE seq_medcargahorariacomplementar_cargahorariacomplementarid;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>7</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT SETVAL('seq_medcargahorariacomplementar_cargahorariacomplementarid', (SELECT max(cargahorariacomplementarid) FROM med.cargaHorariaComplementar));]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>8</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE med.cargahorariacomplementar ALTER COLUMN cargahorariacomplementarid SET DEFAULT nextval('seq_medcargahorariacomplementar_cargahorariacomplementarid');]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>9</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE SEQUENCE seq_medencontro_encontroid;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>10</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT SETVAL('seq_medencontro_encontroid', (SELECT max(encontroid) FROM med.encontro));]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>11</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE med.encontro ALTER COLUMN encontroid SET DEFAULT nextval('seq_medencontro_encontroid');]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>12</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE SEQUENCE seq_medenfase_enfaseid;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>13</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT SETVAL('seq_medenfase_enfaseid', (SELECT max(enfaseid) FROM med.enfase));]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>14</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE med.enfase ALTER COLUMN enfaseid SET DEFAULT nextval('seq_medenfase_enfaseid');]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>15</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE SEQUENCE seq_mednucleoprofissional_nucleoprofissionalid;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>16</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT SETVAL('seq_mednucleoprofissional_nucleoprofissionalid', (SELECT max(nucleoprofissionalid) FROM med.nucleoprofissional));]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>17</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE med.nucleoprofissional ALTER COLUMN nucleoprofissionalid SET DEFAULT nextval('seq_mednucleoprofissional_nucleoprofissionalid');]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>18</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE SEQUENCE seq_medocorrenciadecontrato_ocorrenciadecontratoid;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>19</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT SETVAL('seq_medocorrenciadecontrato_ocorrenciadecontratoid', (SELECT max(ocorrenciadecontratoid) FROM med.ocorrenciadecontrato));]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>20</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE med.ocorrenciadecontrato ALTER COLUMN ocorrenciadecontratoid SET DEFAULT nextval('seq_medocorrenciadecontrato_ocorrenciadecontratoid');]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>21</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE SEQUENCE seq_medocorrenciadeoferta_ocorrenciadeofertaid;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>22</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT SETVAL('seq_medocorrenciadeoferta_ocorrenciadeofertaid', (SELECT max(ocorrenciadeofertaid) FROM med.ocorrenciadeoferta));]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>23</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE med.ocorrenciadeoferta ALTER COLUMN ocorrenciadeofertaid SET DEFAULT nextval('seq_medocorrenciadeoferta_ocorrenciadeofertaid');]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>24</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE SEQUENCE seq_medofertadeunidadetematica_ofertadeunidadetematicaid;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>25</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT SETVAL('seq_medofertadeunidadetematica_ofertadeunidadetematicaid', (SELECT max(ofertadeunidadetematicaid) FROM med.ofertadeunidadetematica));]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>26</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE med.ofertadeunidadetematica ALTER COLUMN ofertadeunidadetematicaid SET DEFAULT nextval('seq_medofertadeunidadetematica_ofertadeunidadetematicaid');]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>27</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE SEQUENCE seq_medofertadoresidente_ofertadoresidenteid;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>28</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT SETVAL('seq_medofertadoresidente_ofertadoresidenteid', (SELECT max(ofertadoresidenteid) FROM med.ofertadoresidente));]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>29</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE med.ofertadoresidente ALTER COLUMN ofertadoresidenteid SET DEFAULT nextval('seq_medofertadoresidente_ofertadoresidenteid');]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>30</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE SEQUENCE seq_medpenalidade_penalidadeid;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>31</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT SETVAL('seq_medpenalidade_penalidadeid', (SELECT max(penalidadeid) FROM med.penalidade));]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>32</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE med.penalidade ALTER COLUMN penalidadeid SET DEFAULT nextval('seq_medpenalidade_penalidadeid');]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>33</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE SEQUENCE seq_medpreceptoria_preceptoriaid;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>34</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT SETVAL('seq_medpreceptoria_preceptoriaid', (SELECT max(preceptoriaid) FROM med.preceptoria));]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>35</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE med.preceptoria ALTER COLUMN preceptoriaid SET DEFAULT nextval('seq_medpreceptoria_preceptoriaid');]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>36</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE SEQUENCE seq_medresidente_residenteid;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>37</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT SETVAL('seq_medresidente_residenteid', (SELECT max(residenteid) FROM med.residente));]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>38</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE med.residente ALTER COLUMN residenteid SET DEFAULT nextval('seq_medresidente_residenteid');]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>39</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE SEQUENCE seq_medstatusdaocorrenciadecontrato_statusdaocorrenciadecontratoid;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>40</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT SETVAL('seq_medstatusdaocorrenciadecontrato_statusdaocorrenciadecontratoid', (SELECT max(statusdaocorrenciadecontratoid) FROM med.statusdaocorrenciadecontrato));]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>41</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE med.statusdaocorrenciadecontrato ALTER COLUMN statusdaocorrenciadecontratoid SET DEFAULT nextval('seq_medstatusdaocorrenciadecontrato_statusdaocorrenciadecontratoid');]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>42</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE SEQUENCE seq_medtema_temaid;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>43</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT SETVAL('seq_medtema_temaid', (SELECT max(temaid) FROM med.tema));]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>44</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE med.tema ALTER COLUMN temaid SET DEFAULT nextval('seq_medtema_temaid');]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>45</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE SEQUENCE seq_medtipodepenalidade_tipodepenalidadeid;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>46</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT SETVAL('seq_medtipodepenalidade_tipodepenalidadeid', (SELECT max(tipodepenalidadeid) FROM med.tipodepenalidade));]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>47</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE med.tipodepenalidade ALTER COLUMN tipodepenalidadeid SET DEFAULT nextval('seq_medtipodepenalidade_tipodepenalidadeid');]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>48</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE SEQUENCE seq_medtipodecargahorariacomplementar_tipodecargahorariacomplementarid;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>49</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT SETVAL('seq_medtipodecargahorariacomplementar_tipodecargahorariacomplementarid', (SELECT max(tipodecargahorariacomplementarid) FROM med.tipodecargahorariacomplementar));]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>50</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE med.tipodecargahorariacomplementar ALTER COLUMN tipodecargahorariacomplementarid SET DEFAULT nextval('seq_medtipodecargahorariacomplementar_tipodecargahorariacomplementarid');]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>51</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE SEQUENCE seq_medtrabalhodeconclusao_trabalhodeconclusaoid;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>52</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT SETVAL('seq_medtrabalhodeconclusao_trabalhodeconclusaoid', (SELECT max(trabalhodeconclusaoid) FROM med.trabalhodeconclusao));]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>53</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE med.trabalhodeconclusao ALTER COLUMN trabalhodeconclusaoid SET DEFAULT nextval('seq_medtrabalhodeconclusao_trabalhodeconclusaoid');]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>54</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE SEQUENCE seq_medturma_turmaid;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>55</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT SETVAL('seq_medturma_turmaid', (SELECT max(turmaid) FROM med.turma));]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>56</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE med.turma ALTER COLUMN turmaid SET DEFAULT nextval('seq_medturma_turmaid');]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>57</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE SEQUENCE seq_medunidadetematica_unidadetematicaid;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>58</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT SETVAL('seq_medunidadetematica_unidadetematicaid', (SELECT max(unidadetematicaid) FROM med.unidadetematica));]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>59</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE med.unidadetematica ALTER COLUMN unidadetematicaid SET DEFAULT nextval('seq_medunidadetematica_unidadetematicaid');]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>60</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ UPDATE finReceivableInvoice SET emissionTypeId = getParameter('BASIC', 'DEFAULT_EMISSION_TYPE_ID')::INT WHERE emissionTypeId IS NULL;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE acdacademiccalendar DROP COLUMN unitid CASCADE;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdacademiccalendar DROP COLUMN centerid CASCADE;]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE acpComponenteCurricular DROP COLUMN unitId CASCADE;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpComponenteCurricular DROP COLUMN centerId CASCADE;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
DROP TRIGGER trg_centro_acpcomponentecurricular ON acpComponenteCurricular;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
DROP TRIGGER trg_unidade_acpcomponentecurricular ON acpComponenteCurricular;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpComponenteCurricularDisciplina DROP COLUMN unitId CASCADE;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpComponenteCurricularDisciplina DROP COLUMN centerId CASCADE;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
DROP TRIGGER trg_centro_acpcomponentecurriculardisciplina ON acpComponenteCurricularDisciplina;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>7</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
DROP TRIGGER trg_unidade_acpcomponentecurriculardisciplina ON acpComponenteCurricularDisciplina;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>8</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpComponenteCurricularTrabalhoConclusao DROP COLUMN unitId CASCADE;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>9</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpComponenteCurricularTrabalhoConclusao DROP COLUMN centerId CASCADE;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>10</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
DROP TRIGGER trg_centro_acpcomponentecurriculartrabalhoconclusao ON acpComponenteCurricularTrabalhoConclusao;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>11</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
DROP TRIGGER trg_unidade_acpcomponentecurriculartrabalhoconclusao ON acpComponenteCurricularTrabalhoConclusao;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>12</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
UPDATE pg_attribute 
       SET atttypmod = 225+4 
     WHERE attrelid IN (SELECT attrelid
                          FROM pg_attribute
                         WHERE attname = 'username') 
       AND attname = 'username';]]>
             </change>
             <applicationversion>32400</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ create index idx_basphone_personid_type on basphone(personid, type);]]>
             </change>
             <applicationversion>32100</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE fin.bankmovement ADD COLUMN bankAccountId INT REFERENCES finbankaccount(bankaccountid);]]>
             </change>
             <applicationversion>32301</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE finentry ADD COLUMN bankmovementid INTEGER REFERENCES finbankmovement(bankmovementid);]]>
             </change>
             <applicationversion>32501</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE finentry ADD COLUMN countermovementid INTEGER REFERENCES fincountermovement(countermovementid);]]>
             </change>
             <applicationversion>32501</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ create index ii1 on basdocument ( personid) where documenttypeid= 1;]]>
             </change>
             <applicationversion>32501</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index ii2 on basdocument ( personid) where documenttypeid=2;]]>
             </change>
             <applicationversion>32501</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index ii3 on basdocument ( personid) where documenttypeid=3;]]>
             </change>
             <applicationversion>32501</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index ii4 on basdocument ( personid) where documenttypeid=4;]]>
             </change>
             <applicationversion>32501</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index ii5 on basdocument ( personid) where documenttypeid=5;]]>
             </change>
             <applicationversion>32501</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index ii6 on basdocument ( personid) where documenttypeid=6;]]>
             </change>
             <applicationversion>32501</applicationversion>
             <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index ii7 on basdocument ( personid) where documenttypeid=7;]]>
             </change>
             <applicationversion>32501</applicationversion>
             <orderchange>7</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index ii8 on basdocument ( personid) where documenttypeid=8;]]>
             </change>
             <applicationversion>32501</applicationversion>
             <orderchange>8</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index ii9 on basdocument ( personid) where documenttypeid=9;]]>
             </change>
             <applicationversion>32501</applicationversion>
             <orderchange>9</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index ii10 on basdocument ( personid) where documenttypeid=10;]]>
             </change>
             <applicationversion>32501</applicationversion>
             <orderchange>10</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index ii11 on basdocument ( personid) where documenttypeid= 11;]]>
             </change>
             <applicationversion>32501</applicationversion>
             <orderchange>11</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index ii12 on basdocument ( personid) where documenttypeid=12;]]>
             </change>
             <applicationversion>32501</applicationversion>
             <orderchange>12</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index ii13 on basdocument ( personid) where documenttypeid=13;]]>
             </change>
             <applicationversion>32501</applicationversion>
             <orderchange>13</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index ii14 on basdocument ( personid) where documenttypeid=14;]]>
             </change>
             <applicationversion>32501</applicationversion>
             <orderchange>14</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index ii15 on basdocument ( personid) where documenttypeid=15;]]>
             </change>
             <applicationversion>32501</applicationversion>
             <orderchange>15</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index ii16 on basdocument ( personid) where documenttypeid=16;]]>
             </change>
             <applicationversion>32501</applicationversion>
             <orderchange>16</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index ii17 on basdocument ( personid) where documenttypeid=17;]]>
             </change>
             <applicationversion>32501</applicationversion>
             <orderchange>17</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index ii18 on basdocument ( personid) where documenttypeid=18;]]>
             </change>
             <applicationversion>32501</applicationversion>
             <orderchange>18</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index ii19 on basdocument ( personid) where documenttypeid=19;]]>
             </change>
             <applicationversion>32501</applicationversion>
             <orderchange>19</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index ii20 on basdocument ( personid) where documenttypeid=20;]]>
             </change>
             <applicationversion>32501</applicationversion>
             <orderchange>20</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index idx_type_cel on basphone (type) where type = 'CEL';]]>
             </change>
             <applicationversion>32501</applicationversion>
             <orderchange>21</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index idx_type_res on basphone (type) where type = 'RES';]]>
             </change>
             <applicationversion>32501</applicationversion>
             <orderchange>22</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index idx_type_pro on basphone (type) where type = 'PRO';]]>
             </change>
             <applicationversion>32501</applicationversion>
             <orderchange>23</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index idx_type_rec on basphone (type) where type = 'REC';]]>
             </change>
             <applicationversion>32501</applicationversion>
             <orderchange>24</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index idx_invoice_not_canceled on fininvoice (iscanceled) where iscanceled = false;]]>
             </change>
             <applicationversion>32501</applicationversion>
             <orderchange>25</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index idx_receivable_invoice_not_canceled on finreceivableinvoice (iscanceled) where iscanceled = false;]]>
             </change>
             <applicationversion>32501</applicationversion>
             <orderchange>26</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index idx_enroll_not_canceled on acdenroll (statusid) where statusid <> 5;]]>
             </change>
             <applicationversion>32501</applicationversion>
             <orderchange>27</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE finlancamentosemvinculo ADD COLUMN bankmovementid INTEGER REFERENCES fin.bankmovement(bankmovementid);]]>
             </change>
             <applicationversion>32501</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE finlancamentosemvinculo ADD COLUMN countermovementid INTEGER REFERENCES fincountermovement(countermovementid);]]>
             </change>
             <applicationversion>32501</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE TABLE res.componente (componenteid SERIAL PRIMARY KEY, descricao varchar(255));]]>
             </change>
             <applicationversion>32501</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE res.enfase ADD COLUMN componenteid integer REFERENCES res.componente(componenteid);]]>
             </change>
             <applicationversion>32501</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE res.turma ADD COLUMN modelodeavaliacao char(1);]]>
             </change>
             <applicationversion>32500</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
UPDATE res.turma SET modelodeavaliacao = 'A' WHERE modelodeavaliacao IS NULL;]]>
             </change>
             <applicationversion>32500</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE res.turma ALTER COLUMN modelodeavaliacao SET NOT NULL;]]>
             </change>
             <applicationversion>32500</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE PrtPreferenciaAluno ALTER COLUMN numeropostagensmural DROP NOT NULL;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ alter table res.tipodeunidadetematica add column frequenciaminima numeric;]]>
             </change>
             <applicationversion>32500</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ alter table res.preceptoria add column instituicaoexecutora bigint references baslegalperson(personid);]]>
             </change>
             <applicationversion>32500</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create table res.preceptoriamodulofuncao (preceptoriamodulofuncaoid serial primary key, preceptoriaid integer not null, funcao char(1) not null, moduloid integer not null references res.modulo(moduloid)) inherits (baslog);]]>
             </change>
             <applicationversion>32500</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index idx_preceptoriamodulofuncao_preceptoriaid on res.preceptoriamodulofuncao(preceptoriaid);]]>
             </change>
             <applicationversion>32500</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE ptcRequest ADD COLUMN inscricaoId INTEGER REFERENCES acpInscricao(inscricaoId);]]>
             </change>
             <applicationversion>32500</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE ptcRequest ADD COLUMN contractId INTEGER REFERENCES acdContract(contractId);]]>
             </change>
             <applicationversion>32500</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE ptcRequest ADD COLUMN perfil CHAR(1);]]>
             </change>
             <applicationversion>32500</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX idx_request_inscricaoid ON ptcRequest(inscricaoId);]]>
             </change>
             <applicationversion>32500</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX idx_request_contractid ON ptcRequest(contractId);]]>
             </change>
             <applicationversion>32500</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ INSERT INTO finOperationGroup (operationgroupid, description) VALUES ('I', 'INCENTIVO');]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
INSERT INTO finOperationGroup (operationgroupid, description) VALUES ('F', 'JUROS E MULTA');]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
INSERT INTO finOperationGroup (operationgroupid, description) VALUES ('T', 'TAXA');]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE TABLE res.modulo(moduloid serial primary key, nome varchar(255) not null, cargahoraria numeric) inherits (baslog);]]>
             </change>
             <applicationversion>32500</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE res.unidadetematica add column moduloid integer references res.modulo(moduloid);]]>
             </change>
             <applicationversion>32500</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE TABLE res.substatus (substatusid serial primary key, descricao varchar(255) not null, status char(1) not null) INHERITS(baslog);]]>
             </change>
             <applicationversion>32500</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE TABLE res.substatusmotivo (substatusmotivoid serial primary key, substatusid integer references res.substatus(substatusid), descricao varchar(255) not null) INHERITS(baslog);]]>
             </change>
             <applicationversion>32500</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE res.statusdaocorrenciadecontrato ADD COLUMN emailid INTEGER REFERENCES basemail(emailid);]]>
             </change>
             <applicationversion>32500</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE res.residente add column instituicaoexecutora bigint references baslegalperson(personid);]]>
             </change>
             <applicationversion>32500</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE res.tipodecargahorariacomplementar add column emailid integer references basemail(emailid);]]>
             </change>
             <applicationversion>32500</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ INSERT INTO finOperationGroup (operationgroupid, description) VALUES ('A', 'ABATIMENTO DE SALDO');]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
INSERT INTO finOperationGroup (operationgroupid, description) VALUES ('D', 'DESCONTO');]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
INSERT INTO finOperationGroup (operationgroupid, description) VALUES ('I', 'INCENTIVO');]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
INSERT INTO finOperationGroup (operationgroupid, description) VALUES ('J', 'JUROS E MULTA');]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
INSERT INTO finOperationGroup (operationgroupid, description) VALUES ('M', 'MENSALIDADE');]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
INSERT INTO finOperationGroup (operationgroupid, description) VALUES ('N', 'NEGOCIAÇÃO');]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
INSERT INTO finOperationGroup (operationgroupid, description) VALUES ('P', 'PAGAMENTO');]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>7</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
INSERT INTO finOperationGroup (operationgroupid, description) VALUES ('T', 'TAXA');]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>8</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
INSERT INTO finOperationGroup (operationgroupid, description) VALUES ('X', 'TRANSFERÊNCIA/MOVIMENTAÇÕES DE CAIXA');]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>9</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ DELETE FROM basReportParameter WHERE reportId = 10009;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
DELETE FROM basReport WHERE reportId = 10009;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ alter table res.ocorrenciadecontrato add column fileid integer references basfile(fileid);]]>
             </change>
             <applicationversion>32500</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE res.ofertadeunidadetematica ADD COLUMN instituicaoformadora bigint REFERENCES baslegalperson(personid);]]>
             </change>
             <applicationversion>32500</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

CREATE TABLE res.notapormodulo
(
notapormoduloid serial primary key,
residenteid integer not null references res.residente(residenteid),
moduloid integer not null references res.modulo(moduloid),
semestre integer not null,
notadeassiduidade numeric,
notadeatividadedeproduto numeric,
notadeavaliacaodedesempenho numeric,
notageral numeric
) inherits (baslog);]]>
             </change>
             <applicationversion>32500</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE finOperation ADD COLUMN observacao TEXT;]]>
             </change>
             <applicationversion>32500</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE med.notaDoResidenteNoTrimestreDoPeriodo ADD COLUMN pareceresidente TEXT;]]>
             </change>
             <applicationversion>32400</applicationversion>
             <orderchange>1</orderchange>
        </item>
                <item>
             <change>
             <![CDATA[ 
UPDATE basconfig SET value = 'T', type = 'VARCHAR' WHERE parameter ilike 'HABILITA_DOCUMENTOS_PORTAL' AND value = 't';]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
UPDATE basconfig SET value = null, type = 'VARCHAR' WHERE parameter ilike 'HABILITA_DOCUMENTOS_PORTAL' AND value = 'f';]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
UPDATE basconfig SET description = 'Para configuração será considerado os seguintes valores: USUÁRIO ALUNO: A,USUÁRIO BÁSICO: B,USUÁRIO COORDENADOR: C,USUÁRIO GESTOR: G,USUÁRIO PROFESSOR: P,TODOS OS USUÁRIOS: T. Utilizar a letra do grupo referente separado por vírgula, exemplo: A,P,C.' WHERE parameter ilike 'HABILITA_DOCUMENTOS_PORTAL';]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[  ALTER TABLE res.frequencia ADD column substatusid integer references res.substatus(substatusid);]]>
             </change>
             <applicationversion>32500</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
 ALTER TABLE res.frequencia add column substatusmotivoid integer references res.substatusmotivo(substatusmotivoid);]]>
             </change>
             <applicationversion>32500</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ UPDATE acdreconhecimentodecurso 
   SET datainicial = N.novadatainicial,
       datafinal   = N.novadatafinal

  FROM (
SELECT courseid, courseversion, turnid, unitid, datareconhecimento, 
       datainicial, 
       coalesce(datainicial, datareconhecimento, now()::date) as novadatainicial,
       datafinal,
       coalesce(datafinal, 
                (SELECT coalesce(datainicial, datareconhecimento )-1
                   from acdreconhecimentodecurso 
                  where courseid = A.courseid 
                    and courseversion = A.courseversion 
                    and turnid = A.turnid
                    and unitid = A.unitid 
                    and reconhecimentodecursoid <> A.reconhecimentodecursoid
                    and datareconhecimento > A.datareconhecimento
               order by datareconhecimento
                  limit 1),
               '2035-12-31') as novadatafinal,
               reconhecimentodecursoid
from acdreconhecimentodecurso A
where  datafinal is null or datainicial is null
order by courseid, courseversion, turnid, unitid, datareconhecimento ) N
  WHERE acdreconhecimentodecurso.reconhecimentodecursoid = N.reconhecimentodecursoid;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE acpestadodematricula ALTER COLUMN aprovado DROP NOT NULL;]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ create index index_resocorrenciaDeContrato_datahora on res.ocorrenciaDeContrato(datehora);]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index index_resocorrenciaDeContrato_datahoracastdate on res.ocorrenciaDeContrato(cast(datahora as date));]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index index_resocorrenciaDeContrato_datahora on med.ocorrenciaDeContrato(datahora);]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index index_resocorrenciaDeContrato_datahoracastdate on med.ocorrenciaDeContrato(cast(datahora as date));]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ --Conflito com acdInterchange
CREATE SEQUENCE seq_gtcinterchange_interchangeid;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT SETVAL('seq_gtcinterchange_interchangeid', (SELECT max(interchangeid) FROM gtcinterchange));]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE gtcinterchange ALTER COLUMN interchangeid SET DEFAULT nextval('seq_gtcinterchange_interchangeid');]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

--Conflito com acdInterchangeTypeId
CREATE SEQUENCE seq_gtcinterchangetype_interchangetypeid;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT SETVAL('seq_gtcinterchangetype_interchangetypeid', (SELECT max(interchangetypeid) FROM gtcinterchangetype));]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE gtcinterchangetype ALTER COLUMN interchangetypeid SET DEFAULT nextval('seq_gtcinterchangetype_interchangetypeid');]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

--Conflito com basReport
CREATE SEQUENCE seq_gtcreport_reportid;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>7</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT SETVAL('seq_gtcreport_reportid', (SELECT max(reportid) FROM gtcreport));]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>8</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE gtcreport ALTER COLUMN reportid SET DEFAULT nextval('seq_gtcreport_reportid');]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>9</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

--Conflito com basReportParameter
CREATE SEQUENCE seq_gtcreportparameter_reportparameterid;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>10</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT SETVAL('seq_gtcreportparameter_reportparameterid', (SELECT max(reportparameterid) FROM gtcreportparameter));]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>11</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE gtcreportparameter ALTER COLUMN reportparameterid SET DEFAULT nextval('seq_gtcreportparameter_reportparameterid');]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>12</orderchange>
        </item>
        <item>
             <change>
 <![CDATA[ ALTER TABLE prtmensagem ADD COLUMN removida BOOLEAN NOT NULL DEFAULT FALSE;]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE prtmensagemdestinatario ADD COLUMN removida BOOLEAN NOT NULL DEFAULT FALSE;]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table prtmensagemmural add column removida boolean not null default false;]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE acdcurricularcomponent ADD COLUMN generalobjectives TEXT;]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN acdcurricularcomponent.generalobjectives IS 'Objetivos gerais da disciplina';]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdcurricularcomponent ADD COLUMN specificobjectives TEXT;]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN acdcurricularcomponent.specificobjectives IS 'Objetivos específicos da disciplina';]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdcurricularcomponent ADD COLUMN basicbibliography TEXT[];]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN acdcurricularcomponent.basicbibliography IS 'Bibliografia básica da disciplina';]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdcurricularcomponent ADD COLUMN complementarybibliography TEXT[];]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>7</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN acdcurricularcomponent.complementarybibliography IS 'Bibliografia complementar da disciplina';]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>8</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE acpcursoinscricao ADD column cargahorariafrequente numeric(10,2);]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>1</orderchange>
        </item>
    <item>
        <change>
             <![CDATA[ create index idx_finconvenantperson_personid on finconvenantperson (personid);]]>
        </change>
        <applicationversion>32601</applicationversion>
        <orderchange>1</orderchange>
    </item>
    <item>
        <change>
             <![CDATA[ 
create index idx_finconvenantperson_convenantid on finconvenantperson (convenantid);]]>
        </change>
        <applicationversion>32601</applicationversion>
        <orderchange>2</orderchange>
    </item>
    <item>
        <change>
             <![CDATA[ 
create index idx_acdcontract_courseid_courseversion_turnid_unitid on acdcontract(courseid, courseversion, turnid, unitid);]]>
        </change>
        <applicationversion>32601</applicationversion>
        <orderchange>3</orderchange>
    </item>
    <item>
        <change>
             <![CDATA[ 
create index idx_acdperiod_prevperiodid on acdperiod(prevperiodid);]]>
        </change>
        <applicationversion>32601</applicationversion>
        <orderchange>4</orderchange>
    </item>
    <item>
        <change>
             <![CDATA[ 
create index idx_acdcurriculum_courseid_courseversion_turnid_unitid on acdcurriculum (courseid, courseversion, turnid, unitid);]]>
        </change>
        <applicationversion>32601</applicationversion>
        <orderchange>5</orderchange>
    </item>
    <item>
        <change>
             <![CDATA[ 
create index idx_acdmovementcontract_statetime on acdmovementcontract (statetime);]]>
        </change>
        <applicationversion>32601</applicationversion>
        <orderchange>6</orderchange>
    </item>
    <item>
        <change>
             <![CDATA[ 
create index idx_acdmovementcontract_contractid_statetime on acdmovementcontract (contractid,statetime);]]>
        </change>
        <applicationversion>32601</applicationversion>
        <orderchange>7</orderchange>
    </item>
    <item>
        <change>
             <![CDATA[ 
create index idx_acdmovementcontract_stateContractId on acdmovementcontract(stateContractId);]]>
        </change>
        <applicationversion>32601</applicationversion>
        <orderchange>8</orderchange>
    </item>
    <item>
        <change>
             <![CDATA[ 
create index idx_acdLearningPeriod_begindate on acdLearningPeriod(begindate);]]>
        </change>
        <applicationversion>32601</applicationversion>
        <orderchange>9</orderchange>
    </item>
    <item>
        <change>
             <![CDATA[ 
create index idx_acdLearningPeriod_enddate on acdLearningPeriod(enddate);]]>
        </change>
        <applicationversion>32601</applicationversion>
        <orderchange>10</orderchange>
    </item>
    <item>
        <change>
             <![CDATA[ 
create index idx_acdLearningPeriod_courseid_courseversion_turnid_unitid on acdLearningPeriod(courseid, courseversion, turnid, unitid);]]>
        </change>
        <applicationversion>32601</applicationversion>
        <orderchange>11</orderchange>
    </item>
    <item>
        <change>
             <![CDATA[ 
;]]>
        </change>
        <applicationversion>32601</applicationversion>
        <orderchange>12</orderchange>
    </item>
    <item>
             <change>
             <![CDATA[ ALTER TABLE basdocumenttype ADD COLUMN registromoduloresidency BOOLEAN NOT NULL DEFAULT FALSE;]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN basdocumenttype.registromoduloresidency IS 'Informa se documento será informado no cadastro de pessoa do módulo Residência Multiprofissional';]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE basdocumenttype ADD COLUMN registromoduloresmedica BOOLEAN NOT NULL DEFAULT FALSE;]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN basdocumenttype.registromoduloresmedica IS 'Informa se documento será informado no cadastro de pessoa do módulo Residência Médica';]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE basdocumenttype ADD COLUMN registromodulopedagogico BOOLEAN NOT NULL DEFAULT FALSE;]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN basdocumenttype.registromoduloresidency IS 'Informa se documento será informado no cadastro de pessoa do módulo Pedagógico';]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ create index idx_bankmovement_valuepaid_occurrencedate on fin.bankmovement(valuepaid, occurrencedate);]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ alter table prcprecocurso add habilitaconvenio bool default true;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ DELETE FROM basReportParameter WHERE reportId = 10011;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ DELETE FROM basReport WHERE reportId = 10011;]]>
             </change>
             <applicationversion>32300</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ create index idx_negotiationgeneratedentries_entryid on fin.negotiationgeneratedentries(entryid);]]>
             </change>
             <applicationversion>32500</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index idx_fininvoice_invoiceid on fininvoice(invoiceid);]]>
             </change>
             <applicationversion>32500</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index idx_finentry_invoiceid on finentry(invoiceid);]]>
             </change>
             <applicationversion>32500</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index idx_finReceivableInvoice_titulodereferencia on finReceivableInvoice(titulodereferencia);]]>
             </change>
             <applicationversion>32500</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE acpofertaturma ADD COLUMN concatenarDescricaoGrupo CHAR(1);]]>
             </change>
             <applicationversion>32700</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN acpofertaturma.concatenarDescricaoGrupo IS 'Opção para concatenar na descrição da turma antes(A) ou depois(D) a descrição';]]>
             </change>
             <applicationversion>32700</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ alter table basdocumentosportalcurso add column ofertacomponentecurricularid integer references acpofertacomponentecurricular(ofertacomponentecurricularid);]]>
             </change>
             <applicationversion>32700</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table basdocumentosportalcurso add column ofertaturmaid integer references acpofertaturma(ofertaturmaid);]]>
             </change>
             <applicationversion>32700</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE logfrequenciaportal DROP CONSTRAINT logfrequenciaportal_scheduleid_fkey;]]>
             </change>
             <applicationversion>32500</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[
CREATE TABLE prtcronogramaprofessor (
cronogramaid SERIAL,
groupid INTEGER NOT NULL REFERENCES acdgroup(groupid),
professorid INTEGER NOT NULL REFERENCES basphysicalpersonprofessor(personid),
cronograma TEXT,
dataaula DATE NOT NULL);]]>
             </change>
             <applicationversion>32700</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN prtcronogramaprofessor.groupid IS 'Código da disciplina oferecida';]]>
             </change>
             <applicationversion>32700</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN prtcronogramaprofessor.cronograma IS 'Cronograma da aula';]]>
             </change>
             <applicationversion>32700</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN prtcronogramaprofessor.dataaula IS 'Data da aula';]]>
             </change>
             <applicationversion>32700</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN prtcronogramaprofessor.professorid IS 'Código do professor';]]>
             </change>
             <applicationversion>32700</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX idx_prtcronogramaprofessor_groupid_professorid ON prtcronogramaprofessor(groupid, professorid);]]>
             </change>
             <applicationversion>32700</applicationversion>
             <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX idx_prtcronogramaprofessor_groupid_professorid_dataaula ON prtcronogramaprofessor(groupid, professorid, dataaula);]]>
             </change>
             <applicationversion>32700</applicationversion>
             <orderchange>7</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
INSERT INTO prtcronogramaprofessor (
groupid, professorid, dataaula, cronograma)
SELECT horario.groupid, 
       horarioprofessor.professorid, 
       conteudo.date,
       (SELECT description FROM acdScheduleProfessorcontent WHERE scheduleprofessorid = conteudo.scheduleprofessorid AND date = conteudo.date ORDER BY datetime ASC LIMIT 1) as conteudo
  FROM acdScheduleProfessorcontent conteudo
  INNER JOIN acdScheduleProfessor horarioprofessor USING(scheduleprofessorid)
  INNER JOIN acdSchedule horario USING(scheduleid)
        GROUP BY horario.groupid,horarioprofessor.professorid,conteudo.date, conteudo.scheduleprofessorid;]]>
             </change>
             <applicationversion>32700</applicationversion>
             <orderchange>8</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
 delete from acdscheduleprofessorcontent WHERE scheduleprofessorcontentid IN (SELECT scheduleprofessorcontentid FROM acdscheduleprofessorcontent left join acdscheduleprofessor using(scheduleprofessorid) where not exists (select 1 from acdfrequenceenroll where scheduleid = acdscheduleprofessor.scheduleid and timeid = acdscheduleprofessorcontent.timeid));]]>
             </change>
             <applicationversion>32700</applicationversion>
             <orderchange>9</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE basconstrutorderelatorios ADD COLUMN publicado BOOLEAN DEFAULT 'f';]]>
             </change>
             <applicationversion>32700</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE basconstrutorderelatorios ADD COLUMN descricao text;]]>
             </change>
             <applicationversion>32700</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE basdocumenttype ADD COLUMN informarpendencianoportal BOOLEAN NOT NULL DEFAULT false;]]>
             </change>
             <applicationversion>32700</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN basdocumenttype.informarpendencianoportal IS 'Exibe mensagem no portal caso o documento estiver pendente de entrega.';]]>
             </change>
             <applicationversion>32700</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE basdocumenttype ADD COLUMN limitedediasparabloquear INTEGER;]]>
             </change>
             <applicationversion>32700</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN basdocumenttype.limitedediasparabloquear IS 'Número de dias limite a partir do início do período letivo para permitir acesso ao portal. Após o limite o portal é bloqueado até que o documento seja entregue';]]>
             </change>
             <applicationversion>32700</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
 <![CDATA[ ALTER TABLE acdenrollconfig ADD COLUMN mascdisciplina VARCHAR(255);]]>
             </change>
             <applicationversion>32700</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdenrollconfig ADD COLUMN mascoferta VARCHAR(255);]]>
             </change>
             <applicationversion>32700</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdenrollconfig ADD COLUMN mascoutrasofertas VARCHAR(255);]]>
             </change>
             <applicationversion>32700</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE temp_bank_movement_entries ADD COLUMN accountSchemeId character varying(30);]]>
             </change>
             <applicationversion>32501</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE acpmatricula ADD COLUMN retroativa BOOLEAN NOT NULL DEFAULT FALSE;]]>
             </change>
             <applicationversion>32701</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
UPDATE acpmatricula SET retroativa = true where situacao = 'A' 
and not exists (select 1 from acpavaliacao left join acpcomponentedeavaliacao using(componentedeavaliacaoid) where acpmatricula.matriculaid = acpavaliacao.matriculaid and acpcomponentedeavaliacao.classedecomponente = 'F')
and not exists (select 1 from acpfrequencia where acpfrequencia.matriculaid = acpmatricula.matriculaid);]]>
             </change>
             <applicationversion>32701</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX idx_movementchequeid ON public.fincountermovementcheque(countermovementid);]]>
             </change>
             <applicationversion>32601</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX idx_invoiceid_counter_movement ON public.fincountermovement(invoiceid);]]>
             </change>
             <applicationversion>32601</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX idx_countermovementcheque_chequeid ON fincountermovementcheque(chequeid);]]>
             </change>
             <applicationversion>32601</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE finentry DROP COLUMN lancamentoExtornado;]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[  ALTER TABLE finentry ADD COLUMN lancamentoEstornado BOOLEAN DEFAULT FALSE;]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>2</orderchange>
        </item>
                <item>
             <change>
             <![CDATA[ CREATE INDEX idx_acccostcenter_costcenterid 
  ON acccostcenter
  USING btree
  (costcenterid COLLATE pg_catalog."default");]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

CREATE INDEX idx_finlancamentosemvinculo_costcenterid 
  ON finlancamentosemvinculo
  USING btree
  (costcenterid COLLATE pg_catalog."default", accountschemeid COLLATE pg_catalog."default", datadecaixa);]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

CREATE INDEX idx_finbankaccount_bankaccountid
  ON finbankaccount
  USING btree
  (bankaccountid);]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

CREATE INDEX idx_captitulo_tituloid
  ON captitulo
  USING btree
  (tituloid);]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

CREATE INDEX idx_finbankaccount_bankid_bankaccountid
  ON finbankaccount
  USING btree
  (bankid COLLATE pg_catalog."default", bankaccountid);]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

CREATE INDEX idx_finspeciestype_speciestypeid
  ON finspeciestype
  USING btree
  (speciestypeid);]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

CREATE INDEX idx_finbank_bankid
  ON finbank
  USING btree
  (bankid COLLATE pg_catalog."default");]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>7</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

CREATE INDEX idx_fincounter_counterid
  ON fincounter
  USING btree
  (counterid);]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>8</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

CREATE INDEX idx_fincountermovement_movementdate
  ON fincountermovement
  USING btree
  (movementdate)
  where tituloid is null and invoiceid is null;]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>9</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

CREATE INDEX idx_finopencounter_opencounterid
  ON finopencounter
  USING btree
  (opencounterid);]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>10</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

CREATE INDEX idx_finspecies_speciesid
  ON finspecies
  USING btree
  (speciesid);]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>11</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

CREATE INDEX idx_caplancamento_accountschemeid_tipolancamento_datalancamento
  ON caplancamento
  USING btree
  (accountschemeid COLLATE pg_catalog."default", tipolancamento COLLATE pg_catalog."default", datalancamento);]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>12</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

CREATE INDEX idx_finoperation_operationtypeid
  ON finoperation
  USING btree
  (operationtypeid COLLATE pg_catalog."default");]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>13</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX idx_finreceivableinvoice_invoiceid_costcenterid
  ON finreceivableinvoice
  USING btree
  (invoiceid, costcenterid)
  WHERE iscanceled = false;]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>14</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE INDEX idx_finentry_accountschemeid_entryid
  ON finentry
  USING btree
  (accountschemeid COLLATE pg_catalog."default", entryid);]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>15</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE basDocumentosPortalCurso ADD COLUMN ofertaCursoId INTEGER REFERENCES acpOfertaCurso(ofertaCursoId);]]>
             </change>
             <applicationversion>32700</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
UPDATE basDocumentosPortalCurso SET ofertaCursoId = cursoId;]]>
             </change>
             <applicationversion>32700</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
SELECT miolo_audit_upgrade('CREATE OR REPLACE FUNCTION convertToTimestamp(p_timestamp VARCHAR)
RETURNS varchar AS
$BODY$
/*************************************************************************************
  NAME: convertToTimestamp
  PURPOSE: Converte uma string vinda da aplicação para a base (timestamp).
**************************************************************************************/
DECLARE
    v_timestampFormated VARCHAR;
BEGIN
    BEGIN
        SELECT INTO v_timestampFormated p_timestamp::TIMESTAMP;
        EXCEPTION WHEN OTHERS THEN
            v_timestampFormated := p_timestamp;
    END;

    RETURN v_timestampFormated;
END;
$BODY$
LANGUAGE plpgsql IMMUTABLE;');
]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE finCondicoesDePagamentoPerfil ADD COLUMN descricao VARCHAR(255);]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ COMMENT ON COLUMN spr.stepdocument.eobrigatorio IS 'Indica se o conteúdo do documento é obrigatório.';]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE spr.stepdocument ADD COLUMN arquivoeobrigatorio BOOLEAN NOT NULL DEFAULT FALSE;]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN spr.stepdocument.arquivoeobrigatorio IS 'Indica se é obrigatório anexar um arquivo.';]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ UPDATE finIncentiveType SET aditarIncentivo = FALSE WHERE aditarIncentivo IS NULL;]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE spr.selectiveprocess ADD COLUMN exigirVinculoEmpregaticio BOOLEAN DEFAULT FALSE;]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN spr.selectiveprocess.exigirVinculoEmpregaticio IS 'Caso Solicite dados do vinculo empregatício define que as informações devem ser preenchidas na inscrição';]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
 ALTER TABLE fininvoice ADD COLUMN balance NUMERIC NOT NULL DEFAULT 0;]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index idx_basCity_name_stateid_countryid on basCity(name,stateid,countryid);]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index idx_basstate_stateid_countryid on basstate(stateid,countryid);]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE TABLE caprateio 
(
    rateioid SERIAL PRIMARY KEY,
    accountschemeid VARCHAR(30) REFERENCES accaccountscheme(accountschemeid) NOT NULL,
    datainicial DATE NOT NULL,
    datafinal DATE
) INHERITS (baslog);]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

COMMENT ON TABLE caprateio IS 'Rateio por plano de contas';]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>7</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN caprateio.rateioid IS 'Identificador';]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>8</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN caprateio.accountschemeid IS 'Plano de contas';]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>9</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN caprateio.datainicial IS 'Data inicial';]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>10</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN caprateio.datafinal IS 'Data final';]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>11</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

CREATE TABLE caprateiocentrodecusto
(
    rateiocentrodecustoid SERIAL PRIMARY KEY,
    rateioid INTEGER REFERENCES caprateio(rateioid) NOT NULL,
    costcenterid VARCHAR(30) REFERENCES acccostcenter(costcenterid) NOT NULL,
    parcentualrateio NUMERIC NOT NULL
)INHERITS (baslog);]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>12</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

COMMENT ON TABLE caprateiocentrodecusto IS 'Centros de custos';]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>13</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN caprateiocentrodecusto.rateiocentrodecustoid IS 'Identificador';]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>14</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN caprateiocentrodecusto.rateioid IS 'Identificador do rateio';]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>15</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN caprateiocentrodecusto.costcenterid IS 'Centro de custo';]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>16</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN caprateiocentrodecusto.parcentualrateio IS 'Percentual de rateio';]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>17</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

ALTER TABLE caplancamento ADD COLUMN rateioid INTEGER REFERENCES caprateio(rateioid);]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>18</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

--INSERIR OPERAÇÃO PADRÃO DE PAGAMENTO DO CONTAS A PAGAR
INSERT INTO finoperation (description, operationtypeid, operationgroupid, receivableorpayable)
VALUES ('Pagamento', 'D', 'N', 'P');]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>19</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
--INSERIR OPERAÇÃO PADRÃO DE COBRANÇA DO CONTAS A PAGAR
INSERT INTO finoperation (description, operationtypeid, operationgroupid, receivableorpayable)
VALUES ('Cobrança', 'C', 'N', 'P');]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>20</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
--INSERIR OPERAÇÃO PADRÃO DE DESCONTO DO CONTAS A PAGAR
INSERT INTO finoperation (description, operationtypeid, operationgroupid, receivableorpayable)
VALUES ('Desconto', 'D', 'N', 'P');]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>21</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
--INSERIR OPERAÇÃO PADRÃO DE JUROS DO CONTAS A PAGAR
INSERT INTO finoperation (description, operationtypeid, operationgroupid, receivableorpayable)
VALUES ('Juros', 'C', 'N', 'P');]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>22</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

--Adicionar operação padrão de pagamento (Contas a pagar)
ALTER TABLE findefaultoperations ADD COLUMN capoperacaopagamentoid INTEGER REFERENCES finoperation(operationid);]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>23</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN findefaultoperations.capoperacaopagamentoid IS 'Operação de pagamento (Contas a pagar)';]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>24</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
--Adiciona operação padrão de cobrança (Contas a pagar)
ALTER TABLE findefaultoperations ADD COLUMN capoperacaocobrancaid INTEGER REFERENCES finoperation(operationid);]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>25</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN findefaultoperations.capoperacaocobrancaid IS 'Operação de desconto (Contas a pagar)';]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>26</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
--Adiciona operação padrão de descontos (Contas a pagar)
ALTER TABLE findefaultoperations ADD COLUMN capoperacaodescontoid INTEGER REFERENCES finoperation(operationid);]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>27</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN findefaultoperations.capoperacaodescontoid IS 'Operação de desconto (Contas a pagar)';]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>28</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
--Adiciona operação padrão de juros (Contas a pagar)
ALTER TABLE findefaultoperations ADD COLUMN capoperacaojurosid INTEGER REFERENCES finoperation(operationid);]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>29</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN findefaultoperations.capoperacaojurosid IS 'Operação de juros (Contas a pagar)';]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>30</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

--Atualiza os valores padrão das operações
UPDATE findefaultoperations SET capoperacaopagamentoid = (SELECT operationid FROM finoperation WHERE description = 'Pagamento' AND receivableorpayable = 'P');]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>31</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

UPDATE findefaultoperations SET capoperacaocobrancaid = (SELECT operationid FROM finoperation WHERE description = 'Cobrança' AND receivableorpayable = 'P');]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>32</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

UPDATE findefaultoperations SET capoperacaodescontoid = (SELECT operationid FROM finoperation WHERE description = 'Desconto' AND receivableorpayable = 'P');]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>33</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

UPDATE findefaultoperations SET capoperacaojurosid = (SELECT operationid FROM finoperation WHERE description = 'Juros' AND receivableorpayable = 'P');]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>34</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
UPDATE fininvoice A
       SET balance = balance(invoiceid)
     WHERE balance <> balance(invoiceid);]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>35</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE fin.Negotiation ADD COLUMN diaVencimento INTEGER;]]>
             </change>
             <applicationversion>32601</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN fin.Negotiation.diaVencimento IS 'Dia de vencimento programado para cada uma das parcelas geradas.';]]>
             </change>
             <applicationversion>32601</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[  

ALTER TABLE fin.Negotiation ADD COLUMN jurosAdicionalIsPercent BOOLEAN DEFAULT TRUE;]]>
             </change>
             <applicationversion>32601</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN fin.Negotiation.jurosAdicionalIsPercent IS 'Valor de juros adicionais cobrados na negociação é percentual (true), se for numérico (false).';]]>
             </change>
             <applicationversion>32601</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[  

ALTER TABLE fin.Negotiation ADD COLUMN jurosAdicional NUMERIC;]]>
             </change>
             <applicationversion>32601</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN fin.Negotiation.jurosAdicional IS 'Valor de juros adicionais cobrados na negociação.';]]>
             </change>
             <applicationversion>32601</applicationversion>
             <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[  

ALTER TABLE fin.Negotiation ADD COLUMN numeroParcelas INTEGER;]]>
             </change>
             <applicationversion>32601</applicationversion>
             <orderchange>7</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN fin.Negotiation.numeroParcelas IS 'Número de parcelas geradas na negociação.';]]>
             </change>
             <applicationversion>32601</applicationversion>
             <orderchange>8</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[  

ALTER TABLE fin.Negotiation ADD COLUMN feeValueIsPercent BOOLEAN DEFAULT FALSE;]]>
             </change>
             <applicationversion>32601</applicationversion>
             <orderchange>9</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN fin.Negotiation.feeValueIsPercent IS 'Valor da taxa cobrada sobre a negociação é percentual (true), se for numérico (false).';]]>
             </change>
             <applicationversion>32601</applicationversion>
             <orderchange>10</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[  

ALTER TABLE fin.Negotiation ADD COLUMN feeValue NUMERIC;]]>
             </change>
             <applicationversion>32601</applicationversion>
             <orderchange>11</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN fin.Negotiation.feeValue IS 'Valor da taxa cobrada sobre a negociação.';]]>
             </change>
             <applicationversion>32601</applicationversion>
             <orderchange>12</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[  

ALTER TABLE fin.Negotiation ADD COLUMN entryValueIsPercent BOOLEAN DEFAULT FALSE;]]>
             </change>
             <applicationversion>32601</applicationversion>
             <orderchange>13</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN fin.Negotiation.entryValueIsPercent IS 'Valor de entrada é percentual (true), se for numérico (false).';]]>
             </change>
             <applicationversion>32601</applicationversion>
             <orderchange>14</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[  

COMMENT ON COLUMN fin.Negotiation.observation IS 'Alguma observação necessária sobre a negociação. No caso da tela alternativa é a descrição da condição.';]]>
             </change>
             <applicationversion>32601</applicationversion>
             <orderchange>15</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

ALTER TABLE fin.Negotiation ADD COLUMN bankAccountId INTEGER REFERENCES finbankaccount(bankaccountid);]]>
             </change>
             <applicationversion>32601</applicationversion>
             <orderchange>16</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN fin.Negotiation.bankAccountId IS 'Código da conta bancária.';]]>
             </change>
             <applicationversion>32601</applicationversion>
             <orderchange>17</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

ALTER TABLE fin.Negotiation ADD COLUMN operationId INTEGER REFERENCES finoperation(operationid);]]>
             </change>
             <applicationversion>32601</applicationversion>
             <orderchange>18</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN fin.Negotiation.operationId IS 'Código da operação.';]]>
             </change>
             <applicationversion>32601</applicationversion>
             <orderchange>19</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

ALTER TABLE fin.Negotiation ADD COLUMN costCenterId VARCHAR(30) REFERENCES acccostcenter(costcenterid);]]>
             </change>
             <applicationversion>32601</applicationversion>
             <orderchange>20</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN fin.Negotiation.costCenterId IS 'Código do centro de custo';]]>
             </change>
             <applicationversion>32601</applicationversion>
             <orderchange>21</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

COMMENT ON COLUMN fin.Negotiation.discountByValue IS 'Desconto é por valor (true) ou percentual (false)';]]>
             </change>
             <applicationversion>32601</applicationversion>
             <orderchange>22</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE res.residente ADD COLUMN inicioAtivPraticas DATE;]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE res.residente ADD COLUMN fimAtivPraticas DATE;]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE res.residente ADD COLUMN localAtivPraticas INTEGER REFERENCES baslegalperson(personid);]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE res.residente ADD COLUMN notaAtivPraticas REAL;]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE res.residente ADD COLUMN carhaHorariaAtivPraticas REAL;]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ CREATE TABLE webserviceLogin (webserviceloginid SERIAL PRIMARY KEY, login VARCHAR(25), hash VARCHAR(255), validade TIMESTAMP) INHERITS (basLog);]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ alter table bascountry add fronteirico BOOLEAN DEFAULT FALSE;]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
update bascountry set fronteirico='t' where countryid in (
select countryid from bascountry where name ilike 'Suriname' union all 
select countryid from bascountry where name ilike 'Guiana' union all 
select countryid from bascountry where name ilike 'Venezuela' union all 
select countryid from bascountry where name ilike 'Colômbia' union all 
select countryid from bascountry where name ilike 'Peru' union all 
select countryid from bascountry where name ilike 'Bolívia' union all 
select countryid from bascountry where name ilike 'Paraguai' union all 
select countryid from bascountry where name ilike 'Argentina' union all 
select countryid from bascountry where name ilike 'Uruguai'
);]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE bascity ADD COLUMN fronteirico BOOLEAN DEFAULT FALSE;]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table basdocumenttype ADD nacionalidade char(1) default 'B' check ( nacionalidade='B' OR nacionalidade='E' OR nacionalidade='F' OR nacionalidade='T');]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN basdocumenttype.nacionalidade IS 'B=Brasileiros E=Estrangeiros F=Estrangeiros Fronteiriços T=Todos';]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE acdFrequenceEnroll DISABLE TRIGGER acdfrequenceenrollsynctoacdenroll;]]>
             </change>
             <applicationversion>32700</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index idx_acdfrequenceenroll_frequencedate on acdfrequenceenroll(frequencydate);]]>
             </change>
             <applicationversion>32700</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index idx_acdfrequenceenroll_justification on acdfrequenceenroll(justification);]]>
             </change>
             <applicationversion>32700</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
INSERT INTO prtcronogramaprofessor (
groupid, professorid, dataaula, cronograma)
SELECT horario.groupid, 
       horarioprofessor.professorid, 
       conteudo.date,
       (SELECT description FROM acdScheduleProfessorcontent WHERE scheduleprofessorid = conteudo.scheduleprofessorid AND date = conteudo.date ORDER BY datetime ASC LIMIT 1) as conteudo
  FROM acdScheduleProfessorcontent conteudo
  INNER JOIN acdScheduleProfessor horarioprofessor USING(scheduleprofessorid)
  INNER JOIN acdSchedule horario USING(scheduleid)
        GROUP BY horario.groupid,horarioprofessor.professorid,conteudo.date, conteudo.scheduleprofessorid;]]>
             </change>
             <applicationversion>32700</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
delete from acdfrequenceenroll where justification ilike '%Aluno%ma%tr%lado%a%data%dessa%aula%' and frequencydate >='2015-01-01';]]>
             </change>
             <applicationversion>32700</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acdFrequenceEnroll enable TRIGGER acdfrequenceenrollsynctoacdenroll;]]>
             </change>
             <applicationversion>32700</applicationversion>
             <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

CREATE OR REPLACE FUNCTION ajustarMatriculadosEmDisciplinasEmAndamento(p_periodo VARCHAR)
  RETURNS boolean AS
$BODY$

DECLARE

    v_dias_aula RECORD;
    v_primeiro_dia DATE;
    v_horario RECORD;
    v_matriculas RECORD;
    v_horarios_aula RECORD;
    v_periodo VARCHAR;
    v_verifica_registro BOOLEAN;
    
BEGIN

    v_verifica_registro:= FALSE;
    
     FOR v_matriculas IN (SELECT A.enrollId,
                                 N.groupId,
                                 A.dateenroll,
                                 x2.name as disciplina,
                                 x4.personid,
                                 x4.name
                            FROM acdEnroll A
                      INNER JOIN acdGroup N
                              ON (N.groupId = A.groupId)
                      INNER JOIN acdcurriculum x1
                              ON x1.curriculumid = n.curriculumid
                      INNER JOIN acdcurricularcomponent x2
                              ON (x2.curricularcomponentid =x1.curricularcomponentid
                                and x1.curricularcomponentversion = x2.curricularcomponentversion)
                      INNER JOIN acdcontract x3
                              ON x3.contractid = a.contractid
                      INNER JOIN ONLY basperson X4
                              ON  x4.personid = x3.personid        
                      INNER JOIN acdLearningPeriod P
                              ON (N.learningPeriodId = P.learningPeriodId)
                             AND (P.periodId = p_periodo) 
                             AND a.statusid = 1 -- MATRICULADO
                           WHERE (SELECT MIN(X.datas)
				    FROM (SELECT UNNEST(A.occurrencedates) AS datas 
					    FROM acdschedule A
				      INNER JOIN acdScheduleProfessor B
					      ON (B.scheduleId = A.scheduleId)
				      INNER JOIN acdScheduleProfessorContent C
					      ON (C.scheduleProfessorId = B.scheduleProfessorId)
					   WHERE A.groupid = N.groupId
					     AND C.description IS NOT NULL) X ) < dateenroll)
                             LOOP

    
        FOR v_dias_aula IN (SELECT DISTINCT UNNEST(A.occurrencedates) AS dia,
                                  A.scheduleid
                             FROM acdschedule A
                       INNER JOIN acdScheduleProfessor B
                               ON (B.scheduleId = A.scheduleId)
                       INNER JOIN acdScheduleProfessorContent C
                               ON (C.scheduleProfessorId = B.scheduleProfessorId)
                            WHERE A.groupid = v_matriculas.groupid
                              AND C.description IS NOT NULL )
        LOOP

            FOR  v_horarios_aula IN (SELECT UNNEST(A.timeIds) as horarioId
                                      FROM acdSchedule A
                                     WHERE A.scheduleId = v_dias_aula.scheduleId)
            LOOP
                IF ( v_dias_aula.dia <= v_matriculas.dateenroll )
                THEN
                    
                    v_verifica_registro:= DISTINCT TRUE FROM acdfrequenceenroll 
                                              WHERE enrollid = v_matriculas.enrollid
                                                AND scheduleid = v_dias_aula.scheduleid
                                                AND frequencydate = v_dias_aula.dia
                                                AND timeid = v_horarios_aula.horarioid;
                    
                    IF v_verifica_registro IS FALSE OR v_verifica_registro IS NULL 
                    THEN
                        INSERT INTO acdfrequenceenroll(enrollid, scheduleid, frequencydate, frequency, justification, timeid) VALUES(v_matriculas.enrollid, v_dias_aula.scheduleid, v_dias_aula.dia, 0, 'Aluno matri­culado após a data dessa aula. (Data da matrícula '|| v_matriculas.dateenroll ||')', v_horarios_aula.horarioid);
                    END IF;
                END IF;
            END LOOP;
        END LOOP;
    end loop;
    RETURN TRUE;
END;
$BODY$
LANGUAGE plpgsql VOLATILE
  COST 100;

;]]>
             </change>
             <applicationversion>32700</applicationversion>
             <orderchange>8</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE caplancamento ADD COLUMN operationid INTEGER REFERENCES finoperation(operationid);]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE caplancamento ADD COLUMN countermovementid INTEGER REFERENCES fincountermovement(countermovementid);]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE caplancamento ADD COLUMN bankmovementid INTEGER REFERENCES fin.bankmovement(bankmovementid);]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE ptcsubjectsector ADD COLUMN permitefecharprotocolo BOOLEAN DEFAULT FALSE;]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN ptcsubjectsector.permitefecharprotocolo IS 'Indica se o protocolo pode ser encerrado neste encaminhamento.';]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE acdlearningperiod ADD COLUMN matriculasemminimodecreditos BOOLEAN DEFAULT FALSE;]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN acdlearningperiod.matriculasemminimodecreditos IS 'Caso não seja possível atingir o limite mínimo de créditos permite a matrícula nas disciplinas disponíveis';]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE acdenrollstatus ADD COLUMN abbreviation VARCHAR(2);]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ CREATE TABLE res.atividadePratica(
    atividadePraticaId SERIAL,
    residenteId INT NOT NULL REFERENCES res.residente(residenteId),
    descricao TEXT NOT NULL,
    inicio DATE,        
    fim DATE,
    local BIGINT REFERENCES baslegalperson(personid),
    nota REAL,
    cargaHoraria REAL
) INHERITS (basLog);]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
INSERT INTO res.atividadePratica
            (username,
             datetime,
             ipaddress,
             residenteId,
             descricao,
             inicio,        
             fim,
             local,
             nota,
             cargaHoraria)
     SELECT username,
            datetime,
            ipaddress,
            residenteId,
            descricao,
            inicioativpraticas,
            fimativpraticas,
            localativpraticas,
            notaativpraticas,
            carhahorariaativpraticas
           FROM res.residente
          WHERE descricao IS NOT NULL;]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ INSERT INTO acdReasonCancellation (reasonCancellationId, description) VALUES (-1, 'PRÉ-MATRÍCULA FORA DO PRAZO DE CONFIRMAÇÃO');]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
INSERT INTO acdReasonCancellation (reasonCancellationId, description) VALUES (-2, 'ALUNO INADIMPLENTE');]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
INSERT INTO acdReasonCancellation (reasonCancellationId, description) VALUES (-3, 'CLASSIFICAÇÃO DE MATRÍCULA');]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
INSERT INTO acdReasonCancellation (reasonCancellationId, description) VALUES (-4, 'UNIFICAÇÃO DE DISCIPLINAS OFERECIDAS');]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
INSERT INTO acdReasonCancellation (reasonCancellationId, description) VALUES (-5, 'TRANSFERÊNCIA');]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
INSERT INTO acdReasonCancellation (reasonCancellationId, description) VALUES (-6, 'INSUFICIÊNCIA DE REQUISITOS');]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ UPDATE acdEnroll
   SET finalNote = X.finalNote
  FROM (SELECT enrollId,
               finalNote::NUMERIC
      FROM acdExploitation
         WHERE exploitationType = 'I') X
 WHERE acdEnroll.enrollId = X.enrollId;]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE capsolicitacao ADD COLUMN numerodanotafiscal VARCHAR;]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN capsolicitacao.numerodanotafiscal IS 'Número da nota fiscal';]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE basconstrutorderelatorios ADD CONSTRAINT basconstrutorderelatorios_pkey PRIMARY KEY(relatorioid);]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ CREATE TABLE basHistoricoAtualizacao(
    historicoAtualizacaoId SERIAL,
    versaoSagu VARCHAR NOT NULL,
    versaoGnuteca VARCHAR NOT NULL
) INHERITS (basLog);]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE miolo_audit ADD COLUMN versaoSistema VARCHAR;]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE capsolicitacaoparcela ADD COLUMN nossonumero VARCHAR;]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN capsolicitacaoparcela.nossonumero IS 'Nosso número';]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE capsolicitacaoparcela ADD COLUMN numerododocumento VARCHAR;]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN capsolicitacaoparcela.numerododocumento IS 'Número do documento';]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ CREATE TABLE acptipodecoordenador 
(tipodecoordenadorid SERIAL PRIMARY KEY,
descricao VARCHAR(255) NOT NULL
) INHERITS (baslog);]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
INSERT INTO acptipodecoordenador (tipodecoordenadorid, descricao) VALUES (1, 'Coordenador de curso');]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE acpcoordenadores ADD COLUMN tipodecoordenadorid INTEGER REFERENCES acptipodecoordenador(tipodecoordenadorid) DEFAULT 1;]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE bashistoricoatualizacao ADD PRIMARY KEY(historicoatualizacaoid);]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE finenrollfee ADD COLUMN operacaoCancelamento INT REFERENCES finoperation(operationid);]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ CREATE UNIQUE INDEX basperson_email_key ON basPerson (email);]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ CREATE TABLE ava_categoria(
     categoriaId SERIAL PRIMARY KEY,
     descricao VARCHAR,
     tipo VARCHAR
) INHERITS (basLog);]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ INSERT INTO acdtestEndCourseType (testEndCourseTypeId, description, begindate) VALUES (-1, 'ENADE', NOW()::DATE);]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ CREATE TABLE ava_categoria(
     categoriaId SERIAL PRIMARY KEY,
     descricao VARCHAR,
     tipo VARCHAR
) INHERITS (basLog);]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE TABLE ava_categoria_avaliacao(
             categoriaAvaliacaoId SERIAL PRIMARY KEY,
             categoriaId INT NOT NULL REFERENCES ava_categoria(categoriaId),
             ref_avaliacao INT NOT NULL REFERENCES ava_avaliacao(id_avaliacao)
) INHERITS (basLog);]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE ava_categoria_avaliacao ADD CONSTRAINT categoria_avaliacao UNIQUE(categoriaId, ref_avaliacao);]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE finEntry DISABLE TRIGGER trg_verificaperiodocontabil;
ALTER TABLE finEntry DISABLE TRIGGER trg_verificacaixaabertovinculadoaolancamento;
DELETE FROM finEntry
      WHERE EXISTS (SELECT RI.personId,
               RI.invoiceId,
               E.entryId,
               E.value
              FROM finEntry E
       INNER JOIN ONLY finReceivableInvoice RI
                ON RI.invoiceId = E.invoiceId
             WHERE ROUND(E.value, getParameter('BASIC', 'REAL_ROUND_VALUE')::INT) = 0.00
               AND E.entryId = finEntry.entryId
              ORDER BY RI.personId,
               RI.invoiceId);
ALTER TABLE finEntry ENABLE TRIGGER trg_verificaperiodocontabil;
ALTER TABLE finEntry ENABLE TRIGGER trg_verificacaixaabertovinculadoaolancamento;
]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ DROP VIEW resultado_avaliacao CASCADE;]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
CREATE OR REPLACE VIEW resultado_avaliacao AS 
 SELECT a.id_respostas, e.ref_avaliacao, g.nome AS nome_avaliacao, e.id_formulario, e.nome AS nome_formulario, e.ref_perfil, h.descricao AS nome_perfil, d.id_bloco, d.nome AS nome_bloco, f.id_granularidade, f.descricao AS nome_granularidade, f.tipo_granularidade, c.id_questoes, c.descricao AS nome_questoes, c.tipo, a.valor AS resposta, i.descricao AS nome_resposta, i.legenda AS legenda_resposta, j.ref_resposta, j.course_name, j.ref_curso, j.ref_unit, j.ref_course, j.person_maritalstatus_description, j.groupid, j.curricularcomponentversion, j.ref_sector, j.formation_level, j.ref_group, j.ref_curricular_component, j.person_cityid, j.person_employee_description, j.ref_curriculum, j.course, j.turn, j.course_centerid, j.person_sex, j.professor_name, j.person_employee_typeid, j.person_stateid, j.person_state_description, j.person_maritalstatusid, j.totalenrolled, j.person_weeklyhours, j.person_city_description, j.sector, j.ref_turn, j.curricular_component, j.professorid, j.ref_formation_level, j.ref_curriculum_version, j.course_center_description, j.person_datebirth, j.course_version, j.person_specialnecessityid, j.ref_unidade, j.person_regimetrabalho, j.unit, j.ref_curricular_component_version, j.person_specialnecessity_description, j.ref_turno, j.courseverion, j.date_entry, j.period_entry
   FROM ava_respostas a
   JOIN ava_bloco_questoes b ON a.ref_bloco_questoes = b.id_bloco_questoes
   JOIN ava_questoes c ON b.ref_questao = c.id_questoes
   JOIN ava_bloco d ON b.ref_bloco = d.id_bloco
   JOIN ava_formulario e ON d.ref_formulario = e.id_formulario
   JOIN ava_granularidade f ON f.id_granularidade = d.ref_granularidade
   JOIN ava_avaliacao g ON e.ref_avaliacao = g.id_avaliacao
   JOIN ava_perfil h ON e.ref_perfil = h.id_perfil
   LEFT JOIN ava_questoes_opcoes i ON c.id_questoes = i.ref_questoes AND a.valor = i.codigo::text
   LEFT JOIN ( SELECT ct.ref_resposta, ct.course_name, ct.ref_curso, ct.ref_unit, ct.ref_course, ct.person_maritalstatus_description, ct.groupid, ct.curricularcomponentversion, ct.ref_sector, ct.formation_level, ct.ref_group, ct.ref_curricular_component, ct.person_cityid, ct.person_employee_description, ct.ref_curriculum, ct.course, ct.turn, ct.course_centerid, ct.person_sex, ct.professor_name, ct.person_employee_typeid, ct.person_stateid, ct.person_state_description, ct.person_maritalstatusid, ct.totalenrolled, ct.person_weeklyhours, ct.person_city_description, ct.sector, ct.ref_turn, ct.curricular_component, ct.professorid, ct.ref_formation_level, ct.ref_curriculum_version, ct.course_center_description, ct.person_datebirth, ct.course_version, ct.person_specialnecessityid, ct.ref_unidade, ct.person_regimetrabalho, ct.unit, ct.ref_curricular_component_version, ct.person_specialnecessity_description, ct.ref_turno, ct.courseverion, ct.date_entry, ct.period_entry
   FROM crosstab('SELECT ref_resposta, 
                        chave,
                        valor
                   FROM ava_atributos ORDER BY ref_resposta, chave'::text, 'SELECT unnest(ARRAY[''course_name'', ''ref_curso'', ''ref_unit'', ''ref_course'', ''person_maritalstatus_description'', ''groupid'', ''curricularcomponentversion'', ''ref_sector'', ''formation_level'', ''ref_group'', ''ref_curricular_component'', ''person_cityid'', ''person_employee_description'', ''ref_curriculum'', ''course'', ''turn'', ''course_centerid'', ''person_sex'', ''professor_name'', ''person_employee_typeid'', ''person_stateid'', ''person_state_description'', ''person_maritalstatusid'', ''totalenrolled'', ''person_weeklyhours'', ''person_city_description'', ''sector'', ''ref_turn'', ''curricular_component'', ''professorid'', ''ref_formation_level'', ''ref_curriculum_version'', ''course_center_description'', ''person_datebirth'', ''course_version'', ''person_specialnecessityid'', ''ref_unidade'', ''person_regimetrabalho'', ''unit'', ''ref_curricular_component_version'', ''person_specialnecessity_description'', ''ref_turno'', ''courseverion'', ''date_entry'', ''period_entry''])'::text) ct(ref_resposta integer, course_name text, ref_curso text, ref_unit text, ref_course text, person_maritalstatus_description text, groupid text, curricularcomponentversion text, ref_sector text, formation_level text, ref_group text, ref_curricular_component text, person_cityid text, person_employee_description text, ref_curriculum text, course text, turn text, course_centerid text, person_sex text, professor_name text, person_employee_typeid text, person_stateid text, person_state_description text, person_maritalstatusid text, totalenrolled text, person_weeklyhours text, person_city_description text, sector text, ref_turn text, curricular_component text, professorid text, ref_formation_level text, ref_curriculum_version text, course_center_description text, person_datebirth text, course_version text, person_specialnecessityid text, ref_unidade text, person_regimetrabalho text, unit text, ref_curricular_component_version text, person_specialnecessity_description text, ref_turno text, courseverion text, date_entry text, period_entry text)) j 
                   ON a.id_respostas = j.ref_resposta;]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

DROP VIEW resultado_avaliacao_para_relatorio;]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 

CREATE OR REPLACE VIEW resultado_avaliacao_para_relatorio AS 
 SELECT a.id_respostas, a.ref_avaliacao, a.nome_avaliacao, a.id_formulario, a.nome_formulario, a.ref_perfil, a.nome_perfil, a.id_bloco, a.nome_bloco, a.id_granularidade, a.nome_granularidade, a.tipo_granularidade, a.id_questoes, a.nome_questoes, a.tipo, b.codigo, a.resposta, 
        CASE
            WHEN a.resposta = b.codigo::text THEN 1
            ELSE 0
        END AS opcao_escolhida, b.descricao, COALESCE(b.legenda, b.descricao::text) AS legenda, a.ref_resposta, a.course_name, a.ref_curso, a.ref_unit, a.ref_course, a.person_maritalstatus_description, a.groupid, a.curricularcomponentversion, a.ref_sector, a.formation_level, a.ref_group, a.ref_curricular_component, a.person_cityid, a.person_employee_description, a.ref_curriculum, a.course, a.turn, a.course_centerid, a.person_sex, a.professor_name, a.person_employee_typeid, a.person_stateid, a.person_state_description, a.person_maritalstatusid, a.totalenrolled, a.person_weeklyhours, a.person_city_description, a.sector, a.ref_turn, a.curricular_component, a.professorid, a.ref_formation_level, a.ref_curriculum_version, a.course_center_description, a.person_datebirth, a.course_version, a.person_specialnecessityid, a.ref_unidade, a.person_regimetrabalho, a.unit, a.ref_curricular_component_version, a.person_specialnecessity_description, a.ref_turno, a.courseverion, a.date_entry, a.period_entry
   FROM resultado_avaliacao a
   LEFT JOIN ava_questoes_opcoes b ON a.id_questoes = b.ref_questoes
  WHERE a.tipo = ANY (ARRAY[2, 3, 4]);]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
-- Como pode não estar vinculada a um formulário, o identificador pode ter um valor NULL
ALTER TABLE miolo_custom_field ALTER COLUMN identifier DROP NOT NULL;]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
-- Cria as colunas referentes as relações do campo personalizado com uma tabela/coluna
ALTER TABLE miolo_custom_field ADD COLUMN tabela TEXT;]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE miolo_custom_field ADD COLUMN coluna TEXT;]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE miolo_custom_field DROP CONSTRAINT uniq_customfield_name;]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ SELECT miolo_audit_upgrade('ALTER TABLE miolo_audit ADD COLUMN versaoSistema VARCHAR');]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE ava_bloco_questoes ADD COLUMN categoriaId INT REFERENCES ava_categoria(categoriaId);]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE res.atividadepratica ALTER COLUMN descricao DROP NOT NULL;]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table res.atividadepratica drop constraint atividadepratica_local_fkey;]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
alter table res.atividadepratica alter COLUMN local type varchar(255);]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
update res.atividadepratica x set local = (select name from baslegalperson where personid = x.local::int) where local is not null;]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ CREATE TABLE res.desbloqueioDigitacaoNotas(
    desbloqueioDigitacaoNotasId SERIAL PRIMARY KEY,
    residenteId INT REFERENCES res.residente(residenteId),
    dataDesbloqueio DATE NOT NULL,
    observacao TEXT    
    ) INHERITS (basLog);]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE res.AtividadePratica DROP COLUMN descricao;]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ CREATE TABLE acpdocentesead (
docenteeadid serial primary key,
professorid bigint references basphysicalpersonprofessor(personid) not null,
ofertacomponentecurricularid integer references acpofertacomponentecurricular(ofertacomponentecurricularid) not null,
cargahoraria numeric(19,0) ) INHERITS(baslog);]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index idx_acpdocentesead_professorid on acpdocentesead (professorid);]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index idx_acpdocentesead_ofertacomponentecurricularid on acpdocentesead (ofertacomponentecurricularid);]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN acpdocentesead.professorid IS 'Código do professor';]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN acpdocentesead.ofertacomponentecurricularid IS 'Código da oferta de componente curricular';]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN acpdocentesead.cargahoraria IS 'Carga horária do professor';]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ DELETE FROM basReportParameter WHERE reportId = -22;]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
DELETE FROM basReport WHERE reportId = -22;]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ UPDATE finInvoice ii
    SET costcenterid = invoice.costcenterid
   FROM (
    SELECT E.invoiceId,
           X.costcenterid
      FROM ONLY finInvoice E
INNER JOIN (
        SELECT A.invoiceid, 
               D.costcenterid
          FROM prctituloinscricao A
    INNER JOIN acpinscricaoturmagrupo BB
            ON A.inscricaoid = BB.inscricaoid 
    INNER JOIN prcprecocondicao B
            ON BB.precocondicaomatriculaid = B.precocondicaoid
    INNER JOIN prcprecocurso C
            ON B.precocursoid = C.precocursoid
    INNER JOIN PrcCentroCustoOcorrenciaCurso D
            ON C.ocorrenciacursoid = D.ocorrenciacursoid 
           ) X
        ON (E.invoiceid = X.invoiceid
       AND E.costcenterid <> X.costcenterid) 
       ) AS invoice
  WHERE ii.invoiceid = invoice.invoiceid;]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
             CREATE OR REPLACE FUNCTION verificaresumomatriculalog(p_contractId integer, p_learningPeriodId integer)
  RETURNS boolean AS
$BODY$
/*************************************************************************************
  NAME: verificaresumomatriculalog
  PURPOSE: Funcao que efetua um registro de fim, caso exista um registro de log não finalizado
  REVISIONS:
  Ver       Date       Author             Description
  --------- ---------- ------------------ ------------------------------------
  1.0       19/06/2015 Nataniel        1. Funcao criada
**************************************************************************************/
DECLARE
    v_usuario varchar;
    v_resumomatricula record;
BEGIN
    SELECT * INTO v_resumomatricula  
      FROM finresumomatriculalog A
INNER JOIN finresumomatricula B
     USING (resumomatriculaid)
     WHERE b.learningperiodid = p_learningPeriodId
       AND b.contractid = p_contractId 
       AND A.categoria = 'RESUMO'
  ORDER BY resumomatriculalogid DESC LIMIT 1;

    IF v_resumomatricula.detalhe = 'INICIO'
    THEN
    --obtem o usuário da ultima matricula feita para o cotrato e periodo letivo informado
        SELECT INTO v_usuario
                    a.username
               FROM acdenroll a
         INNER JOIN acdgroup b 
                 ON a.groupid = b.groupid
              WHERE a.contractid = p_contractId
                AND b.learningperiodid = p_learningPeriodId
           ORDER BY enrollid DESC LIMIT 1;

        IF v_usuario IS NULL
        THEN
            v_usuario = 'nao-identificado';
        END IF;

    INSERT INTO finresumomatriculalog
            (resumomatriculaid,
             datahora,
             detalhe,
             categoria,
             usuario,
             transacao)
         VALUES (v_resumomatricula.resumomatriculaid,
             NOW(),
             'FIM',
             'RESUMO',
             v_usuario,
             COALESCE(v_resumomatricula.transacao,1));
    END IF;

    RETURN TRUE;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;
    ]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
             CREATE OR REPLACE FUNCTION ajustaLogDeMatricula()
  RETURNS boolean AS
$BODY$
DECLARE
    v_registros RECORD;
BEGIN

    FOR v_registros IN ( SELECT b.contractid,
                    b.learningperiodid
                   FROM finresumomatriculalog A 
             INNER JOIN finresumomatricula B
                  USING (resumomatriculaid)
                  WHERE A.categoria = 'RESUMO'
                    AND A.detalhe = 'INICIO'
                    AND NOT EXISTS ( SELECT 1 
                           FROM finresumomatriculalog 
                          WHERE resumomatriculaid = A.resumomatriculaid 
                            AND detalhe = 'FIM' 
                        AND resumomatriculalogid > A.resumomatriculalogid )
               ORDER BY b.contractid )
    LOOP
        PERFORM verificaresumomatriculalog(v_registros.contractid, v_registros.learningperiodid);
    END LOOP; 

    RETURN TRUE;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;   ]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
               <![CDATA[ SELECT * FROM ajustaLogDeMatricula(); ]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
               <![CDATA[ DROP FUNCTION IF EXISTS ajustaLogDeMatricula(); ]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE basreportparameter ADD COLUMN nomecampopersonalizado varchar(30);]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE ava_opcoes_questoes ADD PRIMARY KEY (opcoesquestoesid);]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE basconstrutorderelatorios ADD PRIMARY KEY (relatorioid);]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE public.basphone ADD PRIMARY KEY (phoneid);]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE public.captipolancamento ADD PRIMARY KEY (tipolancamentoid);]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE dbchanges ADD PRIMARY KEY (changeid);]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE public.ava_avaliacao_widget ADD PRIMARY KEY (id_avaliacao_widget);]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>6</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE fin.invoicenegociationconfig ADD PRIMARY KEY (financeinformationid);]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>7</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE public.tabelareferenciada ADD PRIMARY KEY (tabelareferenciadaid);]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>8</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index on dbchanges (applied);]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>9</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index on dbchanges (orderchange);]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>10</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index on dbchanges (error);]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>11</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
create index on dbchanges (applieddate);]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>12</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ CREATE OR REPLACE FUNCTION ajustarTitulosPedagogico()
RETURNS BOOLEAN AS
$BODY$
DECLARE
    v_titulo_antigo RECORD;
    v_info RECORD;
BEGIN

    FOR v_info IN ( SELECT AA.personid,
               AA.invoiceid AS titulo_novo,
               CC.invoiceid AS titulo_antigo
              FROM ONLY finreceivableinvoice AA
            INNER JOIN finEntry BB
                ON AA.invoiceId = BB.invoiceId
         -- Tras todos os títulos zerados com um lançamento com a operação transferenciadesaldooperation vinculados ao pedagogico   
         LEFT JOIN ( SELECT x.invoiceid 
                       FROM ONLY finreceivableinvoice x 
                  WHERE EXISTS( SELECT 1 
                          FROM finentry 
                         WHERE invoiceid = x.invoiceid 
                           AND operationid = ( SELECT transferenciadesaldooperation 
                                     FROM findefaultoperations)::INT )
                AND x.balance = 0
                AND x.iscanceled IS FALSE
                -- Verifica se é um titulo do pedagogico
                AND EXISTS( SELECT 1 FROM prcTituloInscricao WHERE invoiceid = X.invoiceid ) ) CC
            ON 1=1
                 WHERE BB.comments ilike '%VALOR REFERENTE AO T%TULO REEMITIDO%' || CC.invoiceId || '%'
               AND AA.iscanceled IS FALSE
               -- Se o novo título não tem registro no pedagogico    
               AND NOT EXISTS( SELECT 1 FROM prcTituloInscricao WHERE invoiceid = AA.invoiceid )
          ORDER BY 2
          )
    LOOP
    SELECT INTO v_titulo_antigo * 
      FROM prcTituloInscricao
     WHERE invoiceid = v_info.titulo_antigo;

        RAISE NOTICE 'PERSONID % INVOICE OLD % INSERT NEW_INVOICE %', v_info.personid, v_info.titulo_antigo, v_info.titulo_novo;

    INSERT INTO prcTituloInscricao 
                (inscricaoid,
             invoiceid,
             tipo,
             unitid,
             precocondicaoid,
             centerid)
         VALUES (v_titulo_antigo.inscricaoid,
                 v_info.titulo_novo,
                 v_titulo_antigo.tipo,
                 v_titulo_antigo.unitid,
                 v_titulo_antigo.precocondicaoid,
                 v_titulo_antigo.centerid);
    END LOOP;  

    RETURN TRUE;

END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ SELECT * FROM ajustarTitulosPedagogico();]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ SELECT * FROM ajustarTitulosPedagogico();]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ SELECT * FROM ajustarTitulosPedagogico();]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ DROP FUNCTION IF EXISTS ajustarTitulosPedagogico();]]>
             </change>
             <applicationversion>32600</applicationversion>
             <orderchange>5</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ COMMENT ON COLUMN caplancamento.operationid IS 'Operação';]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN caplancamento.countermovementid IS 'Movimentação de caixa';]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN caplancamento.bankmovementid IS 'Movimentação bancária';]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
COMMENT ON COLUMN caplancamento.rateioid IS 'Rateio';]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>4</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE fincountermovement ADD COLUMN movimentacaoEstornada BOOLEAN DEFAULT FALSE;]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ ALTER TABLE miolo_custom_field  ADD COLUMN filtrorelatoriogenerico boolean default true;]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ CREATE EXTENSION tablefunc;]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ CREATE TABLE caprateioautorizacao
(rateioautoautorizacaoid SERIAL PRIMARY KEY,
solicitacaoid INTEGER REFERENCES capsolicitacao(solicitacaoid) NOT NULL,
costcenterid VARCHAR(255) REFERENCES acccostcenter(costcenterid) NOT NULL,
personidowner INTEGER REFERENCES basphysicalpersonemployee(personid) NOT NULL,
autorizado BOOLEAN NOT NULL DEFAULT FALSE,
dataautorizacao timestamp NOT NULL DEFAULT NOW()
) INHERITS (baslog);]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ alter table acpcurso add column cancelamentofinanceiro char(1) DEFAULT 'P';]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
comment on column acpcurso.cancelamentofinanceiro IS 'Indica a forma de cancelamento financeiro da matricula para este curso. P - Calcular valor proporcional a carga horária cursada. C - Cancelar todos os títulos não vencidos.';]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
UPDATE acpcurso SET cancelamentofinanceiro = 'C' WHERE lancarvalordecancelamento IS FALSE;]]>
             </change>
             <applicationversion>32900</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ DROP TRIGGER IF EXISTS trg_centro_acdacademiccalendar ON acdacademiccalendar;]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>1</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
DROP TRIGGER IF EXISTS trg_unidade_acdacademiccalendar ON acdacademiccalendar;]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>2</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ 
ALTER TABLE ptcRequest ADD COLUMN invoiceId INTEGER REFERENCES finReceivableInvoice(invoiceId);]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>3</orderchange>
        </item>
        <item>
             <change>
             <![CDATA[ update finentry set value = trunc(value, 2) where comments ilike 'JUROS/MULTA LANÇADO AUTOMATICAMENTE PELO ARQUIVO DE RETORNO IMPORTADO EM%';]]>
             </change>
             <applicationversion>32800</applicationversion>
             <orderchange>1</orderchange>
        </item>
</dbchanges>
