function md5_array(t){for(i=0;t>i;i++)this[i]=0;this.length=t}dojo.declare("Miolo.md5",null,{constructor:function(){},array:function(t){var s;for(i=0;t>i;i++)s[i]=0;return s.length=t,s},integer:function(t){return t%4294967296},shr:function(t,i){return t=this.integer(t),i=this.integer(i),t-2147483648>=0?(t%=2147483648,t>>=i,t+=1073741824>>i-1):t>>=i,t},shl1:function(t){return t%=2147483648,t&!0?(t-=1073741824,t*=2,t+=2147483648):t*=2,t},shl:function(t,i){t=this.integer(t),i=this.integer(i);for(var s=0;i>s;s++)t=this.shl1(t);return t},and:function(t,i){t=this.integer(t),i=this.integer(i);var s=t-2147483648,h=i-2147483648;return s>=0?h>=0?(s&h)+2147483648:s&i:h>=0?t&h:t&i},or:function(t,i){t=this.integer(t),i=this.integer(i);var s=t-2147483648,h=i-2147483648;return s>=0?h>=0?(s|h)+2147483648:(s|i)+2147483648:h>=0?(t|h)+2147483648:t|i},xor:function(t,i){t=this.integer(t),i=this.integer(i);var s=t-2147483648,h=i-2147483648;return s>=0?h>=0?s^h:(s^i)+2147483648:h>=0?(t^h)+2147483648:t^i},not:function(t){return t=this.integer(t),4294967295-t},state:new md5_array(4),count:new md5_array(2),buffer:new md5_array(64),transformBuffer:new md5_array(16),digestBits:new md5_array(16),S11:7,S12:12,S13:17,S14:22,S21:5,S22:9,S23:14,S24:20,S31:4,S32:11,S33:16,S34:23,S41:6,S42:10,S43:15,S44:21,F:function(t,i,s){return this.or(this.and(t,i),this.and(this.not(t),s))},G:function(t,i,s){return this.or(this.and(t,s),this.and(i,this.not(s)))},H:function(t,i,s){return this.xor(this.xor(t,i),s)},I:function(t,i,s){return this.xor(i,this.or(t,this.not(s)))},rotateLeft:function(t,i){return this.or(this.shl(t,i),this.shr(t,32-i))},FF:function(t,i,s,h,r,n,e){return t=t+this.F(i,s,h)+r+e,t=this.rotateLeft(t,n),t+=i},GG:function(t,i,s,h,r,n,e){return t=t+this.G(i,s,h)+r+e,t=this.rotateLeft(t,n),t+=i},HH:function(t,i,s,h,r,n,e){return t=t+this.H(i,s,h)+r+e,t=this.rotateLeft(t,n),t+=i},II:function(t,i,s,h,r,n,e){return t=t+this.I(i,s,h)+r+e,t=this.rotateLeft(t,n),t+=i},transform:function(t,s){var h=0,r=0,n=0,e=0,a=this.transformBuffer;for(h=this.state[0],r=this.state[1],n=this.state[2],e=this.state[3],i=0;16>i;i++)for(a[i]=this.and(t[4*i+s],255),j=1;4>j;j++)a[i]+=this.shl(this.and(t[4*i+j+s],255),8*j);h=this.FF(h,r,n,e,a[0],this.S11,3614090360),e=this.FF(e,h,r,n,a[1],this.S12,3905402710),n=this.FF(n,e,h,r,a[2],this.S13,606105819),r=this.FF(r,n,e,h,a[3],this.S14,3250441966),h=this.FF(h,r,n,e,a[4],this.S11,4118548399),e=this.FF(e,h,r,n,a[5],this.S12,1200080426),n=this.FF(n,e,h,r,a[6],this.S13,2821735955),r=this.FF(r,n,e,h,a[7],this.S14,4249261313),h=this.FF(h,r,n,e,a[8],this.S11,1770035416),e=this.FF(e,h,r,n,a[9],this.S12,2336552879),n=this.FF(n,e,h,r,a[10],this.S13,4294925233),r=this.FF(r,n,e,h,a[11],this.S14,2304563134),h=this.FF(h,r,n,e,a[12],this.S11,1804603682),e=this.FF(e,h,r,n,a[13],this.S12,4254626195),n=this.FF(n,e,h,r,a[14],this.S13,2792965006),r=this.FF(r,n,e,h,a[15],this.S14,1236535329),h=this.GG(h,r,n,e,a[1],this.S21,4129170786),e=this.GG(e,h,r,n,a[6],this.S22,3225465664),n=this.GG(n,e,h,r,a[11],this.S23,643717713),r=this.GG(r,n,e,h,a[0],this.S24,3921069994),h=this.GG(h,r,n,e,a[5],this.S21,3593408605),e=this.GG(e,h,r,n,a[10],this.S22,38016083),n=this.GG(n,e,h,r,a[15],this.S23,3634488961),r=this.GG(r,n,e,h,a[4],this.S24,3889429448),h=this.GG(h,r,n,e,a[9],this.S21,568446438),e=this.GG(e,h,r,n,a[14],this.S22,3275163606),n=this.GG(n,e,h,r,a[3],this.S23,4107603335),r=this.GG(r,n,e,h,a[8],this.S24,1163531501),h=this.GG(h,r,n,e,a[13],this.S21,2850285829),e=this.GG(e,h,r,n,a[2],this.S22,4243563512),n=this.GG(n,e,h,r,a[7],this.S23,1735328473),r=this.GG(r,n,e,h,a[12],this.S24,2368359562),h=this.HH(h,r,n,e,a[5],this.S31,4294588738),e=this.HH(e,h,r,n,a[8],this.S32,2272392833),n=this.HH(n,e,h,r,a[11],this.S33,1839030562),r=this.HH(r,n,e,h,a[14],this.S34,4259657740),h=this.HH(h,r,n,e,a[1],this.S31,2763975236),e=this.HH(e,h,r,n,a[4],this.S32,1272893353),n=this.HH(n,e,h,r,a[7],this.S33,4139469664),r=this.HH(r,n,e,h,a[10],this.S34,3200236656),h=this.HH(h,r,n,e,a[13],this.S31,681279174),e=this.HH(e,h,r,n,a[0],this.S32,3936430074),n=this.HH(n,e,h,r,a[3],this.S33,3572445317),r=this.HH(r,n,e,h,a[6],this.S34,76029189),h=this.HH(h,r,n,e,a[9],this.S31,3654602809),e=this.HH(e,h,r,n,a[12],this.S32,3873151461),n=this.HH(n,e,h,r,a[15],this.S33,530742520),r=this.HH(r,n,e,h,a[2],this.S34,3299628645),h=this.II(h,r,n,e,a[0],this.S41,4096336452),e=this.II(e,h,r,n,a[7],this.S42,1126891415),n=this.II(n,e,h,r,a[14],this.S43,2878612391),r=this.II(r,n,e,h,a[5],this.S44,4237533241),h=this.II(h,r,n,e,a[12],this.S41,1700485571),e=this.II(e,h,r,n,a[3],this.S42,2399980690),n=this.II(n,e,h,r,a[10],this.S43,4293915773),r=this.II(r,n,e,h,a[1],this.S44,2240044497),h=this.II(h,r,n,e,a[8],this.S41,1873313359),e=this.II(e,h,r,n,a[15],this.S42,4264355552),n=this.II(n,e,h,r,a[6],this.S43,2734768916),r=this.II(r,n,e,h,a[13],this.S44,1309151649),h=this.II(h,r,n,e,a[4],this.S41,4149444226),e=this.II(e,h,r,n,a[11],this.S42,3174756917),n=this.II(n,e,h,r,a[2],this.S43,718787259),r=this.II(r,n,e,h,a[9],this.S44,3951481745),this.state[0]+=h,this.state[1]+=r,this.state[2]+=n,this.state[3]+=e},init:function(){for(this.count[0]=this.count[1]=0,this.state[0]=1732584193,this.state[1]=4023233417,this.state[2]=2562383102,this.state[3]=271733878,i=0;i<this.digestBits.length;i++)this.digestBits[i]=0},update:function(t){var i;i=this.and(this.shr(this.count[0],3),63),this.count[0]<4294967288?this.count[0]+=8:(this.count[1]++,this.count[0]-=4294967296,this.count[0]+=8),this.buffer[i]=this.and(t,255),i>=63&&this.transform(this.buffer,0)},finish:function(){var t,i=new md5_array(8),s=0,h=0,r=0;for(s=0;4>s;s++)i[s]=this.and(this.shr(this.count[0],8*s),255);for(s=0;4>s;s++)i[s+4]=this.and(this.shr(this.count[1],8*s),255);for(h=this.and(this.shr(this.count[0],3),63),r=56>h?56-h:120-h,t=new md5_array(64),t[0]=128,s=0;r>s;s++)this.update(t[s]);for(s=0;8>s;s++)this.update(i[s]);for(s=0;4>s;s++)for(j=0;4>j;j++)this.digestBits[4*s+j]=this.and(this.shr(this.state[s],8*j),255)},hexa:function(t){var i="0123456789abcdef",s="",h=t;for(hexa_i=0;8>hexa_i;hexa_i++)s=i.charAt(Math.abs(h)%16)+s,h=Math.floor(h/16);return s},ascii:"01234567890123456789012345678901 !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",MD5:function(t){var s,h,r,n,e,a,o;for(this.init(),r=0;r<t.length;r++)s=t.charAt(r),this.update(this.ascii.lastIndexOf(s));for(this.finish(),n=e=a=o=0,i=0;4>i;i++)n+=this.shl(this.digestBits[15-i],8*i);for(i=4;8>i;i++)e+=this.shl(this.digestBits[15-i],8*(i-4));for(i=8;12>i;i++)a+=this.shl(this.digestBits[15-i],8*(i-8));for(i=12;16>i;i++)o+=this.shl(this.digestBits[15-i],8*(i-12));return h=this.hexa(o)+this.hexa(a)+this.hexa(e)+this.hexa(n)}});