dojo.declare("Miolo.TextTable",null,{constructor:function(e,t,s){this.id=e,this.table=miolo.getElementById(e),this.rowSelected="",this.lastRow=0,this.onmouse=!0,this.zebra=!0,this.data=new Array,this.textTable=this,this.cols=s,this.iterate(this.init)},setRowClass:function(e,t,s){e.className=this.zebra?"row"+s%2:"row0",e.baseClassName=this.oldClassName=e.className},setRowId:function(e,t){var s=e.parentNode.parentNode;e.id=s.id+"row"+t},init:function(e,t,s,l,a,o,i){t&&(e.textTable=i,i.setRowId(e,s),i.setRowClass(e,t,s),e.onclick=function(){var e=this.textTable;e.select(this.id)},i.onmouse&&(e.onmouseover=function(){this.oldClassName=this.className,this.className="hover"},e.onmouseout=function(){this.className=this.oldClassName}))},iterate:function(e,t){var s,l;if(e)for(s=0;s<this.table.rows.length;++s){if(0==e(this.table.rows[s],!0,s,l,t,this.table,this))return;for(l=0;l<this.table.rows[s].cells.length;++l)if(0==e(this.table.rows[s].cells[l],!1,s,l,t,this.table,this))return}},add:function(e){{var t=miolo.getElementsByTagName("TBODY",this.table).item(0);miolo.getElementsByTagName("TR",t)}if(e.length>0){var s=document.createElement("TR");t.appendChild(s);for(var l=0;l<e.length;l++){var a=document.createElement("TD");s.appendChild(a);var o=document.createTextNode(e[l]);a.appendChild(o)}var i=this.lastRow++;this.init(s,!0,i,null,null,null,this)}},drop:function(e){var t=miolo.getElementsByTagName("TBODY",this.table).item(0),s=miolo.getElementById(e);if(s){t.removeChild(s);var l=this.table.rows.length;for(r=0;l>r;++r)this.setRowClass(this.table.rows[r],!0,r),this.setRowId(this.table.rows[r],r);this.lastRow--,this.rowSelected=""}},modify:function(e,t){var s=miolo.getElementById(e);if(t.length>0){var l=miolo.getElementsByTagName("TD",s);if(l.length>0)for(var a=0;a<l.length;a++)l[a].firstChild.nodeValue=t[a]}},select:function(e){var t=miolo.getElementById(e);e==this.rowSelected?(t.className=t.baseClassName,t.oldClassName=t.baseClassName,this.rowSelected=""):(t.oldClassName=t.className,t.className="hover",""!=this.rowSelected&&(t=miolo.getElementById(this.rowSelected),t.className=t.baseClassName),this.rowSelected=e,this.customSelect())},get:function(e){var t=miolo.getElementById(e),s=miolo.getElementsByTagName("TD",t),l=new Array(s.length);if(s.length>0)for(var a=0;a<s.length;a++)l[a]=s[a].firstChild?s[a].firstChild.nodeValue:"";return l},setdata:function(){var e,t;for(e=0;e<this.table.rows.length;++e)for(this.data[e]=new Array,t=0;t<this.table.rows[e].cells.length;++t)this.data[e][t]=this.table.rows[e].cells[t].firstChild.nodeValue},getdata:function(){return this.setdata(),this.data},customSelect:function(){},unload:function(){this.iterate(function(e){e.onmouseover=e.onmouseout=null})}});