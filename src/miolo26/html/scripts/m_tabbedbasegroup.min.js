dojo.declare("MTabbedBaseGroup",null,{animate:!0,doEffect:!0,ajaxTabs:{},createTab:function(tabId,tabbedBaseGroupId,button,content,ajaxAction){miolo.getElementById("buttons"+tabbedBaseGroupId).innerHTML+=button;var t=miolo.getElementById(tabbedBaseGroupId),d=document.createElement("div");d.innerHTML=content,delete t.childNodes[t.length-1],t.appendChild(d),eval(tabbedBaseGroupId+"Tabs["+tabbedBaseGroupId+"Tabs.length] = '"+tabId+"';"),ajaxAction&&eval("this.ajaxTabs."+tabId+" = true;"),mtabbedbasegroup.changeTab(tabId,tabbedBaseGroupId)},toggleTabState:function(e,a,b){var t=miolo.getElementById(e+"Button");if(t)switch(b){case"enabled":if(t.className="mTab mTabIdle",url=t.getAttribute("onclick")){var d=new RegExp(/^return\sfalse;/);url=url.replace(d," ")+"return mtabbedbasegroup.changeTab('"+e+"','"+a+"');"}else url="return mtabbedbasegroup.changeTab('"+e+"','"+a+"');";t.setAttribute("onclick",url),t.onclick();break;case"disabled":currentTabIndex=mtabbedbasegroup.getCurrentTabIndex(a),t.className="mTab mTabDisabled",t.setAttribute("onclick","return false;"),div=miolo.getElementById(e),div.style.display="none",mtabbedbasegroup.getTabIndex(e,a)==currentTabIndex&&mtabbedbasegroup.changeToClosestTab(currentTabIndex,a);break;case"removed":currentTabIndex=mtabbedbasegroup.getCurrentTabIndex(a),t.className="mTabRemoved",t.innerHTML="",t.setAttribute("onclick",null);var r=miolo.getElementById(e);r&&(r.innerHTML=""),mtabbedbasegroup.getTabIndex(e,a)==currentTabIndex&&mtabbedbasegroup.changeToClosestTab(currentTabIndex,a);break;case"active":t.className="mTab mTabActive",div=miolo.getElementById(e),oldDisplay=div.style.display,div.style.display="block","none"==oldDisplay&&this.doEffect&&this.animate&&(dojo.fx.wipeOut({node:e,duration:0}).play(),dojo.fx.wipeIn({node:e,duration:500}).play());break;case"idle":t.className="mTab mTabIdle",div=miolo.getElementById(e),div.style.display="none"}},enableTab:function(e,a){mtabbedbasegroup.toggleTabState(e,a,"enabled")},disableTab:function(e,a){mtabbedbasegroup.toggleTabState(e,a,"disabled")},removeTab:function(e,a){mtabbedbasegroup.toggleTabState(e,a,"removed")},changeTab:function(tabId,tabbedBaseGroupId){if(this.tabIsSelectable(tabId)){document.mtabbedbasegroup_lastTab=tabId;var tabArray=eval(tabbedBaseGroupId+"Tabs");for(i=0;i<tabArray.length;i++){var currentTab=tabArray[i];tabId==currentTab?mtabbedbasegroup.toggleTabState(currentTab,tabbedBaseGroupId,"active"):mtabbedbasegroup.tabIsSelectable(currentTab)&&mtabbedbasegroup.toggleTabState(currentTab,tabbedBaseGroupId,"idle")}return!1}},changeToClosestTab:function(index,tabbedBaseGroupId){var tabs=eval(tabbedBaseGroupId+"Tabs"),selectId=-1;for(i=index-1;i>=0;i--)if(mtabbedbasegroup.tabIsSelectable(tabs[i])){selectId=i;break}if(-1==selectId)for(i=index+1;i<tabs.length;i++)if(mtabbedbasegroup.tabIsSelectable(tabs[i])){selectId=i;break}for(-1==selectId&&(selectId=index),i=0;i<tabs.length;i++){var currentTab=tabs[i];selectId==i?(mtabbedbasegroup.toggleTabState(currentTab,tabbedBaseGroupId,"active"),document.mtabbedbasegroup_lastTab=currentTab):mtabbedbasegroup.tabIsSelectable(currentTab)&&mtabbedbasegroup.toggleTabState(currentTab,tabbedBaseGroupId,"idle")}return!1},firstTab:function(tabbedBaseGroupId){var tabArray=eval(tabbedBaseGroupId+"Tabs");mtabbedbasegroup.changeTab(tabArray[0],tabbedBaseGroupId)},getTabIndex:function(tabId,tabbedBaseGroupId){var index=!1,tabs=eval(tabbedBaseGroupId+"Tabs");for(i=0;i<tabs.length;i++)if(tabs[i]==tabId){index=i;break}return index},tabIsSelectable:function(e){var a=miolo.getElementById(e+"Button");return!a||"mTab mTabDisabled"!=a.className&&"mTabRemoved"!=a.className},tabIsActive:function(e){var a=miolo.getElementById(e+"Button");return!a||"mTab mTabActive"==a.className},getCurrentTabIndex:function(tabbedBaseGroupId){var index=!1,tabs=eval(tabbedBaseGroupId+"Tabs");for(i=0;i<tabs.length;i++)if(mtabbedbasegroup.tabIsActive(tabs[i])){index=i;break}return index},changeToLastTab:function(e,a){e&&(mtabbedbasegroup.doEffect=!1,e in this.ajaxTabs?miolo.getElementById(e+"Button").onclick():mtabbedbasegroup.changeTab(e,a),mtabbedbasegroup.doEffect=!0)},moveRight:function(tabbedBaseGroupId){var tabArray=eval(tabbedBaseGroupId+"Tabs"),activeTabIndex=mtabbedbasegroup.getCurrentTabIndex(tabbedBaseGroupId),tabLength=tabArray.length,nextTabIndex;nextTabIndex=activeTabIndex==tabLength-1?activeTabIndex:activeTabIndex+1,mtabbedbasegroup.changeTab(tabArray[nextTabIndex],tabbedBaseGroupId)},moveLeft:function(tabbedBaseGroupId){var tabArray=eval(tabbedBaseGroupId+"Tabs"),activeTabIndex=mtabbedbasegroup.getCurrentTabIndex(tabbedBaseGroupId),previousTabIndex;previousTabIndex=0==activeTabIndex?activeTabIndex:activeTabIndex-1,mtabbedbasegroup.changeTab(tabArray[previousTabIndex],tabbedBaseGroupId)}}),mtabbedbasegroup=new MTabbedBaseGroup;