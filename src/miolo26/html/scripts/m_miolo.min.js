dojo.declare("Miolo",null,{Version:"Miolo2.5",webForm:null,fields:null,lastFocusElement:null,constructor:function(){},isIE:document.all?!0:!1,i18n:null,iFrame:{object:null,dialogs:new Array,sufix:0,dragElement:null,base:window,parent:null,getById:function(e){return this.parent.miolo.iFrame.dialogs[e]}},windows:{handle:new Array,sufix:0,base:window},getWindow:function(e){return miolo.windows.handle[""!=e?e:"current"]},addWindow:function(e){return miolo.windows.handle[e]=new MWindow(e),miolo.windows.handle[e]},setWindow:function(e){miolo.windows.handle.current=e},pushWindow:function(e){var o=miolo.windows.handle.current;e.parent=o,miolo.windows.handle.current=e},popWindow:function(){var e=miolo.windows.handle.current;miolo.windows.handle.current=e.parent},forms:{handle:new Array},getForm:function(e){return miolo.forms.handle[e]},addForm:function(e){return miolo.forms.handle[e]=new Miolo.Form(e),miolo.forms.handle[e]},setForm:function(e){var o;miolo.webForm=(o=miolo.getForm(e))?o:miolo.addForm(e)},getCurrentURL:function(){return this.webForm.getAction()},getElementById:function(e){return"string"!=typeof e?e:e=document.getElementById?dojo.byId(e):document.all?document.all[e]:null},getElementsByTagName:function(e,o){var t=null;return e=e||"*",o=o||document,o.getElementsByTagName&&(t=o.getElementsByTagName(e)),t||new Array},setElementValueById:function(e,o){ele=this.getElementById(e),null!=ele&&(ele.value=o)},setElementAttribute:function(e,o,t){dojo.attr(e,o,t)},gotoURL:function(url){var prefix="javascript:";url=url.replace(/&amp;/g,"&"),0==url.indexOf(prefix)?eval(url.substring(11)+";"):window.location=url},window:function(e,o){var t=new xWindow(o,0,0,0,0,0,1,1,1,0,1);return t.load(e)},setTitle:function(e){try{window.top.document.title=e}catch(o){}},associateObjWithEvent:function(e,o){return function(t){return e[o](t,this)}},isHandler:function(e){return e.indexOf("index.php")>-1},submit:function(){return this.doPostBack("","",this.webForm.id)},afterSubmit:function(){this.webForm.validators=null,this.disconnect()},registerEvent:function(e,o,t,n){try{var i=new Function("event",t+(n?" event.preventDefault();":""));this.webForm.connect(e,o,i)}catch(r){this.page.stdout("registerEvent "+e+":"+o+". Error: "+r)}},disconnect:function(){this.webForm&&this.webForm.disconnect()},_doSubmit:function(e,o,t){this.setElementValueById(t+"__ISPOSTBACK","yes"),this.setElementValueById(t+"__EVENTTARGETVALUE",e),this.setElementValueById(t+"__EVENTARGUMENT",o),this.setForm(t)},doPostBack:function(e,o,t){this._doSubmit(e,o,t);var n=this.webForm.onSubmit();return n&&(this.afterSubmit(),this.page.postback()),n},doLinkButton:function(e,o,t,n){this._doSubmit(o,t,n),this.webForm.onSubmit()&&(this.afterSubmit(),e=e.replace(/&amp;/g,"&"),this.webForm.setAction(e),this.page.postback())},doAjax:function(e,o,t){this._doSubmit(e,o,t),this.page.ajax()},doLink:function(e,o){return this.doHandler(e,o),this.webForm.setAction(e),!1},doHandler:function(e,o,t){this.disconnect(),this.setForm(o),e=e.replace(/&amp;/g,"&"),this.page.handler(e),historyControl.lastUrl=e,t||this.registerHistory(e)},doRedirect:function(e,o){this.isHandler(e)?this.doHandler(e,o):(this.disconnect(),window.location=e)},doDisableButton:function(e){this.getElementById(e).disabled=!0},doPrintForm:function(e){{var o=.75*screen.width,t=.6*screen.height;window.open(e,"print","toolbar=no,width="+o+",height="+t+",scrollbars=yes,top=0,left=0,statusbar=yes,resizeable=yes")}},doPrintFile:function(e,o,t){var n=confirm(miolo.i18n.PRINT_FILE);if(n){var i=window.name,r=document.forms[0],s=.95*screen.width,a=.8*screen.height,l=window.open("","print","toolbar=no,width="+s+",height="+a+",scrollbars=yes,top=0,left=0,statusbar=yes,resizeable=yes");r.target="print",this.doPostBack(e,o,t),l.focus(),r.target=i}},doShowPDF:function(e,o,t){var n=confirm(miolo.i18n.PRINT_PDF);n&&this.doPostBack(e,o,t)},doWindow:function(e){var o=(window.name,.95*screen.width),t=.8*screen.height,n=window.open(e,"print","toolbar=no,width="+o+",height="+t+",scrollbars=yes,top=0,left=0,statusbar=yes,resizeable=yes");n.focus()},doPrintURL:function(e){var o=confirm("Clique Ok para imprimir.");if(o){var t=window.name,n=document.forms[0],i=.95*screen.width,r=.8*screen.height,s=window.open(e,"print","toolbar=no,width="+i+",height="+r+",scrollbars=yes,top=0,left=0,statusbar=yes,resizeable=yes");s.focus(),window.print(),n.target=t}},showLoading:function(){try{this.getElementById("mLoadingMessageBg").style.display="block",this.getElementById("mLoadingMessage").style.display="block",this.lastFocusElement=document.activeElement.id,this.setFocus("mLoadingMessageText")}catch(e){}return!0},stopShowLoading:function(){try{this.getElementById("mLoadingMessageBg").style.display="none",this.getElementById("mLoadingMessage").style.display="none",this.lastFocusElement&&this.setFocus(this.lastFocusElement)}catch(e){}return!0},getMousePosition:function(e){is_ie=/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent);var o,t;return is_ie?(t=window.event.clientY+document.body.scrollTop,o=window.event.clientX+document.body.scrollLeft):(t=e.clientY+window.scrollY,o=e.clientX+window.scrollX),new Array(o,t)},currency:function(e){var o=new Miolo.Currency,t=miolo.getElementById(e);o.format(t)},registerHistory:function(e,o){params=e.split("index.php"),dojo.hash(params[1],o)},configureHistory:function(e){window.historyControl={url:e,lastUrl:"",callback:function(o){this.url=o?this.url.split("index.php")[0]+"index.php"+o:e,(""==this.lastUrl||this.url.split("index.php")[1]!=this.lastUrl.split("index.php")[1])&&miolo.doHandler(this.url,"__mainForm",!0)}},dojo.subscribe("/dojo/hashchange",window.historyControl,"callback")},initHistory:function(){window.historyControl.callback(dojo.hash()?dojo.hash():window.historyControl.url.split("index.php")[1])},loadDeps:function(e){dojo.require("dojox.layout.ContentPane"),e?(dojo.require("dojox.mobile"),dojo.require("dojox.mobile.parser"),dojo.requireIf(!dojo.isWebKit,"dojox.mobile.compat"),dojo.ready(function(){dojox.mobile.parser.instantiate([dojo.byId("__mainForm")]),dojox.mobile.parser.instantiate([dojo.byId("__mainForm__scripts")])})):(dojo.require("dojo.parser"),dojo.ready(function(){dojo.parser.instantiate([dojo.byId("__mainForm")]),dojo.parser.instantiate([dojo.byId("__mainForm__scripts")])})),dojo.require("miolo.Dialog"),dojo.require("dijit.form.DateTextBox"),dojo.require("dojo.hash"),dojo.require("dojo.string"),dojo.require("dojo.i18n"),dojo.registerModulePath("miolo","../miolo"),dojo.requireLocalization("miolo","miolo"),miolo.i18n=dojo.i18n.getLocalization("miolo","miolo")},translate:function(e,o){var t=miolo.i18n[e];return o?dojo.string.substitute(t,o):t},urlencode:function(e){return encodeURIComponent(e).replace(/\%20/g,"+").replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/\~/g,"%7E")},urldecode:function(e){return decodeURIComponent(e.replace(/\+/g,"%20").replace(/\%21/g,"!").replace(/\%27/g,"'").replace(/\%28/g,"(").replace(/\%29/g,")").replace(/\%2A/g,"*").replace(/\%7E/g,"~"))},triggerEvent:function(e,o){if(o&&"on"==o.slice(0,2)&&(o=o.slice(2)),dojo.doc.createEvent){var t=dojo.doc.createEvent("HTMLEvents");t.initEvent(o,!0,!0),dojo.byId(e).dispatchEvent(t)}else dojo.doc.createEventObject&&dojo.byId(e).fireEvent("on"+o)},setReadOnly:function(e,o){var t=dojo.byId(e);if(t)if(1==o){t.setAttribute("readonly",!0);var n=t.getAttribute("class");t.setAttribute("class",n+" mReadOnly")}else{t.removeAttribute("readonly");var n=t.getAttribute("class");t.setAttribute("class",n.replace(" mReadOnly",""))}},setFocus:function(e){var o=dojo.query("[id='"+e+"']");o[o.length-1].focus()},removeNonNumbers:function(e){e.value.match(/[^\d]/g)&&(e.value=e.value.replace(/[^\d]/g,""))},getURLParameters:function(e){e||(e=window.location.href);var o={};return e.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(e,t,n){o[t]=n}),o}}),miolo=new Miolo,window.parent&&window.parent.miolo&&(miolo.windows.base=window.parent.miolo.windows.base);var fixIE9=function(){dijit._frames=new function(){var e=[];this.pop=function(){var o;if(e.length)o=e.pop(),o.style.display="";else{if(dojo.isIE<9){var t=dojo.config.dojoBlankHtmlUrl||require.toUrl("dojo","resources/blank.html")+""||'javascript:""',n="<iframe src='"+t+"' style='position: absolute; left: 0px; top: 0px;z-index: -1; filter:Alpha(Opacity=\"0\");'>";o=dojo.doc.createElement(n)}else o=dojo.create("iframe"),o.src='javascript:""',o.className="dijitBackgroundIframe",dojo.style(o,"opacity",.1);o.tabIndex=-1}return o},this.push=function(o){o.style.display="none",e.push(o)}}};setTimeout(fixIE9,0);