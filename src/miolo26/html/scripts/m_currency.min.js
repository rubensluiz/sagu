dojo.declare("Miolo.Currency",null,{constructor:function(){},format:function(e){for(var t=e.value,r="",n=0;n<t.length;n++){var a=t.charAt(n);a>="0"&&"9">=a&&(r+=a)}var o=r.length;return 0==o?!0:3>o?(alert("Dígitos insuficientes para valor monetário!"),e.focus(),!0):(r=r.slice(0,o-2)+","+r.slice(o-2,o),r=this.add(r),void(e.value=r))},remove:function(e){var t=/\(/,r="";return t.test(e)&&(r="-"),t=/\)|\(|[\.]/g,e=e.replace(t,""),e.indexOf("$")>=0&&(e=e.substring(1,e.length)),r+e},add:function(e){var t=/-?[0-9]+\,[0-9]{2}$/;return t.test(e)&&(t.compile("^-"),e=this.addDecimalPoints(e),t.test(e)&&(e="("+e.replace(t,"")+")")),e},addDecimalPoints:function(e){for(var t=new RegExp("(-?[0-9]+)([0-9]{3})");t.test(e);)e=e.replace(t,"$1.$2");return e}});