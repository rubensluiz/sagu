dojo.declare("MWindow",null,{id:"",title:"",href:"",parent:null,form:"",dialog:null,scripts:null,constructor:function(o){this.obj=this,this.id=o},setTitle:function(o){this.title=o},setHref:function(o){this.href=o},open:function(){this.dialog=new miolo.Dialog,dojo.require("dojox.layout.ContentPane"),this.scripts=new dojox.layout.ContentPane({id:this.dialog.domNode.id+"__scripts",executeScripts:!0,cleanContent:!0}),this.obj.form=miolo.webForm.id,miolo.addForm(this.dialog.domNode.id),miolo.setForm(this.dialog.domNode.id),miolo.pushWindow(this.obj),dojo.body().appendChild(this.dialog.domNode),dojo.body().appendChild(this.scripts.domNode),miolo.page.getWindow(this.obj.id,this.dialog.domNode.id,this.obj.href)},close:function(){this.dialog.hide(),miolo.getForm(this.dialog.domNode.id).disconnect();var o=miolo.getElementById(this.dialog.domNode.id+"_underlay_wrapper");dojo.body().removeChild(this.scripts.domNode),dojo.body().removeChild(this.dialog.domNode),o&&dojo.body().removeChild(o),miolo.popWindow(),miolo.setForm(this.obj.form)}});